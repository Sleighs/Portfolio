function s5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YP={exports:{}},sh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var EN=Object.getOwnPropertySymbols,a5=Object.prototype.hasOwnProperty,u5=Object.prototype.propertyIsEnumerable;function l5(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function c5(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var XP=c5()?Object.assign:function(e,t){for(var n,r=l5(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)a5.call(n,a)&&(r[a]=n[a]);if(EN){i=EN(n);for(var l=0;l<i.length;l++)u5.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},JP={exports:{}},Se={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=XP,hl=60103,ZP=60106;Se.Fragment=60107;Se.StrictMode=60108;Se.Profiler=60114;var eO=60109,tO=60110,nO=60112;Se.Suspense=60113;var rO=60115,iO=60116;if(typeof Symbol=="function"&&Symbol.for){var Or=Symbol.for;hl=Or("react.element"),ZP=Or("react.portal"),Se.Fragment=Or("react.fragment"),Se.StrictMode=Or("react.strict_mode"),Se.Profiler=Or("react.profiler"),eO=Or("react.provider"),tO=Or("react.context"),nO=Or("react.forward_ref"),Se.Suspense=Or("react.suspense"),rO=Or("react.memo"),iO=Or("react.lazy")}var bN=typeof Symbol=="function"&&Symbol.iterator;function f5(e){return e===null||typeof e!="object"?null:(e=bN&&e[bN]||e["@@iterator"],typeof e=="function"?e:null)}function ah(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sO={};function dl(e,t,n){this.props=e,this.context=t,this.refs=sO,this.updater=n||oO}dl.prototype.isReactComponent={};dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ah(85));this.updater.enqueueSetState(this,e,t,"setState")};dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aO(){}aO.prototype=dl.prototype;function ub(e,t,n){this.props=e,this.context=t,this.refs=sO,this.updater=n||oO}var lb=ub.prototype=new aO;lb.constructor=ub;ab(lb,dl.prototype);lb.isPureReactComponent=!0;var cb={current:null},uO=Object.prototype.hasOwnProperty,lO={key:!0,ref:!0,__self:!0,__source:!0};function cO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)uO.call(t,r)&&!lO.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:hl,type:e,key:s,ref:a,props:i,_owner:cb.current}}function h5(e,t){return{$$typeof:hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fb(e){return typeof e=="object"&&e!==null&&e.$$typeof===hl}function d5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var TN=/\/+/g;function i_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d5(""+e.key):t.toString(36)}function bp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case hl:case ZP:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+i_(a,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(TN,"$&/")+"/"),bp(i,t,n,"",function(h){return h})):i!=null&&(fb(i)&&(i=h5(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(TN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+i_(s,l);a+=bp(s,t,n,c,i)}else if(c=f5(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+i_(s,l++),a+=bp(s,t,n,c,i);else if(s==="object")throw t=""+e,Error(ah(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Gd(e,t,n){if(e==null)return e;var r=[],i=0;return bp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function p5(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var fO={current:null};function Wi(){var e=fO.current;if(e===null)throw Error(ah(321));return e}var v5={ReactCurrentDispatcher:fO,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:cb,IsSomeRendererActing:{current:!1},assign:ab};Se.Children={map:Gd,forEach:function(e,t,n){Gd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gd(e,function(){t++}),t},toArray:function(e){return Gd(e,function(t){return t})||[]},only:function(e){if(!fb(e))throw Error(ah(143));return e}};Se.Component=dl;Se.PureComponent=ub;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v5;Se.cloneElement=function(e,t,n){if(e==null)throw Error(ah(267,e));var r=ab({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=cb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)uO.call(t,c)&&!lO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:hl,type:e.type,key:i,ref:s,props:r,_owner:a}};Se.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:tO,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:eO,_context:e},e.Consumer=e};Se.createElement=cO;Se.createFactory=function(e){var t=cO.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:nO,render:e}};Se.isValidElement=fb;Se.lazy=function(e){return{$$typeof:iO,_payload:{_status:-1,_result:e},_init:p5}};Se.memo=function(e,t){return{$$typeof:rO,type:e,compare:t===void 0?null:t}};Se.useCallback=function(e,t){return Wi().useCallback(e,t)};Se.useContext=function(e,t){return Wi().useContext(e,t)};Se.useDebugValue=function(){};Se.useEffect=function(e,t){return Wi().useEffect(e,t)};Se.useImperativeHandle=function(e,t,n){return Wi().useImperativeHandle(e,t,n)};Se.useLayoutEffect=function(e,t){return Wi().useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Wi().useMemo(e,t)};Se.useReducer=function(e,t,n){return Wi().useReducer(e,t,n)};Se.useRef=function(e){return Wi().useRef(e)};Se.useState=function(e){return Wi().useState(e)};Se.version="17.0.2";JP.exports=Se;var V=JP.exports;const hb=ig(V),g5=s5({__proto__:null,default:hb},[V]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5=V,hO=60103;sh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var IN=Symbol.for;hO=IN("react.element"),sh.Fragment=IN("react.fragment")}var y5=m5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_5=Object.prototype.hasOwnProperty,w5={key:!0,ref:!0,__self:!0,__source:!0};function dO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)_5.call(t,r)&&!w5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hO,type:e,key:s,ref:a,props:i,_owner:y5.current}}sh.jsx=dO;sh.jsxs=dO;YP.exports=sh;var k=YP.exports,pO={exports:{}},br={},vO={exports:{}},gO={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,h=null,p=function(){if(c!==null)try{var K=e.unstable_now();c(!0,K),c=null}catch(se){throw setTimeout(p,0),se}};t=function(K){c!==null?setTimeout(t,0,K):(c=K,setTimeout(p,0))},n=function(K,se){h=setTimeout(K,se)},r=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var E=!1,I=null,w=-1,T=5,S=0;e.unstable_shouldYield=function(){return e.unstable_now()>=S},i=function(){},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5};var N=new MessageChannel,P=N.port2;N.port1.onmessage=function(){if(I!==null){var K=e.unstable_now();S=K+T;try{I(!0,K)?P.postMessage(null):(E=!1,I=null)}catch(se){throw P.postMessage(null),se}}else E=!1},t=function(K){I=K,E||(E=!0,P.postMessage(null))},n=function(K,se){w=g(function(){K(e.unstable_now())},se)},r=function(){m(w),w=-1}}function M(K,se){var pe=K.length;K.push(se);e:for(;;){var ze=pe-1>>>1,vt=K[ze];if(vt!==void 0&&0<U(vt,se))K[ze]=se,K[pe]=vt,pe=ze;else break e}}function O(K){return K=K[0],K===void 0?null:K}function W(K){var se=K[0];if(se!==void 0){var pe=K.pop();if(pe!==se){K[0]=pe;e:for(var ze=0,vt=K.length;ze<vt;){var Sr=2*(ze+1)-1,Hr=K[Sr],Pe=Sr+1,Zi=K[Pe];if(Hr!==void 0&&0>U(Hr,pe))Zi!==void 0&&0>U(Zi,Hr)?(K[ze]=Zi,K[Pe]=pe,ze=Pe):(K[ze]=Hr,K[Sr]=pe,ze=Sr);else if(Zi!==void 0&&0>U(Zi,pe))K[ze]=Zi,K[Pe]=pe,ze=Pe;else break e}}return se}return null}function U(K,se){var pe=K.sortIndex-se.sortIndex;return pe!==0?pe:K.id-se.id}var Q=[],x=[],wi=1,It=null,St=3,Xi=!1,qn=!1,Ir=!1;function Pa(K){for(var se=O(x);se!==null;){if(se.callback===null)W(x);else if(se.startTime<=K)W(x),se.sortIndex=se.expirationTime,M(Q,se);else break;se=O(x)}}function Ft(K){if(Ir=!1,Pa(K),!qn)if(O(Q)!==null)qn=!0,t(is);else{var se=O(x);se!==null&&n(Ft,se.startTime-K)}}function is(K,se){qn=!1,Ir&&(Ir=!1,r()),Xi=!0;var pe=St;try{for(Pa(se),It=O(Q);It!==null&&(!(It.expirationTime>se)||K&&!e.unstable_shouldYield());){var ze=It.callback;if(typeof ze=="function"){It.callback=null,St=It.priorityLevel;var vt=ze(It.expirationTime<=se);se=e.unstable_now(),typeof vt=="function"?It.callback=vt:It===O(Q)&&W(Q),Pa(se)}else W(Q);It=O(Q)}if(It!==null)var Sr=!0;else{var Hr=O(x);Hr!==null&&n(Ft,Hr.startTime-se),Sr=!1}return Sr}finally{It=null,St=pe,Xi=!1}}var Ji=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){qn||Xi||(qn=!0,t(is))},e.unstable_getCurrentPriorityLevel=function(){return St},e.unstable_getFirstCallbackNode=function(){return O(Q)},e.unstable_next=function(K){switch(St){case 1:case 2:case 3:var se=3;break;default:se=St}var pe=St;St=se;try{return K()}finally{St=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Ji,e.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=St;St=K;try{return se()}finally{St=pe}},e.unstable_scheduleCallback=function(K,se,pe){var ze=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,K){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=pe+vt,K={id:wi++,callback:se,priorityLevel:K,startTime:pe,expirationTime:vt,sortIndex:-1},pe>ze?(K.sortIndex=pe,M(x,K),O(Q)===null&&K===O(x)&&(Ir?r():Ir=!0,n(Ft,pe-ze))):(K.sortIndex=vt,M(Q,K),qn||Xi||(qn=!0,t(is))),K},e.unstable_wrapCallback=function(K){var se=St;return function(){var pe=St;St=se;try{return K.apply(this,arguments)}finally{St=pe}}}})(gO);vO.exports=gO;var E5=vO.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=V,Qe=XP,Lt=E5;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!og)throw Error(q(227));var mO=new Set,yf={};function pa(e,t){Fu(e,t),Fu(e+"Capture",t)}function Fu(e,t){for(yf[e]=t,e=0;e<t.length;e++)mO.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SN=Object.prototype.hasOwnProperty,kN={},CN={};function T5(e){return SN.call(CN,e)?!0:SN.call(kN,e)?!1:b5.test(e)?CN[e]=!0:(kN[e]=!0,!1)}function I5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S5(e,t,n,r){if(t===null||typeof t>"u"||I5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var db=/[\-:]([a-z])/g;function pb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(db,pb);Qt[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(db,pb);Qt[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(db,pb);Qt[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function vb(e,t,n,r){var i=Qt.hasOwnProperty(t)?Qt[t]:null,s=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(S5(t,n,i,r)&&(n=null),r||i===null?T5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var va=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jc=60103,Os=60106,go=60107,gb=60108,Wc=60114,mb=60109,yb=60110,sg=60112,Hc=60113,$p=60120,ag=60115,_b=60116,wb=60121,Eb=60128,yO=60129,bb=60130,hw=60131;if(typeof Symbol=="function"&&Symbol.for){var Ct=Symbol.for;jc=Ct("react.element"),Os=Ct("react.portal"),go=Ct("react.fragment"),gb=Ct("react.strict_mode"),Wc=Ct("react.profiler"),mb=Ct("react.provider"),yb=Ct("react.context"),sg=Ct("react.forward_ref"),Hc=Ct("react.suspense"),$p=Ct("react.suspense_list"),ag=Ct("react.memo"),_b=Ct("react.lazy"),wb=Ct("react.block"),Ct("react.scope"),Eb=Ct("react.opaque.id"),yO=Ct("react.debug_trace_mode"),bb=Ct("react.offscreen"),hw=Ct("react.legacy_hidden")}var NN=typeof Symbol=="function"&&Symbol.iterator;function _c(e){return e===null||typeof e!="object"?null:(e=NN&&e[NN]||e["@@iterator"],typeof e=="function"?e:null)}var o_;function Uc(e){if(o_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);o_=t&&t[1]||""}return`
`+o_+e}var s_=!1;function Qd(e,t){if(!e||s_)return"";s_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{s_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Uc(e):""}function k5(e){switch(e.tag){case 5:return Uc(e.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return e=Qd(e.type,!1),e;case 11:return e=Qd(e.type.render,!1),e;case 22:return e=Qd(e.type._render,!1),e;case 1:return e=Qd(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case Os:return"Portal";case Wc:return"Profiler";case gb:return"StrictMode";case Hc:return"Suspense";case $p:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yb:return(e.displayName||"Context")+".Consumer";case mb:return(e._context.displayName||"Context")+".Provider";case sg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case ag:return Eu(e.type);case wb:return Eu(e._render);case _b:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _O(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C5(e){var t=_O(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yd(e){e._valueTracker||(e._valueTracker=C5(e))}function wO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_O(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dw(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function AN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EO(e,t){t=t.checked,t!=null&&vb(e,"checked",t,!1)}function pw(e,t){EO(e,t);var n=Uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vw(e,t.type,n):t.hasOwnProperty("defaultValue")&&vw(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vw(e,t,n){(t!=="number"||qp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function N5(e){var t="";return og.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function gw(e,t){return e=Qe({children:void 0},t),(t=N5(t.children))&&(e.children=t),e}function bu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function bO(e,t){var n=Uo(t.value),r=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var yw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function TO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _w(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xd,IO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==yw.svg||"innerHTML"in e)e.innerHTML=t;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _f(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A5=["Webkit","ms","Moz","O"];Object.keys(Kc).forEach(function(e){A5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kc[t]=Kc[e]})});function SO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kc.hasOwnProperty(e)&&Kc[e]?(""+t).trim():t+"px"}function kO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var R5=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ww(e,t){if(t){if(R5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ew(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bw=null,Tu=null,Iu=null;function ON(e){if(e=lh(e)){if(typeof bw!="function")throw Error(q(280));var t=e.stateNode;t&&(t=dg(t),bw(e.stateNode,e.type,t))}}function CO(e){Tu?Iu?Iu.push(e):Iu=[e]:Tu=e}function NO(){if(Tu){var e=Tu,t=Iu;if(Iu=Tu=null,ON(e),t)for(e=0;e<t.length;e++)ON(t[e])}}function Ib(e,t){return e(t)}function AO(e,t,n,r,i){return e(t,n,r,i)}function Sb(){}var RO=Ib,Ds=!1,a_=!1;function kb(){(Tu!==null||Iu!==null)&&(Sb(),NO())}function x5(e,t,n){if(a_)return e(t,n);a_=!0;try{return RO(e,t,n)}finally{a_=!1,kb()}}function wf(e,t){var n=e.stateNode;if(n===null)return null;var r=dg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Tw=!1;if(Vi)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){Tw=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{Tw=!1}function P5(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Gc=!1,zp=null,Wp=!1,Iw=null,O5={onError:function(e){Gc=!0,zp=e}};function D5(e,t,n,r,i,s,a,l,c){Gc=!1,zp=null,P5.apply(O5,arguments)}function L5(e,t,n,r,i,s,a,l,c){if(D5.apply(this,arguments),Gc){if(Gc){var h=zp;Gc=!1,zp=null}else throw Error(q(198));Wp||(Wp=!0,Iw=h)}}function ga(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DN(e){if(ga(e)!==e)throw Error(q(188))}function M5(e){var t=e.alternate;if(!t){if(t=ga(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return DN(i),e;if(s===r)return DN(i),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function PO(e){if(e=M5(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function LN(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var OO,Cb,DO,LO,Sw=!1,ni=[],ko=null,Co=null,No=null,Ef=new Map,bf=new Map,Ec=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function FN(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(t.pointerId)}}function bc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e=kw(t,n,r,i,s),t!==null&&(t=lh(t),t!==null&&Cb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function F5(e,t,n,r,i){switch(t){case"focusin":return ko=bc(ko,e,t,n,r,i),!0;case"dragenter":return Co=bc(Co,e,t,n,r,i),!0;case"mouseover":return No=bc(No,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ef.set(s,bc(Ef.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bf.set(s,bc(bf.get(s)||null,e,t,n,r,i)),!0}return!1}function j5(e){var t=Ls(e.target);if(t!==null){var n=ga(t);if(n!==null){if(t=n.tag,t===13){if(t=xO(n),t!==null){e.blockedOn=t,LO(e.lanePriority,function(){Lt.unstable_runWithPriority(e.priority,function(){DO(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=lh(n),t!==null&&Cb(t),e.blockedOn=n,!1;t.shift()}return!0}function jN(e,t,n){Tp(e)&&n.delete(t)}function U5(){for(Sw=!1;0<ni.length;){var e=ni[0];if(e.blockedOn!==null){e=lh(e.blockedOn),e!==null&&OO(e);break}for(var t=e.targetContainers;0<t.length;){var n=xb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&ni.shift()}ko!==null&&Tp(ko)&&(ko=null),Co!==null&&Tp(Co)&&(Co=null),No!==null&&Tp(No)&&(No=null),Ef.forEach(jN),bf.forEach(jN)}function Tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Sw||(Sw=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,U5)))}function MO(e){function t(i){return Tc(i,e)}if(0<ni.length){Tc(ni[0],e);for(var n=1;n<ni.length;n++){var r=ni[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ko!==null&&Tc(ko,e),Co!==null&&Tc(Co,e),No!==null&&Tc(No,e),Ef.forEach(t),bf.forEach(t),n=0;n<Ec.length;n++)r=Ec[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ec.length&&(n=Ec[0],n.blockedOn===null);)j5(n),n.blockedOn===null&&Ec.shift()}function Jd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var du={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},u_={},FO={};Vi&&(FO=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function ug(e){if(u_[e])return u_[e];if(!du[e])return e;var t=du[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in FO)return u_[e]=t[n];return e}var jO=ug("animationend"),UO=ug("animationiteration"),VO=ug("animationstart"),BO=ug("transitionend"),$O=new Map,Nb=new Map,V5=["abort","abort",jO,"animationEnd",UO,"animationIteration",VO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",BO,"transitionEnd","waiting","waiting"];function Ab(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nb.set(r,t),$O.set(r,i),pa(i,[r])}}var B5=Lt.unstable_now;B5();var Ue=8;function uu(e){if(1&e)return Ue=15,1;if(2&e)return Ue=14,2;if(4&e)return Ue=13,4;var t=24&e;return t!==0?(Ue=12,t):e&32?(Ue=11,32):(t=192&e,t!==0?(Ue=10,t):e&256?(Ue=9,256):(t=3584&e,t!==0?(Ue=8,t):e&4096?(Ue=7,4096):(t=4186112&e,t!==0?(Ue=6,t):(t=62914560&e,t!==0?(Ue=5,t):e&67108864?(Ue=4,67108864):e&134217728?(Ue=3,134217728):(t=805306368&e,t!==0?(Ue=2,t):1073741824&e?(Ue=1,1073741824):(Ue=8,e))))))}function $5(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function q5(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(q(358,e))}}function Tf(e,t){var n=e.pendingLanes;if(n===0)return Ue=0;var r=0,i=0,s=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(s!==0)r=s,i=Ue=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(r=uu(c),i=Ue):(l&=s,l!==0&&(r=uu(l),i=Ue))}else s=n&~a,s!==0?(r=uu(s),i=Ue):l!==0&&(r=uu(l),i=Ue);if(r===0)return 0;if(r=31-Vo(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&a)){if(uu(t),i<=Ue)return t;Ue=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vo(t),i=1<<n,r|=e[n],t&=~i;return r}function qO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hp(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=lu(24&~t),e===0?Hp(10,t):e;case 10:return e=lu(192&~t),e===0?Hp(8,t):e;case 8:return e=lu(3584&~t),e===0&&(e=lu(4186112&~t),e===0&&(e=512)),e;case 2:return t=lu(805306368&~t),t===0&&(t=268435456),t}throw Error(q(358,e))}function lu(e){return e&-e}function l_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lg(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Vo(t),e[t]=n}var Vo=Math.clz32?Math.clz32:H5,z5=Math.log,W5=Math.LN2;function H5(e){return e===0?32:31-(z5(e)/W5|0)|0}var K5=Lt.unstable_UserBlockingPriority,G5=Lt.unstable_runWithPriority,Ip=!0;function Q5(e,t,n,r){Ds||Sb();var i=Rb,s=Ds;Ds=!0;try{AO(i,e,t,n,r)}finally{(Ds=s)||kb()}}function Y5(e,t,n,r){G5(K5,Rb.bind(null,e,t,n,r))}function Rb(e,t,n,r){if(Ip){var i;if((i=(t&4)===0)&&0<ni.length&&-1<MN.indexOf(e))e=kw(null,e,t,n,r),ni.push(e);else{var s=xb(e,t,n,r);if(s===null)i&&FN(e,r);else{if(i){if(-1<MN.indexOf(e)){e=kw(s,e,t,n,r),ni.push(e);return}if(F5(s,e,t,n,r))return;FN(e,r)}nD(e,t,r,null,n)}}}}function xb(e,t,n,r){var i=Tb(r);if(i=Ls(i),i!==null){var s=ga(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=xO(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return nD(e,t,r,i,n),null}var Eo=null,Pb=null,Sp=null;function zO(){if(Sp)return Sp;var e,t=Pb,n=t.length,r,i="value"in Eo?Eo.value:Eo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Sp=i.slice(e,1<r?1-r:void 0)}function kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zd(){return!0}function UN(){return!1}function rr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zd:UN,this.isPropagationStopped=UN,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),t}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ob=rr(pl),uh=Qe({},pl,{view:0,detail:0}),X5=rr(uh),c_,f_,Ic,cg=Qe({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Db,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ic&&(Ic&&e.type==="mousemove"?(c_=e.screenX-Ic.screenX,f_=e.screenY-Ic.screenY):f_=c_=0,Ic=e),c_)},movementY:function(e){return"movementY"in e?e.movementY:f_}}),VN=rr(cg),J5=Qe({},cg,{dataTransfer:0}),Z5=rr(J5),eq=Qe({},uh,{relatedTarget:0}),h_=rr(eq),tq=Qe({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),nq=rr(tq),rq=Qe({},pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iq=rr(rq),oq=Qe({},pl,{data:0}),BN=rr(oq),sq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uq[e])?!!t[e]:!1}function Db(){return lq}var cq=Qe({},uh,{key:function(e){if(e.key){var t=sq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Db,charCode:function(e){return e.type==="keypress"?kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fq=rr(cq),hq=Qe({},cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$N=rr(hq),dq=Qe({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Db}),pq=rr(dq),vq=Qe({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gq=rr(vq),mq=Qe({},cg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yq=rr(mq),_q=[9,13,27,32],Lb=Vi&&"CompositionEvent"in window,Qc=null;Vi&&"documentMode"in document&&(Qc=document.documentMode);var wq=Vi&&"TextEvent"in window&&!Qc,WO=Vi&&(!Lb||Qc&&8<Qc&&11>=Qc),qN=" ",zN=!1;function HO(e,t){switch(e){case"keyup":return _q.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pu=!1;function Eq(e,t){switch(e){case"compositionend":return KO(t);case"keypress":return t.which!==32?null:(zN=!0,qN);case"textInput":return e=t.data,e===qN&&zN?null:e;default:return null}}function bq(e,t){if(pu)return e==="compositionend"||!Lb&&HO(e,t)?(e=zO(),Sp=Pb=Eo=null,pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WO&&t.locale!=="ko"?null:t.data;default:return null}}var Tq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tq[e.type]:t==="textarea"}function GO(e,t,n,r){CO(r),t=Kp(t,"onChange"),0<t.length&&(n=new Ob("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yc=null,If=null;function Iq(e){ZO(e,0)}function fg(e){var t=gu(e);if(wO(t))return e}function Sq(e,t){if(e==="change")return t}var QO=!1;if(Vi){var d_;if(Vi){var p_="oninput"in document;if(!p_){var HN=document.createElement("div");HN.setAttribute("oninput","return;"),p_=typeof HN.oninput=="function"}d_=p_}else d_=!1;QO=d_&&(!document.documentMode||9<document.documentMode)}function KN(){Yc&&(Yc.detachEvent("onpropertychange",YO),If=Yc=null)}function YO(e){if(e.propertyName==="value"&&fg(If)){var t=[];if(GO(t,If,e,Tb(e)),e=Iq,Ds)e(t);else{Ds=!0;try{Ib(e,t)}finally{Ds=!1,kb()}}}}function kq(e,t,n){e==="focusin"?(KN(),Yc=t,If=n,Yc.attachEvent("onpropertychange",YO)):e==="focusout"&&KN()}function Cq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fg(If)}function Nq(e,t){if(e==="click")return fg(t)}function Aq(e,t){if(e==="input"||e==="change")return fg(t)}function Rq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:Rq,xq=Object.prototype.hasOwnProperty;function Sf(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!xq.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function GN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QN(e,t){var n=GN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GN(n)}}function XO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YN(){for(var e=window,t=qp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qp(e.document)}return t}function Cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pq=Vi&&"documentMode"in document&&11>=document.documentMode,vu=null,Nw=null,Xc=null,Aw=!1;function XN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aw||vu==null||vu!==qp(r)||(r=vu,"selectionStart"in r&&Cw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xc&&Sf(Xc,r)||(Xc=r,r=Kp(Nw,"onSelect"),0<r.length&&(t=new Ob("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vu)))}Ab("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ab("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ab(V5,2);for(var JN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),v_=0;v_<JN.length;v_++)Nb.set(JN[v_],0);Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function ZN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,L5(r,t,void 0,e),e.currentTarget=null}function ZO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;ZN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;ZN(i,l,h),s=c}}}if(Wp)throw e=Iw,Wp=!1,Iw=null,e}function Be(e,t){var n=iD(t),r=e+"__bubble";n.has(r)||(tD(t,e,2,!1),n.add(r))}var eA="_reactListening"+Math.random().toString(36).slice(2);function eD(e){e[eA]||(e[eA]=!0,mO.forEach(function(t){JO.has(t)||tA(t,!1,e,null),tA(t,!0,e,null)}))}function tA(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&JO.has(e)){if(e!=="scroll")return;i|=2,s=r}var a=iD(s),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),tD(s,e,i,t),a.add(l))}function tD(e,t,n,r){var i=Nb.get(t);switch(i===void 0?2:i){case 0:i=Q5;break;case 1:i=Y5;break;default:i=Rb}n=i.bind(null,t,n,e),i=void 0,!Tw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nD(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ls(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}x5(function(){var h=s,p=Tb(n),g=[];e:{var m=$O.get(e);if(m!==void 0){var y=Ob,E=e;switch(e){case"keypress":if(kp(n)===0)break e;case"keydown":case"keyup":y=fq;break;case"focusin":E="focus",y=h_;break;case"focusout":E="blur",y=h_;break;case"beforeblur":case"afterblur":y=h_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=pq;break;case jO:case UO:case VO:y=nq;break;case BO:y=gq;break;case"scroll":y=X5;break;case"wheel":y=yq;break;case"copy":case"cut":case"paste":y=iq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$N}var I=(t&4)!==0,w=!I&&e==="scroll",T=I?m!==null?m+"Capture":null:m;I=[];for(var S=h,N;S!==null;){N=S;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,T!==null&&(P=wf(S,T),P!=null&&I.push(kf(S,P,N)))),w)break;S=S.return}0<I.length&&(m=new y(m,E,null,n,p),g.push({event:m,listeners:I}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&!(t&16)&&(E=n.relatedTarget||n.fromElement)&&(Ls(E)||E[vl]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=h,E=E?Ls(E):null,E!==null&&(w=ga(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=h),y!==E)){if(I=VN,P="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=$N,P="onPointerLeave",T="onPointerEnter",S="pointer"),w=y==null?m:gu(y),N=E==null?m:gu(E),m=new I(P,S+"leave",y,n,p),m.target=w,m.relatedTarget=N,P=null,Ls(p)===h&&(I=new I(T,S+"enter",E,n,p),I.target=N,I.relatedTarget=w,P=I),w=P,y&&E)t:{for(I=y,T=E,S=0,N=I;N;N=ru(N))S++;for(N=0,P=T;P;P=ru(P))N++;for(;0<S-N;)I=ru(I),S--;for(;0<N-S;)T=ru(T),N--;for(;S--;){if(I===T||T!==null&&I===T.alternate)break t;I=ru(I),T=ru(T)}I=null}else I=null;y!==null&&nA(g,m,y,I,!1),E!==null&&w!==null&&nA(g,w,E,I,!0)}}e:{if(m=h?gu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=Sq;else if(WN(m))if(QO)M=Aq;else{M=Cq;var O=kq}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=Nq);if(M&&(M=M(e,h))){GO(g,M,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&vw(m,"number",m.value)}switch(O=h?gu(h):window,e){case"focusin":(WN(O)||O.contentEditable==="true")&&(vu=O,Nw=h,Xc=null);break;case"focusout":Xc=Nw=vu=null;break;case"mousedown":Aw=!0;break;case"contextmenu":case"mouseup":case"dragend":Aw=!1,XN(g,n,p);break;case"selectionchange":if(Pq)break;case"keydown":case"keyup":XN(g,n,p)}var W;if(Lb)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else pu?HO(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(WO&&n.locale!=="ko"&&(pu||U!=="onCompositionStart"?U==="onCompositionEnd"&&pu&&(W=zO()):(Eo=p,Pb="value"in Eo?Eo.value:Eo.textContent,pu=!0)),O=Kp(h,U),0<O.length&&(U=new BN(U,e,null,n,p),g.push({event:U,listeners:O}),W?U.data=W:(W=KO(n),W!==null&&(U.data=W)))),(W=wq?Eq(e,n):bq(e,n))&&(h=Kp(h,"onBeforeInput"),0<h.length&&(p=new BN("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=W))}ZO(g,t)})}function kf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wf(e,n),s!=null&&r.unshift(kf(e,s,i)),s=wf(e,t),s!=null&&r.push(kf(e,s,i))),e=e.return}return r}function ru(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=wf(n,s),c!=null&&a.unshift(kf(n,c,l))):i||(c=wf(n,s),c!=null&&a.push(kf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function Gp(){}var g_=null,m_=null;function rD(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Rw(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rA=typeof setTimeout=="function"?setTimeout:void 0,Oq=typeof clearTimeout=="function"?clearTimeout:void 0;function Mb(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Su(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function iA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var y_=0;function Dq(e){return{$$typeof:Eb,toString:e,valueOf:e}}var hg=Math.random().toString(36).slice(2),bo="__reactFiber$"+hg,Qp="__reactProps$"+hg,vl="__reactContainer$"+hg,oA="__reactEvents$"+hg;function Ls(e){var t=e[bo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vl]||n[bo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iA(e);e!==null;){if(n=e[bo])return n;e=iA(e)}return t}e=n,n=e.parentNode}return null}function lh(e){return e=e[bo]||e[vl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function dg(e){return e[Qp]||null}function iD(e){var t=e[oA];return t===void 0&&(t=e[oA]=new Set),t}var xw=[],mu=-1;function Yo(e){return{current:e}}function qe(e){0>mu||(e.current=xw[mu],xw[mu]=null,mu--)}function nt(e,t){mu++,xw[mu]=e.current,e.current=t}var Bo={},ln=Yo(Bo),Mn=Yo(!1),Js=Bo;function ju(e,t){var n=e.type.contextTypes;if(!n)return Bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(e){return e=e.childContextTypes,e!=null}function Yp(){qe(Mn),qe(ln)}function sA(e,t,n){if(ln.current!==Bo)throw Error(q(168));nt(ln,t),nt(Mn,n)}function oD(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,Eu(t)||"Unknown",i));return Qe({},n,r)}function Cp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,Js=ln.current,nt(ln,e),nt(Mn,Mn.current),!0}function aA(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=oD(e,t,Js),r.__reactInternalMemoizedMergedChildContext=e,qe(Mn),qe(ln),nt(ln,e)):qe(Mn),nt(Mn,n)}var Fb=null,Ws=null,Lq=Lt.unstable_runWithPriority,jb=Lt.unstable_scheduleCallback,Pw=Lt.unstable_cancelCallback,Mq=Lt.unstable_shouldYield,uA=Lt.unstable_requestPaint,Ow=Lt.unstable_now,Fq=Lt.unstable_getCurrentPriorityLevel,pg=Lt.unstable_ImmediatePriority,sD=Lt.unstable_UserBlockingPriority,aD=Lt.unstable_NormalPriority,uD=Lt.unstable_LowPriority,lD=Lt.unstable_IdlePriority,__={},jq=uA!==void 0?uA:function(){},Ai=null,Np=null,w_=!1,lA=Ow(),nn=1e4>lA?Ow:function(){return Ow()-lA};function Uu(){switch(Fq()){case pg:return 99;case sD:return 98;case aD:return 97;case uD:return 96;case lD:return 95;default:throw Error(q(332))}}function cD(e){switch(e){case 99:return pg;case 98:return sD;case 97:return aD;case 96:return uD;case 95:return lD;default:throw Error(q(332))}}function Zs(e,t){return e=cD(e),Lq(e,t)}function Cf(e,t,n){return e=cD(e),jb(e,t,n)}function mi(){if(Np!==null){var e=Np;Np=null,Pw(e)}fD()}function fD(){if(!w_&&Ai!==null){w_=!0;var e=0;try{var t=Ai;Zs(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Ai=null}catch(n){throw Ai!==null&&(Ai=Ai.slice(e+1)),jb(pg,mi),n}finally{w_=!1}}}var Uq=va.ReactCurrentBatchConfig;function jr(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Xp=Yo(null),Jp=null,yu=null,Zp=null;function Ub(){Zp=yu=Jp=null}function Vb(e){var t=Xp.current;qe(Xp),e.type._context._currentValue=t}function hD(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function ku(e,t){Jp=e,Zp=yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vr=!0),e.firstContext=null)}function yr(e,t){if(Zp!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Zp=e,t=1073741823),t={context:e,observedBits:t,next:null},yu===null){if(Jp===null)throw Error(q(308));yu=t,Jp.dependencies={lanes:0,firstContext:t,responders:null}}else yu=yu.next=t;return e._currentValue}var po=!1;function Bb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function dD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function cA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nf(e,t,n,r){var i=e.updateQueue;po=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;if(p!==null){p=p.updateQueue;var g=p.lastBaseUpdate;g!==a&&(g===null?p.firstBaseUpdate=h:g.next=h,p.lastBaseUpdate=c)}}if(s!==null){g=i.baseState,a=0,p=h=c=null;do{l=s.lane;var m=s.eventTime;if((r&l)===l){p!==null&&(p=p.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,E=s;switch(l=t,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){g=y.call(m,g,l);break e}g=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=E.payload,l=typeof y=="function"?y.call(m,g,l):y,l==null)break e;g=Qe({},g,l);break e;case 2:po=!0}}s.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else m={eventTime:m,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(h=p=m,c=g):p=p.next=m,a|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(!0);p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,fh|=a,e.lanes=a,e.memoizedState=g}}function fA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var pD=new og.Component().refs;function ev(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vg={isMounted:function(e){return(e=e._reactInternals)?ga(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zn(),i=xo(e),s=Ao(r,i);s.payload=t,n!=null&&(s.callback=n),Ro(e,s),Po(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zn(),i=xo(e),s=Ao(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),Ro(e,s),Po(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),r=xo(e),i=Ao(n,r);i.tag=2,t!=null&&(i.callback=t),Ro(e,i),Po(e,r,n)}};function hA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Sf(n,r)||!Sf(i,s):!0}function vD(e,t,n){var r=!1,i=Bo,s=t.contextType;return typeof s=="object"&&s!==null?s=yr(s):(i=Fn(t)?Js:ln.current,r=t.contextTypes,s=(r=r!=null)?ju(e,i):Bo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function dA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vg.enqueueReplaceState(t,t.state,null)}function Dw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pD,Bb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yr(s):(s=Fn(t)?Js:ln.current,i.context=ju(e,s)),Nf(e,n,i,r),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ev(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vg.enqueueReplaceState(i,i.state,null),Nf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var ep=Array.isArray;function Sc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=r.refs;a===pD&&(a=r.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function tp(e,t){if(e.type!=="textarea")throw Error(q(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function gD(e){function t(w,T){if(e){var S=w.lastEffect;S!==null?(S.nextEffect=T,w.lastEffect=T):w.firstEffect=w.lastEffect=T,T.nextEffect=null,T.flags=8}}function n(w,T){if(!e)return null;for(;T!==null;)t(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=qo(w,T),w.index=0,w.sibling=null,w}function s(w,T,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<T?(w.flags=2,T):S):(w.flags=2,T)):T}function a(w){return e&&w.alternate===null&&(w.flags=2),w}function l(w,T,S,N){return T===null||T.tag!==6?(T=S_(S,w.mode,N),T.return=w,T):(T=i(T,S),T.return=w,T)}function c(w,T,S,N){return T!==null&&T.elementType===S.type?(N=i(T,S.props),N.ref=Sc(w,T,S),N.return=w,N):(N=Pp(S.type,S.key,S.props,null,w.mode,N),N.ref=Sc(w,T,S),N.return=w,N)}function h(w,T,S,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=k_(S,w.mode,N),T.return=w,T):(T=i(T,S.children||[]),T.return=w,T)}function p(w,T,S,N,P){return T===null||T.tag!==7?(T=Ru(S,w.mode,N,P),T.return=w,T):(T=i(T,S),T.return=w,T)}function g(w,T,S){if(typeof T=="string"||typeof T=="number")return T=S_(""+T,w.mode,S),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jc:return S=Pp(T.type,T.key,T.props,null,w.mode,S),S.ref=Sc(w,null,T),S.return=w,S;case Os:return T=k_(T,w.mode,S),T.return=w,T}if(ep(T)||_c(T))return T=Ru(T,w.mode,S,null),T.return=w,T;tp(w,T)}return null}function m(w,T,S,N){var P=T!==null?T.key:null;if(typeof S=="string"||typeof S=="number")return P!==null?null:l(w,T,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jc:return S.key===P?S.type===go?p(w,T,S.props.children,N,P):c(w,T,S,N):null;case Os:return S.key===P?h(w,T,S,N):null}if(ep(S)||_c(S))return P!==null?null:p(w,T,S,N,null);tp(w,S)}return null}function y(w,T,S,N,P){if(typeof N=="string"||typeof N=="number")return w=w.get(S)||null,l(T,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jc:return w=w.get(N.key===null?S:N.key)||null,N.type===go?p(T,w,N.props.children,P,N.key):c(T,w,N,P);case Os:return w=w.get(N.key===null?S:N.key)||null,h(T,w,N,P)}if(ep(N)||_c(N))return w=w.get(S)||null,p(T,w,N,P,null);tp(T,N)}return null}function E(w,T,S,N){for(var P=null,M=null,O=T,W=T=0,U=null;O!==null&&W<S.length;W++){O.index>W?(U=O,O=null):U=O.sibling;var Q=m(w,O,S[W],N);if(Q===null){O===null&&(O=U);break}e&&O&&Q.alternate===null&&t(w,O),T=s(Q,T,W),M===null?P=Q:M.sibling=Q,M=Q,O=U}if(W===S.length)return n(w,O),P;if(O===null){for(;W<S.length;W++)O=g(w,S[W],N),O!==null&&(T=s(O,T,W),M===null?P=O:M.sibling=O,M=O);return P}for(O=r(w,O);W<S.length;W++)U=y(O,w,W,S[W],N),U!==null&&(e&&U.alternate!==null&&O.delete(U.key===null?W:U.key),T=s(U,T,W),M===null?P=U:M.sibling=U,M=U);return e&&O.forEach(function(x){return t(w,x)}),P}function I(w,T,S,N){var P=_c(S);if(typeof P!="function")throw Error(q(150));if(S=P.call(S),S==null)throw Error(q(151));for(var M=P=null,O=T,W=T=0,U=null,Q=S.next();O!==null&&!Q.done;W++,Q=S.next()){O.index>W?(U=O,O=null):U=O.sibling;var x=m(w,O,Q.value,N);if(x===null){O===null&&(O=U);break}e&&O&&x.alternate===null&&t(w,O),T=s(x,T,W),M===null?P=x:M.sibling=x,M=x,O=U}if(Q.done)return n(w,O),P;if(O===null){for(;!Q.done;W++,Q=S.next())Q=g(w,Q.value,N),Q!==null&&(T=s(Q,T,W),M===null?P=Q:M.sibling=Q,M=Q);return P}for(O=r(w,O);!Q.done;W++,Q=S.next())Q=y(O,w,W,Q.value,N),Q!==null&&(e&&Q.alternate!==null&&O.delete(Q.key===null?W:Q.key),T=s(Q,T,W),M===null?P=Q:M.sibling=Q,M=Q);return e&&O.forEach(function(wi){return t(w,wi)}),P}return function(w,T,S,N){var P=typeof S=="object"&&S!==null&&S.type===go&&S.key===null;P&&(S=S.props.children);var M=typeof S=="object"&&S!==null;if(M)switch(S.$$typeof){case jc:e:{for(M=S.key,P=T;P!==null;){if(P.key===M){switch(P.tag){case 7:if(S.type===go){n(w,P.sibling),T=i(P,S.props.children),T.return=w,w=T;break e}break;default:if(P.elementType===S.type){n(w,P.sibling),T=i(P,S.props),T.ref=Sc(w,P,S),T.return=w,w=T;break e}}n(w,P);break}else t(w,P);P=P.sibling}S.type===go?(T=Ru(S.props.children,w.mode,N,S.key),T.return=w,w=T):(N=Pp(S.type,S.key,S.props,null,w.mode,N),N.ref=Sc(w,T,S),N.return=w,w=N)}return a(w);case Os:e:{for(P=S.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(w,T.sibling),T=i(T,S.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else t(w,T);T=T.sibling}T=k_(S,w.mode,N),T.return=w,w=T}return a(w)}if(typeof S=="string"||typeof S=="number")return S=""+S,T!==null&&T.tag===6?(n(w,T.sibling),T=i(T,S),T.return=w,w=T):(n(w,T),T=S_(S,w.mode,N),T.return=w,w=T),a(w);if(ep(S))return E(w,T,S,N);if(_c(S))return I(w,T,S,N);if(M&&tp(w,S),typeof S>"u"&&!P)switch(w.tag){case 1:case 22:case 0:case 11:case 15:throw Error(q(152,Eu(w.type)||"Component"))}return n(w,T)}}var tv=gD(!0),mD=gD(!1),ch={},si=Yo(ch),Af=Yo(ch),Rf=Yo(ch);function Ms(e){if(e===ch)throw Error(q(174));return e}function Lw(e,t){switch(nt(Rf,t),nt(Af,e),nt(si,ch),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_w(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_w(t,e)}qe(si),nt(si,t)}function Vu(){qe(si),qe(Af),qe(Rf)}function pA(e){Ms(Rf.current);var t=Ms(si.current),n=_w(t,e.type);t!==n&&(nt(Af,e),nt(si,n))}function $b(e){Af.current===e&&(qe(si),qe(Af))}var tt=Yo(0);function nv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xi=null,To=null,ai=!1;function yD(e,t){var n=lr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Mw(e){if(ai){var t=To;if(t){var n=t;if(!vA(e,t)){if(t=Su(n.nextSibling),!t||!vA(e,t)){e.flags=e.flags&-1025|2,ai=!1,xi=e;return}yD(xi,n)}xi=e,To=Su(t.firstChild)}else e.flags=e.flags&-1025|2,ai=!1,xi=e}}function gA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function np(e){if(e!==xi)return!1;if(!ai)return gA(e),ai=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Rw(t,e.memoizedProps))for(t=To;t;)yD(e,t),t=Su(t.nextSibling);if(gA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){To=Su(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}To=null}}else To=xi?Su(e.stateNode.nextSibling):null;return!0}function E_(){To=xi=null,ai=!1}var Cu=[];function qb(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var Jc=va.ReactCurrentDispatcher,vr=va.ReactCurrentBatchConfig,xf=0,ut=null,Zt=null,Vt=null,rv=!1,Zc=!1;function On(){throw Error(q(321))}function zb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Wb(e,t,n,r,i,s){if(xf=s,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jc.current=e===null||e.memoizedState===null?Bq:$q,e=n(r,i),Zc){s=0;do{if(Zc=!1,!(25>s))throw Error(q(301));s+=1,Vt=Zt=null,t.updateQueue=null,Jc.current=qq,e=n(r,i)}while(Zc)}if(Jc.current=av,t=Zt!==null&&Zt.next!==null,xf=0,Vt=Zt=ut=null,rv=!1,t)throw Error(q(300));return e}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ut.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function ma(){if(Zt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=Vt===null?ut.memoizedState:Vt.next;if(t!==null)Vt=t,Zt=e;else{if(e===null)throw Error(q(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Vt===null?ut.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function ri(e,t){return typeof t=="function"?t(e):t}function kc(e){var t=ma(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Zt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var h=c.lane;if((xf&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=r):l=l.next=p,ut.lanes|=h,fh|=h}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,ur(r,t.memoizedState)||(Vr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Cc(e){var t=ma(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ur(s,t.memoizedState)||(Vr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function mA(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(xf&e)===e)&&(t._workInProgressVersionPrimary=r,Cu.push(t))),e)return n(t._source);throw Cu.push(t),Error(q(350))}function _D(e,t,n,r){var i=In;if(i===null)throw Error(q(349));var s=t._getVersion,a=s(t._source),l=Jc.current,c=l.useState(function(){return mA(i,t,n)}),h=c[1],p=c[0];c=Vt;var g=e.memoizedState,m=g.refs,y=m.getSnapshot,E=g.source;g=g.subscribe;var I=ut;return e.memoizedState={refs:m,source:t,subscribe:r},l.useEffect(function(){m.getSnapshot=n,m.setSnapshot=h;var w=s(t._source);if(!ur(a,w)){w=n(t._source),ur(p,w)||(h(w),w=xo(I),i.mutableReadLanes|=w&i.pendingLanes),w=i.mutableReadLanes,i.entangledLanes|=w;for(var T=i.entanglements,S=w;0<S;){var N=31-Vo(S),P=1<<N;T[N]|=w,S&=~P}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var w=m.getSnapshot,T=m.setSnapshot;try{T(w(t._source));var S=xo(I);i.mutableReadLanes|=S&i.pendingLanes}catch(N){T(function(){throw N})}})},[t,r]),ur(y,n)&&ur(E,t)&&ur(g,r)||(e={pending:null,dispatch:null,lastRenderedReducer:ri,lastRenderedState:p},e.dispatch=h=Gb.bind(null,ut,e),c.queue=e,c.baseQueue=null,p=mA(i,t,n),c.memoizedState=c.baseState=p),p}function wD(e,t,n){var r=ma();return _D(r,e,t,n)}function Nc(e){var t=Fs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},e=e.dispatch=Gb.bind(null,ut,e),[t.memoizedState,e]}function iv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yA(e){var t=Fs();return e={current:e},t.memoizedState=e}function ov(){return ma().memoizedState}function Fw(e,t,n,r){var i=Fs();ut.flags|=e,i.memoizedState=iv(1|t,n,void 0,r===void 0?null:r)}function Hb(e,t,n,r){var i=ma();r=r===void 0?null:r;var s=void 0;if(Zt!==null){var a=Zt.memoizedState;if(s=a.destroy,r!==null&&zb(r,a.deps)){iv(t,n,s,r);return}}ut.flags|=e,i.memoizedState=iv(1|t,n,s,r)}function _A(e,t){return Fw(516,4,e,t)}function sv(e,t){return Hb(516,4,e,t)}function ED(e,t){return Hb(4,2,e,t)}function bD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TD(e,t,n){return n=n!=null?n.concat([e]):null,Hb(4,2,bD.bind(null,t,e),n)}function Kb(){}function ID(e,t){var n=ma();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SD(e,t){var n=ma();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vq(e,t){var n=Uu();Zs(98>n?98:n,function(){e(!0)}),Zs(97<n?97:n,function(){var r=vr.transition;vr.transition=1;try{e(!1),t()}finally{vr.transition=r}})}function Gb(e,t,n){var r=Zn(),i=xo(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===ut||a!==null&&a===ut)Zc=rv=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,ur(c,l))return}catch{}finally{}Po(e,i,r)}}var av={readContext:yr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useOpaqueIdentifier:On,unstable_isNewReconciler:!1},Bq={readContext:yr,useCallback:function(e,t){return Fs().memoizedState=[e,t===void 0?null:t],e},useContext:yr,useEffect:_A,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fw(4,2,bD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fw(4,2,e,t)},useMemo:function(e,t){var n=Fs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Gb.bind(null,ut,e),[r.memoizedState,e]},useRef:yA,useState:Nc,useDebugValue:Kb,useDeferredValue:function(e){var t=Nc(e),n=t[0],r=t[1];return _A(function(){var i=vr.transition;vr.transition=1;try{r(e)}finally{vr.transition=i}},[e]),n},useTransition:function(){var e=Nc(!1),t=e[0];return e=Vq.bind(null,e[1]),yA(e),[e,t]},useMutableSource:function(e,t,n){var r=Fs();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},_D(r,e,t,n)},useOpaqueIdentifier:function(){if(ai){var e=!1,t=Dq(function(){throw e||(e=!0,n("r:"+(y_++).toString(36))),Error(q(355))}),n=Nc(t)[1];return!(ut.mode&2)&&(ut.flags|=516,iv(5,function(){n("r:"+(y_++).toString(36))},void 0,null)),t}return t="r:"+(y_++).toString(36),Nc(t),t},unstable_isNewReconciler:!1},$q={readContext:yr,useCallback:ID,useContext:yr,useEffect:sv,useImperativeHandle:TD,useLayoutEffect:ED,useMemo:SD,useReducer:kc,useRef:ov,useState:function(){return kc(ri)},useDebugValue:Kb,useDeferredValue:function(e){var t=kc(ri),n=t[0],r=t[1];return sv(function(){var i=vr.transition;vr.transition=1;try{r(e)}finally{vr.transition=i}},[e]),n},useTransition:function(){var e=kc(ri)[0];return[ov().current,e]},useMutableSource:wD,useOpaqueIdentifier:function(){return kc(ri)[0]},unstable_isNewReconciler:!1},qq={readContext:yr,useCallback:ID,useContext:yr,useEffect:sv,useImperativeHandle:TD,useLayoutEffect:ED,useMemo:SD,useReducer:Cc,useRef:ov,useState:function(){return Cc(ri)},useDebugValue:Kb,useDeferredValue:function(e){var t=Cc(ri),n=t[0],r=t[1];return sv(function(){var i=vr.transition;vr.transition=1;try{r(e)}finally{vr.transition=i}},[e]),n},useTransition:function(){var e=Cc(ri)[0];return[ov().current,e]},useMutableSource:wD,useOpaqueIdentifier:function(){return Cc(ri)[0]},unstable_isNewReconciler:!1},zq=va.ReactCurrentOwner,Vr=!1;function Dn(e,t,n,r){t.child=e===null?mD(t,null,n,r):tv(t,e.child,n,r)}function wA(e,t,n,r,i){n=n.render;var s=t.ref;return ku(t,i),r=Wb(e,t,n,r,s,i),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Pi(e,t,i)):(t.flags|=1,Dn(e,t,r,i),t.child)}function EA(e,t,n,r,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!eT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,kD(e,t,a,r,i,s)):(e=Pp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&s)&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Sf,n(i,r)&&e.ref===t.ref)?Pi(e,t,s):(t.flags|=1,e=qo(a,r),e.ref=t.ref,e.return=t,t.child=e)}function kD(e,t,n,r,i,s){if(e!==null&&Sf(e.memoizedProps,r)&&e.ref===t.ref)if(Vr=!1,(s&i)!==0)e.flags&16384&&(Vr=!0);else return t.lanes=e.lanes,Pi(e,t,s);return jw(e,t,n,r,s)}function b_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},ip(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},ip(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ip(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ip(t,r);return Dn(e,t,i,n),t.child}function CD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function jw(e,t,n,r,i){var s=Fn(n)?Js:ln.current;return s=ju(t,s),ku(t,i),n=Wb(e,t,n,r,s,i),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Pi(e,t,i)):(t.flags|=1,Dn(e,t,n,i),t.child)}function bA(e,t,n,r,i){if(Fn(n)){var s=!0;Cp(t)}else s=!1;if(ku(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),vD(t,n,r),Dw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=yr(h):(h=Fn(n)?Js:ln.current,h=ju(t,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&dA(t,a,r,h),po=!1;var m=t.memoizedState;a.state=m,Nf(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Mn.current||po?(typeof p=="function"&&(ev(t,n,p,r),c=t.memoizedState),(l=po||hA(t,n,l,r,m,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,dD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:jr(t.type,l),a.props=h,g=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=yr(c):(c=Fn(n)?Js:ln.current,c=ju(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&dA(t,a,r,c),po=!1,m=t.memoizedState,a.state=m,Nf(t,r,a,i);var E=t.memoizedState;l!==g||m!==E||Mn.current||po?(typeof y=="function"&&(ev(t,n,y,r),E=t.memoizedState),(h=po||hA(t,n,h,r,m,E,c))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=E),a.props=r,a.state=E,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),r=!1)}return Uw(e,t,n,r,s,i)}function Uw(e,t,n,r,i,s){CD(e,t);var a=(t.flags&64)!==0;if(!r&&!a)return i&&aA(t,n,!1),Pi(e,t,s);r=t.stateNode,zq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=tv(t,e.child,null,s),t.child=tv(t,null,l,s)):Dn(e,t,l,s),t.memoizedState=r.state,i&&aA(t,n,!0),t.child}function TA(e){var t=e.stateNode;t.pendingContext?sA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sA(e,t.context,!1),Lw(e,t.containerInfo)}var rp={dehydrated:null,retryLane:0};function IA(e,t,n){var r=t.pendingProps,i=tt.current,s=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),nt(tt,i&1),e===null?(r.fallback!==void 0&&Mw(t),e=r.children,i=r.fallback,s?(e=SA(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=rp,e):typeof r.unstable_expectedLoadTime=="number"?(e=SA(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=rp,t.lanes=33554432,e):(n=tT({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=CA(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=rp,r):(n=kA(e,t,r.children,n),t.memoizedState=null,n):s?(r=CA(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=rp,r):(n=kA(e,t,r.children,n),t.memoizedState=null,n)}function SA(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=t):s=tT(t,i,0,null),n=Ru(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function kA(e,t,n,r){var i=e.child;return e=i.sibling,n=qo(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function CA(e,t,n,r,i){var s=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return!(s&2)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qo(a,l),e!==null?r=qo(e,r):(r=Ru(r,s,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function NA(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hD(e.return,t)}function T_(e,t,n,r,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function AA(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NA(e,n);else if(e.tag===19)NA(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(tt,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&nv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),T_(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}T_(t,!0,n,null,s,t.lastEffect);break;case"together":T_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fh|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=qo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var ND,Vw,AD,RD;ND=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vw=function(){};AD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ms(si.current);var s=null;switch(n){case"input":i=dw(e,i),r=dw(e,r),s=[];break;case"option":i=gw(e,i),r=gw(e,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=mw(e,i),r=mw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gp)}ww(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(yf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(yf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===Eb?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};RD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ac(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wq(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fn(t.type)&&Yp(),null;case 3:return Vu(),qe(Mn),qe(ln),qb(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(np(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Vw(t),null;case 5:$b(t);var i=Ms(Rf.current);if(n=t.type,e!==null&&t.stateNode!=null)AD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(q(166));return null}if(e=Ms(si.current),np(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[bo]=t,r[Qp]=s,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(e=0;e<Vc.length;e++)Be(Vc[e],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":AN(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":xN(r,s),Be("invalid",r)}ww(n,s),e=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):yf.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Be("scroll",r));switch(n){case"input":Yd(r),RN(r,s,!0);break;case"textarea":Yd(r),PN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gp)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===yw.html&&(e=TO(n)),e===yw.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[bo]=t,e[Qp]=r,ND(e,t,!1,!1),t.stateNode=e,a=Ew(n,r),n){case"dialog":Be("cancel",e),Be("close",e),i=r;break;case"iframe":case"object":case"embed":Be("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vc.length;i++)Be(Vc[i],e);i=r;break;case"source":Be("error",e),i=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=r;break;case"details":Be("toggle",e),i=r;break;case"input":AN(e,r),i=dw(e,r),Be("invalid",e);break;case"option":i=gw(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Be("invalid",e);break;case"textarea":xN(e,r),i=mw(e,r),Be("invalid",e);break;default:i=r}ww(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?kO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IO(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_f(e,c):typeof c=="number"&&_f(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&vb(e,s,c,a))}switch(n){case"input":Yd(e),RN(e,r,!1);break;case"textarea":Yd(e),PN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?bu(e,!!r.multiple,s,!1):r.defaultValue!=null&&bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gp)}rD(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)RD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));n=Ms(Rf.current),Ms(si.current),np(t)?(r=t.stateNode,n=t.memoizedProps,r[bo]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bo]=t,t.stateNode=r)}return null;case 13:return qe(tt),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&np(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||tt.current&1?$t===0&&($t=3):(($t===0||$t===3)&&($t=4),In===null||!(fh&134217727)&&!(ml&134217727)||Nu(In,on))),(r||n)&&(t.flags|=4),null);case 4:return Vu(),Vw(t),e===null&&eD(t.stateNode.containerInfo),null;case 10:return Vb(t),null;case 17:return Fn(t.type)&&Yp(),null;case 19:if(qe(tt),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!==0,a=r.rendering,a===null)if(s)Ac(r,!1);else{if($t!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=nv(e),a!==null){for(t.flags|=64,Ac(r,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(tt,tt.current&1|2),t.child}e=e.sibling}r.tail!==null&&nn()>Hw&&(t.flags|=64,s=!0,Ac(r,!1),t.lanes=33554432)}else{if(!s)if(e=nv(a),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ac(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ai)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*nn()-r.renderingStartTime>Hw&&n!==1073741824&&(t.flags|=64,s=!0,Ac(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=nn(),n.sibling=null,t=tt.current,nt(tt,s?t&1|2:t&1),n):null;case 23:case 24:return Zb(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(q(156,t.tag))}function Hq(e){switch(e.tag){case 1:Fn(e.type)&&Yp();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Vu(),qe(Mn),qe(ln),qb(),t=e.flags,t&64)throw Error(q(285));return e.flags=t&-4097|64,e;case 5:return $b(e),null;case 13:return qe(tt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return qe(tt),null;case 4:return Vu(),null;case 10:return Vb(e),null;case 23:case 24:return Zb(),null;default:return null}}function Qb(e,t){try{var n="",r=t;do n+=k5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i}}function Bw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kq=typeof WeakMap=="function"?WeakMap:Map;function xD(e,t,n){n=Ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lv||(lv=!0,Kw=r),Bw(e,t)},n}function PD(e,t,n){n=Ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return Bw(e,t),r(i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this),Bw(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var Gq=typeof WeakSet=="function"?WeakSet:Set;function RA(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Oo(e,n)}else t.current=null}function Qq(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:jr(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Mb(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(q(163))}function Yq(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(BD(n,e),iz(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:jr(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&fA(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fA(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&rD(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&MO(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(q(163))}function xA(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=SO("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function PA(e,t){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Fb,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)BD(t,n);else{r=t;try{i()}catch(s){Oo(r,s)}}n=n.next}while(n!==e)}break;case 1:if(RA(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Oo(t,s)}break;case 5:RA(t);break;case 4:OD(e,t)}}function OA(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function DA(e){return e.tag===5||e.tag===3||e.tag===4}function LA(e){e:{for(var t=e.return;t!==null;){if(DA(t))break e;t=t.return}throw Error(q(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(q(161))}n.flags&16&&(_f(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||DA(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?$w(e,n,t):qw(e,n,t)}function $w(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gp));else if(r!==4&&(e=e.child,e!==null))for($w(e,t,n),e=e.sibling;e!==null;)$w(e,t,n),e=e.sibling}function qw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qw(e,t,n),e=e.sibling;e!==null;)qw(e,t,n),e=e.sibling}function OD(e,t){for(var n=t,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(q(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,l=n,c=l;;)if(PA(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(PA(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function I_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[Qp]=r,e==="input"&&r.type==="radio"&&r.name!=null&&EO(n,r),Ew(e,i),t=Ew(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];a==="style"?kO(n,l):a==="dangerouslySetInnerHTML"?IO(n,l):a==="children"?_f(n,l):vb(n,a,l,t)}switch(e){case"input":pw(n,r);break;case"textarea":bO(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?bu(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?bu(n,!!r.multiple,r.defaultValue,!0):bu(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(q(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,MO(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Jb=nn(),xA(t.child,!0)),MA(t);return;case 19:MA(t);return;case 17:return;case 23:case 24:xA(t,t.memoizedState!==null);return}throw Error(q(163))}function MA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gq),t.forEach(function(r){var i=az.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xq(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var Jq=Math.ceil,uv=va.ReactCurrentDispatcher,Yb=va.ReactCurrentOwner,le=0,In=null,wt=null,on=0,ea=0,zw=Yo(0),$t=0,gg=null,gl=0,fh=0,ml=0,Xb=0,Ww=null,Jb=0,Hw=1/0;function yl(){Hw=nn()+500}var X=null,lv=!1,Kw=null,ii=null,$o=!1,ef=null,Bc=90,Gw=[],Qw=[],Mi=null,tf=0,Yw=null,Ap=-1,Ri=0,Rp=0,nf=null,xp=!1;function Zn(){return le&48?nn():Ap!==-1?Ap:Ap=nn()}function xo(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return Uu()===99?1:2;if(Ri===0&&(Ri=gl),Uq.transition!==0){Rp!==0&&(Rp=Ww!==null?Ww.pendingLanes:0),e=Ri;var t=4186112&~Rp;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Uu(),le&4&&e===98?e=Hp(12,Ri):(e=$5(e),e=Hp(e,Ri)),e}function Po(e,t,n){if(50<tf)throw tf=0,Yw=null,Error(q(185));if(e=mg(e,t),e===null)return null;lg(e,t,n),e===In&&(ml|=t,$t===4&&Nu(e,on));var r=Uu();t===1?le&8&&!(le&48)?Xw(e):(_r(e,n),le===0&&(yl(),mi())):(!(le&4)||r!==98&&r!==99||(Mi===null?Mi=new Set([e]):Mi.add(e)),_r(e,n)),Ww=e}function mg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function _r(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Vo(a),c=1<<l,h=s[l];if(h===-1){if(!(c&r)||c&i){h=t,uu(c);var p=Ue;s[l]=10<=p?h+250:6<=p?h+5e3:-1}}else h<=t&&(e.expiredLanes|=c);a&=~c}if(r=Tf(e,e===In?on:0),t=Ue,r===0)n!==null&&(n!==__&&Pw(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==__&&Pw(n)}t===15?(n=Xw.bind(null,e),Ai===null?(Ai=[n],Np=jb(pg,fD)):Ai.push(n),n=__):t===14?n=Cf(99,Xw.bind(null,e)):(n=q5(t),n=Cf(n,DD.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function DD(e){if(Ap=-1,Rp=Ri=0,le&48)throw Error(q(327));var t=e.callbackNode;if(Xo()&&e.callbackNode!==t)return null;var n=Tf(e,e===In?on:0);if(n===0)return null;var r=n,i=le;le|=16;var s=jD();(In!==e||on!==r)&&(yl(),Au(e,r));do try{tz();break}catch(l){FD(e,l)}while(!0);if(Ub(),uv.current=s,le=i,wt!==null?r=0:(In=null,on=0,r=$t),gl&ml)Au(e,0);else if(r!==0){if(r===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Mb(e.containerInfo)),n=qO(e),n!==0&&(r=$c(e,n))),r===1)throw t=gg,Au(e,0),Nu(e,n),_r(e,nn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(q(345));case 2:Cs(e);break;case 3:if(Nu(e,n),(n&62914560)===n&&(r=Jb+500-nn(),10<r)){if(Tf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Zn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rA(Cs.bind(null,e),r);break}Cs(e);break;case 4:if(Nu(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Vo(n);s=1<<a,a=r[a],a>i&&(i=a),n&=~s}if(n=i,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jq(n/1960))-n,10<n){e.timeoutHandle=rA(Cs.bind(null,e),n);break}Cs(e);break;case 5:Cs(e);break;default:throw Error(q(329))}}return _r(e,nn()),e.callbackNode===t?DD.bind(null,e):null}function Nu(e,t){for(t&=~Xb,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vo(t),r=1<<n;e[n]=-1,t&=~r}}function Xw(e){if(le&48)throw Error(q(327));if(Xo(),e===In&&e.expiredLanes&on){var t=on,n=$c(e,t);gl&ml&&(t=Tf(e,t),n=$c(e,t))}else t=Tf(e,0),n=$c(e,t);if(e.tag!==0&&n===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Mb(e.containerInfo)),t=qO(e),t!==0&&(n=$c(e,t))),n===1)throw n=gg,Au(e,0),Nu(e,t),_r(e,nn()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cs(e),_r(e,nn()),null}function Zq(){if(Mi!==null){var e=Mi;Mi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,_r(t,nn())})}mi()}function LD(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(yl(),mi())}}function MD(e,t){var n=le;le&=-2,le|=8;try{return e(t)}finally{le=n,le===0&&(yl(),mi())}}function ip(e,t){nt(zw,ea),ea|=t,gl|=t}function Zb(){ea=zw.current,qe(zw)}function Au(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Oq(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yp();break;case 3:Vu(),qe(Mn),qe(ln),qb();break;case 5:$b(r);break;case 4:Vu();break;case 13:qe(tt);break;case 19:qe(tt);break;case 10:Vb(r);break;case 23:case 24:Zb()}n=n.return}In=e,wt=qo(e.current,null),on=ea=gl=t,$t=0,gg=null,Xb=ml=fh=0}function FD(e,t){do{var n=wt;try{if(Ub(),Jc.current=av,rv){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rv=!1}if(xf=0,Vt=Zt=ut=null,Zc=!1,Yb.current=null,n===null||n.return===null){$t=1,gg=t,wt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=on,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c;if(!(l.mode&2)){var p=l.alternate;p?(l.updateQueue=p.updateQueue,l.memoizedState=p.memoizedState,l.lanes=p.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(tt.current&1)!==0,m=a;do{var y;if(y=m.tag===13){var E=m.memoizedState;if(E!==null)y=E.dehydrated!==null;else{var I=m.memoizedProps;y=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!g}}if(y){var w=m.updateQueue;if(w===null){var T=new Set;T.add(h),m.updateQueue=T}else w.add(h);if(!(m.mode&2)){if(m.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var S=Ao(-1,1);S.tag=2,Ro(l,S)}l.lanes|=1;break e}c=void 0,l=t;var N=s.pingCache;if(N===null?(N=s.pingCache=new Kq,c=new Set,N.set(h,c)):(c=N.get(h),c===void 0&&(c=new Set,N.set(h,c))),!c.has(l)){c.add(l);var P=sz.bind(null,s,h,l);h.then(P,P)}m.flags|=4096,m.lanes=t;break e}m=m.return}while(m!==null);c=Error((Eu(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}$t!==5&&($t=2),c=Qb(c,l),m=a;do{switch(m.tag){case 3:s=c,m.flags|=4096,t&=-t,m.lanes|=t;var M=xD(m,s,t);cA(m,M);break e;case 1:s=c;var O=m.type,W=m.stateNode;if(!(m.flags&64)&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ii===null||!ii.has(W)))){m.flags|=4096,t&=-t,m.lanes|=t;var U=PD(m,s,t);cA(m,U);break e}}m=m.return}while(m!==null)}VD(n)}catch(Q){t=Q,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function jD(){var e=uv.current;return uv.current=av,e===null?av:e}function $c(e,t){var n=le;le|=16;var r=jD();In===e&&on===t||Au(e,t);do try{ez();break}catch(i){FD(e,i)}while(!0);if(Ub(),le=n,uv.current=r,wt!==null)throw Error(q(261));return In=null,on=0,$t}function ez(){for(;wt!==null;)UD(wt)}function tz(){for(;wt!==null&&!Mq();)UD(wt)}function UD(e){var t=$D(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?VD(e):wt=t,Yb.current=null}function VD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=Hq(t),n!==null){n.flags&=2047,wt=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=Wq(n,t,ea),n!==null){wt=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||ea&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);$t===0&&($t=5)}function Cs(e){var t=Uu();return Zs(99,nz.bind(null,e,t)),null}function nz(e,t){do Xo();while(ef!==null);if(le&48)throw Error(q(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Vo(s),h=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~h}if(Mi!==null&&!(r&24)&&Mi.has(e)&&Mi.delete(e),e===In&&(wt=In=null,on=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=le,le|=32,Yb.current=null,g_=Ip,a=YN(),Cw(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,s=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var p=0,g=-1,m=-1,y=0,E=0,I=a,w=null;t:for(;;){for(var T;I!==l||s!==0&&I.nodeType!==3||(g=p+s),I!==c||h!==0&&I.nodeType!==3||(m=p+h),I.nodeType===3&&(p+=I.nodeValue.length),(T=I.firstChild)!==null;)w=I,I=T;for(;;){if(I===a)break t;if(w===l&&++y===s&&(g=p),w===c&&++E===h&&(m=p),(T=I.nextSibling)!==null)break;I=w,w=I.parentNode}I=T}l=g===-1||m===-1?null:{start:g,end:m}}else l=null;l=l||{start:0,end:0}}else l=null;m_={focusedElem:a,selectionRange:l},Ip=!1,nf=null,xp=!1,X=r;do try{rz()}catch(Q){if(X===null)throw Error(q(330));Oo(X,Q),X=X.nextEffect}while(X!==null);nf=null,X=r;do try{for(a=e;X!==null;){var S=X.flags;if(S&16&&_f(X.stateNode,""),S&128){var N=X.alternate;if(N!==null){var P=N.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(S&1038){case 2:LA(X),X.flags&=-3;break;case 6:LA(X),X.flags&=-3,I_(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025,I_(X.alternate,X);break;case 4:I_(X.alternate,X);break;case 8:l=X,OD(a,l);var M=l.alternate;OA(l),M!==null&&OA(M)}X=X.nextEffect}}catch(Q){if(X===null)throw Error(q(330));Oo(X,Q),X=X.nextEffect}while(X!==null);if(P=m_,N=YN(),S=P.focusedElem,a=P.selectionRange,N!==S&&S&&S.ownerDocument&&XO(S.ownerDocument.documentElement,S)){for(a!==null&&Cw(S)&&(N=a.start,P=a.end,P===void 0&&(P=N),"selectionStart"in S?(S.selectionStart=N,S.selectionEnd=Math.min(P,S.value.length)):(P=(N=S.ownerDocument||document)&&N.defaultView||window,P.getSelection&&(P=P.getSelection(),l=S.textContent.length,M=Math.min(a.start,l),a=a.end===void 0?M:Math.min(a.end,l),!P.extend&&M>a&&(l=a,a=M,M=l),l=QN(S,M),s=QN(S,a),l&&s&&(P.rangeCount!==1||P.anchorNode!==l.node||P.anchorOffset!==l.offset||P.focusNode!==s.node||P.focusOffset!==s.offset)&&(N=N.createRange(),N.setStart(l.node,l.offset),P.removeAllRanges(),M>a?(P.addRange(N),P.extend(s.node,s.offset)):(N.setEnd(s.node,s.offset),P.addRange(N)))))),N=[],P=S;P=P.parentNode;)P.nodeType===1&&N.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<N.length;S++)P=N[S],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Ip=!!g_,m_=g_=null,e.current=n,X=r;do try{for(S=e;X!==null;){var O=X.flags;if(O&36&&Yq(S,X.alternate,X),O&128){N=void 0;var W=X.ref;if(W!==null){var U=X.stateNode;switch(X.tag){case 5:N=U;break;default:N=U}typeof W=="function"?W(N):W.current=N}}X=X.nextEffect}}catch(Q){if(X===null)throw Error(q(330));Oo(X,Q),X=X.nextEffect}while(X!==null);X=null,jq(),le=i}else e.current=n;if($o)$o=!1,ef=e,Bc=t;else for(X=r;X!==null;)t=X.nextEffect,X.nextEffect=null,X.flags&8&&(O=X,O.sibling=null,O.stateNode=null),X=t;if(r=e.pendingLanes,r===0&&(ii=null),r===1?e===Yw?tf++:(tf=0,Yw=e):tf=0,n=n.stateNode,Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Fb,n,void 0,(n.current.flags&64)===64)}catch{}if(_r(e,nn()),lv)throw lv=!1,e=Kw,Kw=null,e;return le&8||mi(),null}function rz(){for(;X!==null;){var e=X.alternate;xp||nf===null||(X.flags&8?LN(X,nf)&&(xp=!0):X.tag===13&&Xq(e,X)&&LN(X,nf)&&(xp=!0));var t=X.flags;t&256&&Qq(e,X),!(t&512)||$o||($o=!0,Cf(97,function(){return Xo(),null})),X=X.nextEffect}}function Xo(){if(Bc!==90){var e=97<Bc?97:Bc;return Bc=90,Zs(e,oz)}return!1}function iz(e,t){Gw.push(t,e),$o||($o=!0,Cf(97,function(){return Xo(),null}))}function BD(e,t){Qw.push(t,e),$o||($o=!0,Cf(97,function(){return Xo(),null}))}function oz(){if(ef===null)return!1;var e=ef;if(ef=null,le&48)throw Error(q(331));var t=le;le|=32;var n=Qw;Qw=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(q(330));Oo(s,c)}}for(n=Gw,Gw=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(q(330));Oo(s,c)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return le=t,mi(),!0}function FA(e,t,n){t=Qb(n,t),t=xD(e,t,1),Ro(e,t),t=Zn(),e=mg(e,1),e!==null&&(lg(e,1,t),_r(e,t))}function Oo(e,t){if(e.tag===3)FA(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){FA(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=Qb(t,e);var i=PD(n,e,1);if(Ro(n,i),i=Zn(),n=mg(n,1),n!==null)lg(n,1,i),_r(n,i);else if(typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function sz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&n,In===e&&(on&n)===n&&($t===4||$t===3&&(on&62914560)===on&&500>nn()-Jb?Au(e,0):Xb|=n),_r(e,t)}function az(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(Ri===0&&(Ri=gl),t=lu(62914560&~Ri),t===0&&(t=4194304)):t=Uu()===99?1:2:t=1),n=Zn(),e=mg(e,t),e!==null&&(lg(e,t,n),_r(e,n))}var $D;$D=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)Vr=!0;else if(n&r)Vr=!!(e.flags&16384);else{switch(Vr=!1,t.tag){case 3:TA(t),E_();break;case 5:pA(t);break;case 1:Fn(t.type)&&Cp(t);break;case 4:Lw(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;nt(Xp,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?IA(e,t,n):(nt(tt,tt.current&1),t=Pi(e,t,n),t!==null?t.sibling:null);nt(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return AA(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(tt,tt.current),r)break;return null;case 23:case 24:return t.lanes=0,b_(e,t,n)}return Pi(e,t,n)}else Vr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=ju(t,ln.current),ku(t,n),i=Wb(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)){var s=!0;Cp(t)}else s=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bb(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&ev(t,r,a,e),i.updater=vg,t.stateNode=i,i._reactInternals=t,Dw(t,r,e,n),t=Uw(null,t,r,!0,s,n)}else t.tag=0,Dn(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=lz(i),e=jr(i,e),s){case 0:t=jw(null,t,i,e,n);break e;case 1:t=bA(null,t,i,e,n);break e;case 11:t=wA(null,t,i,e,n);break e;case 14:t=EA(null,t,i,jr(i.type,e),r,n);break e}throw Error(q(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),jw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),bA(e,t,r,i,n);case 3:if(TA(t),r=t.updateQueue,e===null||r===null)throw Error(q(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,dD(e,t),Nf(t,r,null,n),r=t.memoizedState.element,r===i)E_(),t=Pi(e,t,n);else{if(i=t.stateNode,(s=i.hydrate)&&(To=Su(t.stateNode.containerInfo.firstChild),xi=t,s=ai=!0),s){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)s=e[i],s._workInProgressVersionPrimary=e[i+1],Cu.push(s);for(n=mD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Dn(e,t,r,n),E_();t=t.child}return t;case 5:return pA(t),e===null&&Mw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Rw(r,i)?a=null:s!==null&&Rw(r,s)&&(t.flags|=16),CD(e,t),Dn(e,t,a,n),t.child;case 6:return e===null&&Mw(t),null;case 13:return IA(e,t,n);case 4:return Lw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tv(t,null,r,n):Dn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),wA(e,t,r,i,n);case 7:return Dn(e,t,t.pendingProps,n),t.child;case 8:return Dn(e,t,t.pendingProps.children,n),t.child;case 12:return Dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(nt(Xp,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=ur(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===i.children&&!Mn.current){t=Pi(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var h=c.firstContext;h!==null;){if(h.context===r&&h.observedBits&s){l.tag===1&&(h=Ao(-1,n&-n),h.tag=2,Ro(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),hD(l.return,n),c.lanes|=n;break}h=h.next}}else a=l.tag===10&&l.type===t.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Dn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,ku(t,n),i=yr(i,s.unstable_observedBits),r=r(i),t.flags|=1,Dn(e,t,r,n),t.child;case 14:return i=t.type,s=jr(i,t.pendingProps),s=jr(i.type,s),EA(e,t,i,s,r,n);case 15:return kD(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fn(r)?(e=!0,Cp(t)):e=!1,ku(t,n),vD(t,r,i),Dw(t,r,i,n),Uw(null,t,r,!0,e,n);case 19:return AA(e,t,n);case 23:return b_(e,t,n);case 24:return b_(e,t,n)}throw Error(q(156,t.tag))};function uz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,n,r){return new uz(e,t,n,r)}function eT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lz(e){if(typeof e=="function")return eT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sg)return 11;if(e===ag)return 14}return 2}function qo(e,t){var n=e.alternate;return n===null?(n=lr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")eT(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case go:return Ru(n.children,i,s,t);case yO:a=8,i|=16;break;case gb:a=8,i|=1;break;case Wc:return e=lr(12,n,t,i|8),e.elementType=Wc,e.type=Wc,e.lanes=s,e;case Hc:return e=lr(13,n,t,i),e.type=Hc,e.elementType=Hc,e.lanes=s,e;case $p:return e=lr(19,n,t,i),e.elementType=$p,e.lanes=s,e;case bb:return tT(n,i,s,t);case hw:return e=lr(24,n,t,i),e.elementType=hw,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mb:a=10;break e;case yb:a=9;break e;case sg:a=11;break e;case ag:a=14;break e;case _b:a=16,r=null;break e;case wb:a=22;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=lr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ru(e,t,n,r){return e=lr(7,e,r,t),e.lanes=n,e}function tT(e,t,n,r){return e=lr(23,e,r,t),e.elementType=bb,e.lanes=n,e}function S_(e,t,n){return e=lr(6,e,null,t),e.lanes=n,e}function k_(e,t,n){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cz(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=l_(0),this.expirationTimes=l_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l_(0),this.mutableSourceEagerHydrationData=null}function fz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cv(e,t,n,r){var i=t.current,s=Zn(),a=xo(i);e:if(n){n=n._reactInternals;t:{if(ga(n)!==n||n.tag!==1)throw Error(q(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Fn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(q(171))}if(n.tag===1){var c=n.type;if(Fn(c)){n=oD(n,c,l);break e}}n=l}else n=Bo;return t.context===null?t.context=n:t.pendingContext=n,t=Ao(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Ro(i,t),Po(i,a,s),a}function C_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nT(e,t){jA(e,t),(e=e.alternate)&&jA(e,t)}function hz(){return null}function rT(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new cz(e,t,n!=null&&n.hydrate===!0),t=lr(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,Bb(t),e[vl]=n.current,eD(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}rT.prototype.render=function(e){cv(e,this._internalRoot,null,null)};rT.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;cv(null,e,null,function(){t[vl]=null})};function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dz(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rT(e,0,t?{hydrate:!0}:void 0)}function yg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=C_(a);l.call(h)}}cv(t,a,e,i)}else{if(s=n._reactRootContainer=dz(n,r),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var h=C_(a);c.call(h)}}MD(function(){cv(t,a,e,i)})}return C_(a)}OO=function(e){if(e.tag===13){var t=Zn();Po(e,4,t),nT(e,4)}};Cb=function(e){if(e.tag===13){var t=Zn();Po(e,67108864,t),nT(e,67108864)}};DO=function(e){if(e.tag===13){var t=Zn(),n=xo(e);Po(e,n,t),nT(e,n)}};LO=function(e,t){return t()};bw=function(e,t,n){switch(t){case"input":if(pw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=dg(r);if(!i)throw Error(q(90));wO(r),pw(r,i)}}}break;case"textarea":bO(e,n);break;case"select":t=n.value,t!=null&&bu(e,!!n.multiple,t,!1)}};Ib=LD;AO=function(e,t,n,r,i){var s=le;le|=4;try{return Zs(98,e.bind(null,t,n,r,i))}finally{le=s,le===0&&(yl(),mi())}};Sb=function(){!(le&49)&&(Zq(),Xo())};RO=function(e,t){var n=le;le|=2;try{return e(t)}finally{le=n,le===0&&(yl(),mi())}};function qD(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(t))throw Error(q(200));return fz(e,t,null,n)}var pz={Events:[lh,gu,dg,CO,NO,Xo,{current:!1}]},Rc={findFiberByHostInstance:Ls,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},vz={bundleType:Rc.bundleType,version:Rc.version,rendererPackageName:Rc.rendererPackageName,rendererConfig:Rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PO(e),e===null?null:e.stateNode},findFiberByHostInstance:Rc.findFiberByHostInstance||hz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{Fb=op.inject(vz),Ws=op}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pz;br.createPortal=qD;br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):Error(q(268,Object.keys(e)));return e=PO(t),e=e===null?null:e.stateNode,e};br.flushSync=function(e,t){var n=le;if(n&48)return e(t);le|=1;try{if(e)return Zs(99,e.bind(null,t))}finally{le=n,mi()}};br.hydrate=function(e,t,n){if(!hh(t))throw Error(q(200));return yg(null,e,t,!0,n)};br.render=function(e,t,n){if(!hh(t))throw Error(q(200));return yg(null,e,t,!1,n)};br.unmountComponentAtNode=function(e){if(!hh(e))throw Error(q(40));return e._reactRootContainer?(MD(function(){yg(null,null,e,!1,function(){e._reactRootContainer=null,e[vl]=null})}),!0):!1};br.unstable_batchedUpdates=LD;br.unstable_createPortal=function(e,t){return qD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};br.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hh(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return yg(e,t,n,!1,r)};br.version="17.0.2";function zD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zD)}catch(e){console.error(e)}}zD(),pO.exports=br;var gz=pO.exports;const mz=ig(gz);/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}var Io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Io||(Io={}));const UA="popstate";function yz(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return Jw("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:WD(i)}return wz(t,n,null,e)}function Bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _z(){return Math.random().toString(36).substr(2,8)}function VA(e,t){return{usr:e.state,key:e.key,idx:t}}function Jw(e,t,n,r){return n===void 0&&(n=null),fv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_g(t):t,{state:n,key:t&&t.key||r||_z()})}function WD(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Io.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(fv({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function g(){l=Io.Pop;let w=p(),T=w==null?null:w-h;h=w,c&&c({action:l,location:I.location,delta:T})}function m(w,T){l=Io.Push;let S=Jw(I.location,w,T);n&&n(S,w),h=p()+1;let N=VA(S,h),P=I.createHref(S);try{a.pushState(N,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&c&&c({action:l,location:I.location,delta:1})}function y(w,T){l=Io.Replace;let S=Jw(I.location,w,T);n&&n(S,w),h=p();let N=VA(S,h),P=I.createHref(S);a.replaceState(N,"",P),s&&c&&c({action:l,location:I.location,delta:0})}function E(w){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:WD(w);return Bn(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let I={get action(){return l},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(UA,g),c=w,()=>{i.removeEventListener(UA,g),c=null}},createHref(w){return t(i,w)},createURL:E,encodeLocation(w){let T=E(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(w){return a.go(w)}};return I}var BA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(BA||(BA={}));function Ez(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?_g(t):t,i=GD(r.pathname||"/",n);if(i==null)return null;let s=HD(e);bz(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=xz(s[l],Dz(i));return a}function HD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Bn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=xu([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),HD(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:Az(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of KD(s.path))i(s,a,c)}),t}function KD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=KD(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function bz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tz=/^:\w+$/,Iz=3,Sz=2,kz=1,Cz=10,Nz=-2,$A=e=>e==="*";function Az(e,t){let n=e.split("/"),r=n.length;return n.some($A)&&(r+=Nz),t&&(r+=Sz),n.filter(i=>!$A(i)).reduce((i,s)=>i+(Tz.test(s)?Iz:s===""?kz:Cz),r)}function Rz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function xz(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Pz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let g=l.route;s.push({params:r,pathname:xu([i,p.pathname]),pathnameBase:Mz(xu([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=xu([i,p.pathnameBase]))}return s}function Pz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Oz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,g)=>{if(p==="*"){let m=l[g]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=Lz(l[g]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:e}}function Oz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),iT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Dz(e){try{return decodeURI(e)}catch(t){return iT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lz(e,t){try{return decodeURIComponent(e)}catch(n){return iT(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function GD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const xu=e=>e.join("/").replace(/\/\/+/g,"/"),Mz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function Fz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const QD=["post","put","patch","delete"];new Set(QD);const jz=["get",...QD];new Set(jz);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(this,arguments)}const Uz=V.createContext(null),Vz=V.createContext(null),YD=V.createContext(null),wg=V.createContext(null),Eg=V.createContext({outlet:null,matches:[],isDataRoute:!1}),XD=V.createContext(null);function oT(){return V.useContext(wg)!=null}function Bz(){return oT()||Bn(!1),V.useContext(wg).location}function $z(e,t){return qz(e,t)}function qz(e,t,n){oT()||Bn(!1);let{navigator:r}=V.useContext(YD),{matches:i}=V.useContext(Eg),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Bz(),h;if(t){var p;let I=typeof t=="string"?_g(t):t;l==="/"||(p=I.pathname)!=null&&p.startsWith(l)||Bn(!1),h=I}else h=c;let g=h.pathname||"/",m=l==="/"?g:g.slice(l.length)||"/",y=Ez(e,{pathname:m}),E=Gz(y&&y.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:xu([l,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:xu([l,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return t&&E?V.createElement(wg.Provider,{value:{location:Zw({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Io.Pop}},E):E}function zz(){let e=Jz(),t=Fz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}const Wz=V.createElement(zz,null);class Hz extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(Eg.Provider,{value:this.props.routeContext},V.createElement(XD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kz(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(Uz);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Eg.Provider,{value:t},r)}function Gz(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||Bn(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,g=null;n&&(g=c.route.errorElement||Wz);let m=t.concat(s.slice(0,h+1)),y=()=>{let E;return p?E=g:c.route.Component?E=V.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=l,V.createElement(Kz,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?V.createElement(Hz,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var qA;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(qA||(qA={}));var hv;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(hv||(hv={}));function Qz(e){let t=V.useContext(Vz);return t||Bn(!1),t}function Yz(e){let t=V.useContext(Eg);return t||Bn(!1),t}function Xz(e){let t=Yz(),n=t.matches[t.matches.length-1];return n.route.id||Bn(!1),n.route.id}function Jz(){var e;let t=V.useContext(XD),n=Qz(hv.UseRouteError),r=Xz(hv.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function JD(e){Bn(!1)}function Zz(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Io.Pop,navigator:s,static:a=!1}=e;oT()&&Bn(!1);let l=t.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=_g(r));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:y="default"}=r,E=V.useMemo(()=>{let I=GD(h,l);return I==null?null:{location:{pathname:I,search:p,hash:g,state:m,key:y},navigationType:i}},[l,h,p,g,m,y,i]);return E==null?null:V.createElement(YD.Provider,{value:c},V.createElement(wg.Provider,{children:n,value:E}))}function e3(e){let{children:t,location:n}=e;return $z(eE(t),n)}var zA;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(zA||(zA={}));new Promise(()=>{});function eE(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;let s=[...t,i];if(r.type===V.Fragment){n.push.apply(n,eE(r.props.children,s));return}r.type!==JD&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=eE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const t3="startTransition",WA=g5[t3];function n3(e){let{basename:t,children:n,future:r,window:i}=e,s=V.useRef();s.current==null&&(s.current=yz({window:i,v5Compat:!0}));let a=s.current,[l,c]=V.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=V.useCallback(g=>{h&&WA?WA(()=>c(g)):c(g)},[c,h]);return V.useLayoutEffect(()=>a.listen(p),[a,p]),V.createElement(Zz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var HA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(HA||(HA={}));var KA;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KA||(KA={}));const r3=""+new URL("xd-logo-QwRN-87e.png",import.meta.url).href,i3=""+new URL("bootstrap-logo-HkA3hhWJ.png",import.meta.url).href,o3=""+new URL("css3-logo-L1N1oojW.png",import.meta.url).href,s3=""+new URL("firebase-logo-Kq6Gdfu_.png",import.meta.url).href,a3=""+new URL("git-logo-z5uogLN7.png",import.meta.url).href,u3=""+new URL("html5-logo-R8szpUlg.png",import.meta.url).href,l3=""+new URL("javascript-logo-J8GImKNc.png",import.meta.url).href,c3=""+new URL("jest-logo-lALPqsTb.png",import.meta.url).href,f3=""+new URL("linux-logo-hr9ckTty.png",import.meta.url).href,h3=""+new URL("mongodb-logo-Te-6Ln1n.png",import.meta.url).href,d3=""+new URL("node-logo-uui97ztl.png",import.meta.url).href,p3=""+new URL("photoshop-logo-BLf5hvr4.png",import.meta.url).href,v3=""+new URL("python-logo-Gl5Mipk0.png",import.meta.url).href,g3=""+new URL("react-logo-Z_clDZUf.png",import.meta.url).href,m3=""+new URL("redux-logo-u4HxGAsH.png",import.meta.url).href,y3=""+new URL("sass-logo-ALaI4GHV.png",import.meta.url).href,_3={AdobeXD:r3,bootstrap:i3,CSS3:o3,firebase:s3,git:a3,HTML5:u3,javascript:l3,jest:c3,linux:f3,mongodb:h3,node:d3,photoshop:p3,python:v3,react:g3,redux:m3,sass:y3},Hi=hb.createContext();function w3(e){const[t,n]=V.useState("dark"),[r,i]=V.useState(!1),s=()=>{n(t==="light"?"dark":"light")};return k.jsx(Hi.Provider,{value:{theme:t,setTheme:n,lightbulb:r,setLightbulb:i,changeTheme:s},children:e.children})}const ya=hb.createContext();function E3(e){const[t,n]=V.useState("home"),[r,i]=V.useState(["chatplus","heromatchups","mint","cashflow","yt-playlist-downloader"]);return k.jsx(ya.Provider,{value:{pageLocation:t,setPageLocation:n,projectsToDisplay:r,setProjectsToDisplay:i},children:e.children})}const b3=e=>{const{parentRef:t,sectionType:n}=e,r=V.useRef(null);return V.useEffect(()=>{const i=r==null?void 0:r.current,s=i.getContext("2d"),a=[],l=11,c=()=>{if(t!=null&&t.current){const{width:m,height:y}=t.current.getBoundingClientRect();i.width=m,i.height=y}else i.width=window.innerWidth,i.height=window.innerHeight};class h{constructor(y,E,I,w,T,S,N){this.x=y,this.y=E,this.size=I,this.speedX=w,this.speedY=T,this.opacity=S,this.color=N}draw(){s.beginPath(),s.arc(this.x,this.y,this.size,0,Math.PI*2),s.fillStyle=`rgba(${this.color}, ${this.opacity})`,s.fill()}update(){this.x+=this.speedX,this.y+=this.speedY,this.opacity-=.006,this.opacity<=0&&this.reset()}reset(){this.x=Math.random()*i.width,this.y=Math.random()*i.height,this.size=Math.random()*2+1,this.speedX=(Math.random()-.5)*.5,this.speedY=(Math.random()-.5)*.5,this.opacity=Math.random(),this.color=Math.random()<.5?"255, 255, 255":"255, 77, 70"}}function p(){for(let m=0;m<l;m++){const y=Math.random()*i.width,E=Math.random()*i.height,I=Math.random()*2+1,w=(Math.random()-.5)*.5,T=(Math.random()-.5)*.5,S=Math.random(),N=Math.random()<.5?"255, 255, 255":"255, 77, 70";a.push(new h(y,E,I,w,T,S,N))}}function g(){s.clearRect(0,0,i.width,i.height),a.forEach(m=>{m.update(),m.draw()}),requestAnimationFrame(g)}return c(),p(),g(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[t]),k.jsx("canvas",{ref:r,style:{position:t===null?"fixed":"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,pointerEvents:"none"}})},T3=e=>{const{setPageLocation:t}=V.useContext(ya),n=V.useRef(null),[r,i]=V.useState(["javascript","react","redux","HTML5","CSS3","sass","bootstrap"]),[s,a]=V.useState(["mongodb","node","python","firebase"]),[l,c]=V.useState(["git","AdobeXD","photoshop","linux","jest"]);V.useEffect(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[]);const h=()=>{window.pageYOffset+window.innerHeight>=n.current.offsetTop+125&&t("about")};return k.jsxs("div",{className:"container container-md",id:"skills-container",ref:n,children:[k.jsxs("div",{className:"skills__list",id:"skills-list1",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Front-end"}),k.jsx("div",{className:"skills__front-end",children:r.map((p,g)=>k.jsx(N_,{name:p},g))})]}),k.jsxs("div",{className:"skills__list",id:"skills-list2",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Back-end"}),k.jsx("div",{className:"skills__back-end",children:s.map((p,g)=>k.jsx(N_,{name:p},g))})]}),k.jsxs("div",{className:"skills__list",id:"skills-list3",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Other"}),k.jsx("div",{className:"skills__other",children:l.map((p,g)=>k.jsx(N_,{name:p},g))})]})]})},N_=e=>{const{theme:t}=V.useContext(Hi);return k.jsxs("div",{className:"skills__logo-container skills__logo-container-"+t,children:[k.jsx("img",{className:"skills__logo-img",src:_3[e.name],alt:e.name}),k.jsx("span",{className:"skills__logo-text",children:e.name})]})},I3=""+new URL("portfolio-mint2048-OYGZXdzC.png",import.meta.url).href,S3=""+new URL("portfolio-cashflowjs-VJ9AHptG.png",import.meta.url).href,k3=""+new URL("portfolio-heromatchups-3K4D1HBr.png",import.meta.url).href,C3=""+new URL("portfolio-realitycalc03-s3GtNKd9.png",import.meta.url).href,N3=""+new URL("logo-600x400-EdcKvlnr.png",import.meta.url).href,GA=""+new URL("portfolio-ytpwebscraper-uc-PsLsu.png",import.meta.url).href;function st(e){const{name:t}=e;return k.jsx("div",{className:"tag-container",style:{display:"inline-block",borderRadius:"5px",margin:"1%",padding:"1% 2%",zIndex:10,border:`solid 2pt ${t==="React"?"#6DC3F6":t==="JavaScript"?"#f0db4f":t==="React Native"?"red":t==="CSS"?"#5FF78D":t==="JQuery"?"orange":t==="Redux"?"#CA79C2 ":t==="MongoDB"?"#99CC46":t==="Node.js"?"rgb(30, 85, 243)":t==="Puppeteer"?"rgb(64, 88, 193)":"rgb( 153, 185, 190)"}`},children:k.jsx("div",{children:t})})}const A3=e=>{const{setPageLocation:t,projectsToDisplay:n}=V.useContext(ya),r=V.useRef();V.useEffect(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)),[]);const i=()=>{window.pageYOffset+window.innerHeight>=r.current.offsetTop+125&&t("projects")};return k.jsxs("div",{id:"projects-container",ref:r,children:[k.jsxs("div",{className:"row project-chatplus",id:"project-chatplus",title:"ChatPlus for Rumble",style:{display:n.includes("chatplus")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"ChatPlus"})}),k.jsx("p",{children:"ChatPlus is a Google Chrome extension for Rumble that improves livestream chat user experience, enhances chat functionality and adds options to make Rumble more user-friendly. "}),k.jsx(k.Fragment,{children:"Features include:"}),k.jsxs("ul",{children:[k.jsx("li",{children:"User mention highlighting"}),k.jsx("li",{children:"Easy user tagging"}),k.jsx("li",{children:"Full size chat"}),k.jsx("li",{children:"Username color schemes"})]}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"JavaScript"}),k.jsx(st,{name:"Chrome Extension"}),k.jsx(st,{name:"React"})]}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://github.com/sleighs/chat-plus",rel:"noreferrer",children:"Find out more"}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/chatplus-for-rumble/odlcomopigapcpmlpmmmhlhegajembio?hl=en&authuser=0",rel:"noreferrer",children:"Chrome Web Store"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content chatplus-pic-container",children:k.jsx("a",{className:"projects-pic-container-chatplus",target:"_blank",href:"https://github.com/sleighs/chat-plus",rel:"noreferrer",title:"Check it out",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"ChatPlus",src:N3})})})]}),k.jsx("hr",{style:{display:n.includes("chatplus")?"flex":"none"}}),k.jsxs("div",{className:"row project-realitycalc",id:"project-realitycalc",style:{display:n.includes("realitycalc")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"RealityCalc.com"})}),k.jsx("p",{children:"Lead developer for RealityCalc.com, home to the popular online dating tool The Male Reality Calculator hosted at RealityCalc.com. Built with React and Redux, the calculator uses U.S. Census Bureau statistics to calculate the user's odds of meeting their dream woman."}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://realitycalc.com/",rel:"noreferrer",children:"Check it out"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"React"}),k.jsx(st,{name:"Redux"}),k.jsx(st,{name:"JavaScript"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-realitycalc",target:"_blank",href:"https://realitycalc.com",rel:"noreferrer",title:"Check it out",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"RealityCalc.com",src:C3})})})]}),k.jsx("hr",{style:{display:n.includes("realitycalc")?"flex":"none"}}),k.jsxs("div",{className:"row project-heromatchups",id:"project-heromatchups",style:{display:n.includes("heromatchups")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"Hero Matchups API"})}),k.jsxs("p",{children:["The ",k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/hero-matchups-api/",rel:"noreferrer",children:"Hero Matchups API"})," is a character matchup and counter resource created for e-sports training and practice applications. Check out a live demo using resources for Blizzard's team-based first person shooter Overwatch 2 ",k.jsx("a",{target:"_blank",href:"https://hero-pick-app.web.app/",rel:"noreferrer",children:"here"}),"."]}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/hero-matchups-api/",rel:"noreferrer",children:"Visit the repository"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"JavaScript"}),k.jsx(st,{name:"MongoDB"}),k.jsx(st,{name:"React"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-heromatchups",target:"_blank",href:"https://github.com/sleighs/heromatchups",rel:"noreferrer",title:"Visit",children:k.jsx("img",{className:"img-responsive rounded projects-pic d-block mx-auto",alt:"HeroMatchups",src:k3})})})]}),k.jsx("hr",{style:{display:n.includes("heromatchups")?"flex":"none"}}),k.jsxs("div",{className:"row project-ytpwebscraper",id:"project-ytpwebscraper",style:{display:n.includes("yt-playlist-webscraper")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"YouTube Playlist Web Scraper"})}),k.jsx("p",{children:"A Node.js web scraper that retrieves the information of each video in a YouTube playlist with Puppeteer and saves the data in a json file. "}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",children:"Check out the repository here"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"Web Scraper"}),k.jsx(st,{name:"Node.js"}),k.jsx(st,{name:"JavaScript"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-ytpwebscraper",target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",title:"GitHub",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"YouTube Playlist Web Scraper",src:GA})})})]}),k.jsx("hr",{style:{display:n.includes("yt-playlist-webscraper")?"flex":"none"}}),k.jsxs("div",{className:"row project-ytpwebscraper",id:"project-ytpwebscraper",style:{display:n.includes("yt-playlist-downloader")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"YouTube Playlist Downloader"})}),k.jsx("p",{children:"A Node.js web scraper that downloads each video in a YouTube playlist, using Puppeteer to collect the videos and ytdl-core to download them."}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-downloader/",rel:"noreferrer",children:"Check out the repository here"})}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",children:"Find the web scraper here"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"Web Scraper"}),k.jsx(st,{name:"JavaScript"}),k.jsx(st,{name:"Node.js"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-ytpwebscraper",target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-downloader/",rel:"noreferrer",title:"GitHub",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"YouTube Playlist Downloader",src:GA})})})]}),k.jsx("hr",{style:{display:n.includes("yt-playlist-downloader")?"flex":"none"}}),k.jsxs("div",{className:"row project-mint",id:"project-mint",style:{display:n.includes("mint")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"Mint 2048"})}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://plus-7ed02.web.app/",rel:"noreferrer",children:"Mint"})," is a sliding tile puzzle game based on 2048 by Gabriele Cirulli where players combine tiles, perform combos and use special abilities to create the 2048 tile."]}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/Mint-2048",rel:"noreferrer",children:"Check out Mint 2048 "})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"React"}),k.jsx(st,{name:"JavaScript"}),k.jsx(st,{name:"CSS"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-mint",target:"_blank",href:"https://github.com/sleighs/mint-2048",rel:"noreferrer",title:"Play",children:k.jsx("img",{className:"img-responsive rounded projects-pic d-block mx-auto",alt:"Mint 2048",src:I3})})})]}),k.jsx("hr",{style:{display:n.includes("mint")?"flex":"none"}}),k.jsxs("div",{className:"row project-cashflow",id:"project-cashflow",style:{display:n.includes("cashflow")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"CashFlow JS"})}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://sleighs.github.io/CashFlowJs/",rel:"noreferrer",children:"CashFlow JS"})," is an adaptation of the CashFlow 101 board game with additional gameplay options and rule customization that allows for many unique ways to play."]}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/CashFlowJs/",rel:"noreferrer",children:"Check out CashFlowJs"}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/cashflow-mobile",rel:"noreferrer",children:"View CashFlowJs for mobile"})]}),k.jsxs("div",{className:"tag-row",children:[k.jsx(st,{name:"JavaScript"}),k.jsx(st,{name:"JQuery"}),k.jsx(st,{name:"React Native"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-cashflow",target:"_blank",href:"https://github.com/Sleighs/CashFlowJs",rel:"noreferrer",title:"Play",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"CashFlow JS",src:S3})})})]})]})};var tE=function(e,t){return tE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},tE(e,t)};function G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function c(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Dt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(e,t){if(!e)throw _l(t)},_l=function(e){return new Error("Firebase Database ("+ZD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eL=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},R3=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[g],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eL(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):R3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,g=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),g!==64){var E=h<<6&192|g;r.push(E)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tL=function(e){var t=eL(e);return bg.encodeByteArray(t,!0)},QA=function(e){return tL(e).replace(/\./g,"")},YA=function(e){try{return bg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(e){return Pf(void 0,e)}function Pf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!x3(r)||(e[r]=Pf(e[r],t[r]));return e}function x3(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ie({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[QA(JSON.stringify(n)),QA(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ta())}function rL(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P3(){return typeof self=="object"&&self.self===self}function uT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function iL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O3(){return ta().indexOf("Electron/")>=0}function D3(){var e=ta();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function L3(){return ta().indexOf("MSAppHost/")>=0}function oL(){return ZD.NODE_ADMIN===!0}function M3(){return!rL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dh(){return"indexedDB"in self&&indexedDB!=null}function lT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function sL(){return!(!navigator||!navigator.cookieEnabled)}function F3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j3="FirebaseError",wl=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=j3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ki.prototype.create),s}return t}(Error),Ki=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?U3(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new wl(s,c,i);return h},e}();function U3(e,t){return e.replace(V3,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var V3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(e){return JSON.parse(e)}function _t(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Of(YA(s[0])||""),n=Of(YA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},B3=function(e){var t=cT(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},$3=function(e){var t=cT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},q3=function(e){var t=cT(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function na(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function nE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W3=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,m,i=0;i<80;i++){i<40?i<20?(g=h^l&(c^h),m=1518500249):(g=l^c^h,m=1859775393):i<60?(g=l&c|h&(l|c),m=2400959708):(g=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+g+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function H3(e,t){var n=new K3(e,t);return n.subscribe.bind(n)}var K3=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=A_),s.error===void 0&&(s.error=A_),s.complete===void 0&&(s.complete=A_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function G3(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function A_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function jn(e,t){return e+" failed: "+t+" argument "}function At(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(jn(e,t)+"must be a valid function.")}function XA(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(jn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,$(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Tg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y3=1e3,X3=2,J3=4*60*60*1e3,Z3=.5;function rE(e,t,n){t===void 0&&(t=Y3),n===void 0&&(n=X3);var r=t*Math.pow(n,e),i=Math.round(Z3*r*(Math.random()-.5)*2);return Math.min(J3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return e&&e._delegate?e._delegate:e}var cn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Pt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(tW(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}try{for(var i=Dt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=zt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ns),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],zt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),zt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ns),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ns),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Dt(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=zt(h.value,2),g=p[0],m=p[1],y=this.normalizeInstanceIdentifier(g);a===y&&m.resolve(l)}}catch(E){n={error:E}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Dt(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eW(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ns),this.component?this.component.multipleInstances?t:Ns:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function eW(e){return e===Ns?void 0:e}function tW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new aL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Fr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks,fT=[],_e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));var lL={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},nW=_e.INFO,rW=(ks={},ks[_e.DEBUG]="log",ks[_e.VERBOSE]="log",ks[_e.INFO]="info",ks[_e.WARN]="warn",ks[_e.ERROR]="error",ks),iW=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=rW[t];if(s)console[s].apply(console,Fr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},_a=function(){function e(t){this.name=t,this._logLevel=nW,this._logHandler=iW,this._userLogHandler=null,fT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in _e))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?lL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Fr([this,_e.DEBUG],t)),this._logHandler.apply(this,Fr([this,_e.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Fr([this,_e.VERBOSE],t)),this._logHandler.apply(this,Fr([this,_e.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Fr([this,_e.INFO],t)),this._logHandler.apply(this,Fr([this,_e.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Fr([this,_e.WARN],t)),this._logHandler.apply(this,Fr([this,_e.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Fr([this,_e.ERROR],t)),this._logHandler.apply(this,Fr([this,_e.ERROR],t))},e}();function oW(e){fT.forEach(function(t){t.setLogLevel(e)})}function sW(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=lL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:_e[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=fT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo,aW=(lo={},lo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",lo["bad-app-name"]="Illegal App name: '{$appName}",lo["duplicate-app"]="Firebase App named '{$appName}' already exists",lo["app-deleted"]="Firebase App named '{$appName}' already deleted",lo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",lo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",lo),cu=new Ki("app","Firebase",aW),cL="@firebase/app",uW="0.6.30",lW="@firebase/analytics",cW="@firebase/app-check",fW="@firebase/auth",hW="@firebase/database",dW="@firebase/functions",pW="@firebase/installations",vW="@firebase/messaging",gW="@firebase/performance",mW="@firebase/remote-config",yW="@firebase/storage",_W="@firebase/firestore",wW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,pv="[DEFAULT]",EW=(Jt={},Jt[cL]="fire-core",Jt[lW]="fire-analytics",Jt[cW]="fire-app-check",Jt[fW]="fire-auth",Jt[hW]="fire-rtdb",Jt[dW]="fire-fn",Jt[pW]="fire-iid",Jt[vW]="fire-fcm",Jt[gW]="fire-perf",Jt[mW]="fire-rc",Jt[yW]="fire-gcs",Jt[_W]="fire-fst",Jt["fire-js"]="fire-js",Jt[wW]="fire-js-all",Jt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=new _a("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=nL(t),this.container=new uL(n.name),this._addComponent(new cn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=pv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=pv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Bu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw cu.create("app-deleted",{appName:this.name_})},e}();Op.prototype.name&&Op.prototype.options||Op.prototype.delete||console.log("dc");var bW="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:oW,onLog:p,apps:null,SDK_VERSION:bW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||pv,!er(t,m))throw cu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var E=y;y={name:E}}var I=y;I.name===void 0&&(I.name=pv);var w=I.name;if(typeof w!="string"||!w)throw cu.create("bad-app-name",{appName:String(w)});if(er(t,w))throw cu.create("duplicate-app",{appName:w});var T=new e(m,I,r);return t[w]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return Bu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var E=function(S){if(S===void 0&&(S=s()),typeof S[y]!="function")throw cu.create("invalid-app-argument",{appName:y});return S[y]()};m.serviceProps!==void 0&&Pf(E,m.serviceProps),r[y]=E,e.prototype[y]=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?S:[])}}for(var I=0,w=Object.keys(t);I<w.length;I++){var T=w[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,E){var I,w=(I=EW[m])!==null&&I!==void 0?I:m;E&&(w+="-"+E);var T=w.match(/\s|\//),S=y.match(/\s|\//);if(T||S){var N=['Unable to register library "'+w+'" with version "'+y+'":'];T&&N.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),T&&S&&N.push("and"),S&&N.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Bu.warn(N.join(" "));return}c(new cn(w+"-version",function(){return{library:w,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw cu.create("invalid-log-argument");sW(m,y)}function g(m,y){if(y==="serverAuth")return null;var E=y;return E}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){var e=TW(Op);e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:fL,extendNamespace:t,createSubscribe:H3,ErrorFactory:Ki,deepExtend:Pf});function t(n){Pf(e,n)}return e}var hT=fL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(SW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function SW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(e,t){e.INTERNAL.registerComponent(new cn("platform-logger",function(n){return new IW(n)},"PRIVATE")),e.registerVersion(cL,uW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(P3()&&self.firebase!==void 0){Bu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var JA=self.firebase.SDK_VERSION;JA&&JA.indexOf("LITE")>=0&&Bu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var CW=hT.initializeApp;hT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rL()&&Bu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),CW.apply(void 0,e)};var te=hT;kW(te);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var v=o[d];v in f||(f[v]={}),f=f[v]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{b(C.resolve,C.reject)}catch(L){C.reject(L)}}function f(){this.a=null}function d(b){return b instanceof u?b:new u(function(C){C(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(b)};var v=r.setTimeout;f.prototype.c=function(b){v(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var C=0;C<b.length;++C){var L=b[C];b[C]=null;try{L()}catch(F){this.f(F)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(F){return function(ue){L||(L=!0,F.call(C,ue))}}var C=this,L=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var C=b!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(b):this.h(b)}},u.prototype.v=function(b){var C=void 0;try{C=b.then}catch(L){this.g(L);return}typeof C=="function"?this.u(C,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,C){if(this.b!=0)throw Error("Cannot settle("+b+", "+C+"): Promise already settled in state"+this.b);this.b=b,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var C=this.f();b.Ra(C.resolve,C.reject)},u.prototype.u=function(b,C){var L=this.f();try{b.call(C,L.resolve,L.reject)}catch(F){L.reject(F)}},u.prototype.then=function(b,C){function L(ke,kt){return typeof ke=="function"?function(ki){try{F(ke(ki))}catch(r_){ue(r_)}}:kt}var F,ue,Oe=new u(function(ke,kt){F=ke,ue=kt});return this.Ra(L(b,F),L(C,ue)),Oe},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,C){function L(){switch(F.b){case 1:b(F.c);break;case 2:C(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=d,u.reject=function(b){return new u(function(C,L){L(b)})},u.race=function(b){return new u(function(C,L){for(var F=a(b),ue=F.next();!ue.done;ue=F.next())d(ue.value).Ra(C,L)})},u.all=function(b){var C=a(b),L=C.next();return L.done?d([]):new u(function(F,ue){function Oe(ki){return function(r_){ke[ki]=r_,kt--,kt==0&&F(ke)}}var ke=[],kt=0;do ke.push(void 0),kt++,d(L.value).Ra(Oe(ke.length-1),ue),L=C.next();while(!L.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function E(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function I(o){return y(o)=="function"}function w(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function T(o){return Object.prototype.hasOwnProperty.call(o,S)&&o[S]||(o[S]=++N)}var S="closure_uid_"+(1e9*Math.random()>>>0),N=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function M(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),o.apply(u,v)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=M,O.apply(null,arguments)}function W(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function U(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Q(o){return o}function x(o,u,f){this.code=It+o,this.message=u||St[o]||"",this.a=f||null}U(x,Error),x.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},x.prototype.toJSON=function(){return this.w()};function wi(o){var u=o&&o.code;return u?new x(u.substring(It.length),o.message,o.serverResponse):null}var It="auth/",St={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Xi={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function qn(o){for(var u in Xi)if(Xi[u].id===o)return o=Xi[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ir;Ir=qn("__EID__")?"__EID__":void 0;function Pa(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Ft(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ft);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}U(Ft,Error),Ft.prototype.name="CustomError";function is(o,u){o=o.split("%s");for(var f="",d=o.length-1,v=0;v<d;v++)f+=o[v]+(v<u.length?u[v]:"%s");Ft.call(this,f+o[d])}U(is,Ft),is.prototype.name="AssertionError";function Ji(o,u){throw new is("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function K(o,u){this.c=o,this.f=u,this.b=0,this.a=null}K.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function se(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function pe(){this.b=this.a=null}var ze=new K(function(){return new Sr},function(o){o.reset()});pe.prototype.add=function(o,u){var f=ze.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function vt(){var o=s1,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Sr(){this.next=this.b=this.a=null}Sr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Sr.prototype.reset=function(){this.next=this.b=this.a=null};var Hr=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Pe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,v=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in v&&u.call(f,v[_],_,o)};function Zi(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var iV=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],v=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var C=_[b];u.call(void 0,C,b,o)&&(d[v++]=C)}return d},Wh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),v=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in v&&(d[_]=u.call(void 0,v[_],_,o));return d},oV=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o))return!0;return!1};function sV(o){e:{for(var u=UB,f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o)){u=v;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Ei(o,u){return 0<=Hr(o,u)}function Hh(o,u){u=Hr(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function kr(o,u){var f=0;Zi(o,function(d,v){u.call(void 0,d,v,o)&&Array.prototype.splice.call(o,v,1).length==1&&f++})}function Nm(o){return Array.prototype.concat.apply([],arguments)}function os(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var LS=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},aV=/&/g,uV=/</g,lV=/>/g,cV=/"/g,fV=/'/g,hV=/\x00/g,dV=/[\x00&<>"']/;function je(o,u){return o.indexOf(u)!=-1}function Am(o,u){return o<u?-1:o>u?1:0}var Oa;e:{var MS=c.navigator;if(MS){var FS=MS.userAgent;if(FS){Oa=FS;break e}}Oa=""}function gt(o){return je(Oa,o)}function jS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function ss(o){for(var u in o)return!1;return!0}function eo(o){var u={},f;for(f in o)u[f]=o[f];return u}var US="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nn(o,u){for(var f,d,v=1;v<arguments.length;v++){d=arguments[v];for(f in d)o[f]=d[f];for(var _=0;_<US.length;_++)f=US[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function VS(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!o||!(o instanceof v[u])&&(o instanceof v.Location||o instanceof v.Element))){if(w(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;Ji("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Kr(o,u){this.a=o===Kh&&u||"",this.b=BS}Kr.prototype.ta=!0,Kr.prototype.sa=function(){return this.a},Kr.prototype.toString=function(){return"Const{"+this.a+"}"};function Rm(o){return o instanceof Kr&&o.constructor===Kr&&o.b===BS?o.a:(Ji("expected object of type Const, got '"+o+"'"),"type_error:Const")}var BS={},Kh={},Gh;function $S(){if(Gh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(f){c.console&&c.console.error(f.message)}Gh=o}else Gh=o}return Gh}function Da(o,u){this.a=u===zS?o:""}Da.prototype.ta=!0,Da.prototype.sa=function(){return this.a.toString()},Da.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function qS(o){return o instanceof Da&&o.constructor===Da?o.a:(Ji("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function xm(o,u){var f=Rm(o);if(!vV.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(pV,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof Kr?Rm(d):encodeURIComponent(String(d))}),gV(o)}var pV=/%{(\w+)}/g,vV=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,zS={};function gV(o){var u=$S();return o=u?u.createScriptURL(o):o,new Da(o,zS)}function An(o,u){this.a=u===Fl?o:""}An.prototype.ta=!0,An.prototype.sa=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Qh(o){return o instanceof An&&o.constructor===An?o.a:(Ji("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var mV=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,yV=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,WS=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function HS(o){if(o instanceof An)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),WS.test(o))o=new An(o,Fl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(yV);o=u&&mV.test(u[1])?new An(o,Fl):null}return o}function KS(o){return o instanceof An?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),WS.test(o)||(o="about:invalid#zClosurez"),new An(o,Fl))}var Fl={},GS=new An("about:invalid#zClosurez",Fl);function La(o,u,f){this.a=f===QS?o:""}La.prototype.ta=!0,La.prototype.sa=function(){return this.a.toString()},La.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function _V(o){return o instanceof La&&o.constructor===La?o.a:(Ji("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var QS={};function wV(o,u){VS(o,"HTMLScriptElement"),o.src=qS(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=g(u.document):(p===null&&(p=g(c.document)),u=p),u&&o.setAttribute("nonce",u)}function YS(o,u,f,d){return o=o instanceof An?o:KS(o),u=u||c,f=f instanceof Kr?Rm(f):f||"",u.open(Qh(o),f,d,void 0)}function XS(o,u){for(var f=o.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<f.length;)d+=f.shift()+v.shift();return d+f.join("%s")}function Pm(o){return dV.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(aV,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(uV,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(lV,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(cV,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(fV,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(hV,"&#0;"))),o}function Om(o){return Om[" "](o),o}Om[" "]=m;function EV(o,u){var f=SV;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var bV=gt("Opera"),Cr=gt("Trident")||gt("MSIE"),JS=gt("Edge"),TV=JS||Cr,ZS=gt("Gecko")&&!(je(Oa.toLowerCase(),"webkit")&&!gt("Edge"))&&!(gt("Trident")||gt("MSIE"))&&!gt("Edge"),IV=je(Oa.toLowerCase(),"webkit")&&!gt("Edge");function e1(){var o=c.document;return o?o.documentMode:void 0}var Yh;e:{var Dm="",Lm=function(){var o=Oa;if(ZS)return/rv:([^\);]+)(\)|;)/.exec(o);if(JS)return/Edge\/([\d\.]+)/.exec(o);if(Cr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(IV)return/WebKit\/(\S+)/.exec(o);if(bV)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Lm&&(Dm=Lm?Lm[1]:""),Cr){var Mm=e1();if(Mm!=null&&Mm>parseFloat(Dm)){Yh=String(Mm);break e}}Yh=Dm}var SV={};function t1(o){return EV(o,function(){for(var u=0,f=LS(String(Yh)).split("."),d=LS(String(o)).split("."),v=Math.max(f.length,d.length),_=0;u==0&&_<v;_++){var b=f[_]||"",C=d[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],b[0].length==0&&C[0].length==0)break;u=Am(b[1].length==0?0:parseInt(b[1],10),C[1].length==0?0:parseInt(C[1],10))||Am(b[2].length==0,C[2].length==0)||Am(b[2],C[2]),b=b[3],C=C[3]}while(u==0)}return 0<=u})}var Fm;if(c.document&&Cr){var n1=e1();Fm=n1||parseInt(Yh,10)||void 0}else Fm=void 0;var to=Fm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var kV=!Cr||9<=Number(to);function jl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function r1(o,u){jS(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:i1.hasOwnProperty(d)?o.setAttribute(i1[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var i1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function CV(o,u,f){var d=arguments,v=document,_=String(d[0]),b=d[1];if(!kV&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',Pm(b.name),'"'),b.type){_.push(' type="',Pm(b.type),'"');var C={};Nn(C,b),delete C.type,b=C}_.push(">"),_=_.join("")}return _=Xh(v,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):r1(_,b)),2<d.length&&NV(v,_,d),_}function NV(o,u,f){function d(C){C&&u.appendChild(typeof C=="string"?o.createTextNode(C):C)}for(var v=2;v<f.length;v++){var _=f[v];if(!E(_)||w(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(w(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(I(_)){b=typeof _.item=="function";break e}}b=!1}Pe(b?os(_):_,d)}}}function Xh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function o1(o){c.setTimeout(function(){throw o},0)}var jm;function AV(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!gt("Presto")&&(o=function(){var v=Xh(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var b="callImmediate"+Math.random(),C=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=O(function(L){(C=="*"||L.origin==C)&&L.data==b&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,C)}}}),typeof o<"u"&&!gt("Trident")&&!gt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var v=f.Hb;f.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,u.port2.postMessage(0)}}return function(v){c.setTimeout(v,0)}}function Jh(o,u){Zh||RV(),Um||(Zh(),Um=!0),s1.add(o,u)}var Zh;function RV(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Zh=function(){o.then(a1)}}else Zh=function(){var u=a1;!I(c.setImmediate)||c.Window&&c.Window.prototype&&!gt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(jm||(jm=AV()),jm(u)):c.setImmediate(u)}}var Um=!1,s1=new pe;function a1(){for(var o;o=vt();){try{o.a.call(o.b)}catch(u){o1(u)}se(ze,o)}Um=!1}function we(o,u){if(this.a=as,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){us(f,Ul,d)},function(d){if(!(d instanceof Ma))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}us(f,bi,d)})}catch(d){us(this,bi,d)}}var as=0,Ul=2,bi=3;function u1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}u1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var l1=new K(function(){return new u1},function(o){o.reset()});function Vm(o,u,f){var d=l1.get();return d.g=o,d.b=u,d.f=f,d}function re(o){if(o instanceof we)return o;var u=new we(m);return us(u,Ul,o),u}function We(o){return new we(function(u,f){f(o)})}function c1(o,u,f){p1(o,u,f,null)||Jh(W(u,o))}function xV(o){return new we(function(u,f){var d=o.length,v=[];if(d)for(var _=function(F,ue){d--,v[F]=ue,d==0&&u(v)},b=function(F){f(F)},C=0,L;C<o.length;C++)L=o[C],c1(L,W(_,C),b);else u(v)})}function f1(o){return new we(function(u){var f=o.length,d=[];if(f)for(var v=function(C,L,F){f--,d[C]=L?{Qb:!0,value:F}:{Qb:!1,reason:F},f==0&&u(d)},_=0,b;_<o.length;_++)b=o[_],c1(b,W(v,_,!0),W(v,_,!1));else u(d)})}we.prototype.then=function(o,u,f){return d1(this,I(o)?o:null,I(u)?u:null,f)},we.prototype.$goog_Thenable=!0,e=we.prototype,e.oa=function(o,u){return o=Vm(o,o,u),o.c=!0,Bm(this,o),this},e.o=function(o,u){return d1(this,null,o,u)},e.cancel=function(o){if(this.a==as){var u=new Ma(o);Jh(function(){h1(this,u)},this)}};function h1(o,u){if(o.a==as)if(o.c){var f=o.c;if(f.b){for(var d=0,v=null,_=null,b=f.b;b&&(b.c||(d++,b.a==o&&(v=b),!(v&&1<d)));b=b.next)v||(_=b);v&&(f.a==as&&d==1?h1(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):g1(f),m1(f,v,bi,u)))}o.c=null}else us(o,bi,u)}function Bm(o,u){o.b||o.a!=Ul&&o.a!=bi||v1(o),o.f?o.f.next=u:o.b=u,o.f=u}function d1(o,u,f,d){var v=Vm(null,null,null);return v.a=new we(function(_,b){v.g=u?function(C){try{var L=u.call(d,C);_(L)}catch(F){b(F)}}:_,v.b=f?function(C){try{var L=f.call(d,C);L===void 0&&C instanceof Ma?b(C):_(L)}catch(F){b(F)}}:b}),v.a.c=o,Bm(o,v),v.a}e.$c=function(o){this.a=as,us(this,Ul,o)},e.ad=function(o){this.a=as,us(this,bi,o)};function us(o,u,f){o.a==as&&(o===f&&(u=bi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,p1(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,v1(o),u!=bi||f instanceof Ma||OV(o,f)))}function p1(o,u,f,d){if(o instanceof we)return Bm(o,Vm(u||m,f||null,d)),!0;if(Pa(o))return o.then(u,f,d),!0;if(w(o))try{var v=o.then;if(I(v))return PV(o,v,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function PV(o,u,f,d,v){function _(L){C||(C=!0,d.call(v,L))}function b(L){C||(C=!0,f.call(v,L))}var C=!1;try{u.call(o,b,_)}catch(L){_(L)}}function v1(o){o.h||(o.h=!0,Jh(o.gc,o))}function g1(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=g1(this);)m1(this,o,this.a,this.i);this.h=!1};function m1(o,u,f,d){if(f==bi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,y1(u,f,d);else try{u.c?u.g.call(u.f):y1(u,f,d)}catch(v){_1.call(null,v)}se(l1,u)}function y1(o,u,f){u==Ul?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function OV(o,u){o.g=!0,Jh(function(){o.g&&_1.call(null,u)})}var _1=o1;function Ma(o){Ft.call(this,o)}U(Ma,Ft),Ma.prototype.name="cancel";function ed(){this.ya=this.ya,this.pa=this.pa}var DV=0;ed.prototype.ya=!1;function w1(o){!o.ya&&(o.ya=!0,o.Da(),DV!=0)&&T(o)}ed.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var LV=Object.freeze||function(o){return o},E1=!Cr||9<=Number(to),MV=Cr&&!t1("9"),FV=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Rn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Rn.prototype.preventDefault=function(){this.defaultPrevented=!0};function ls(o,u){if(Rn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(ZS){e:{try{Om(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:jV[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}U(ls,Rn);var jV=LV({2:"touch",3:"pen",4:"mouse"});ls.prototype.preventDefault=function(){ls.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,MV)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},ls.prototype.g=function(){return this.a};var Vl="closure_listenable_"+(1e6*Math.random()|0),UV=0;function VV(o,u,f,d,v){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=v,this.key=++UV,this.wa=this.Qa=!1}function td(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function nd(o){this.src=o,this.a={},this.b=0}nd.prototype.add=function(o,u,f,d,v){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=qm(o,u,d,v);return-1<b?(u=o[b],f||(u.Qa=!1)):(u=new VV(u,this.src,_,!!d,v),u.Qa=f,o.push(u)),u};function $m(o,u){var f=u.type;f in o.a&&Hh(o.a[f],u)&&(td(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function qm(o,u,f,d){for(var v=0;v<o.length;++v){var _=o[v];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return v}return-1}var zm="closure_lm_"+(1e6*Math.random()|0),Wm={};function ir(o,u,f,d,v){if(d&&d.once)Hm(o,u,f,d,v);else if(Array.isArray(u))for(var _=0;_<u.length;_++)ir(o,u[_],f,d,v);else f=Gm(f),o&&o[Vl]?C1(o,u,f,w(d)?!!d.capture:!!d,v):b1(o,u,f,!1,d,v)}function b1(o,u,f,d,v,_){if(!u)throw Error("Invalid event type");var b=w(v)?!!v.capture:!!v,C=rd(o);if(C||(o[zm]=C=new nd(o)),f=C.add(u,f,d,b,_),!f.proxy)if(d=BV(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)FV||(v=b),v===void 0&&(v=!1),o.addEventListener(u.toString(),d,v);else if(o.attachEvent)o.attachEvent(I1(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function BV(){var o=$V,u=E1?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Hm(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)Hm(o,u[_],f,d,v);else f=Gm(f),o&&o[Vl]?Qm(o,u,f,w(d)?!!d.capture:!!d,v):b1(o,u,f,!0,d,v)}function zn(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)zn(o,u[_],f,d,v);else d=w(d)?!!d.capture:!!d,f=Gm(f),o&&o[Vl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=qm(_,f,d,v),-1<f&&(td(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=rd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=qm(u,f,d,v)),(f=-1<o?u[o]:null)&&T1(f))}function T1(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[Vl])$m(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(I1(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=rd(u))?($m(f,o),f.b==0&&(f.src=null,u[zm]=null)):td(o)}}}function I1(o){return o in Wm?Wm[o]:Wm[o]="on"+o}function S1(o,u,f,d){var v=!0;if((o=rd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=k1(_,d),v=v&&_!==!1)}return v}function k1(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&T1(o),f.call(d,u)}function $V(o,u){if(o.wa)return!0;if(!E1){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new ls(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(o=o.type,v=d.length-1;0<=v;v--){u.b=d[v];var _=S1(d[v],o,!0,u);f=f&&_}for(v=0;v<d.length;v++)u.b=d[v],_=S1(d[v],o,!1,u),f=f&&_}return f}return k1(o,new ls(u,this))}function rd(o){return o=o[zm],o instanceof nd?o:null}var Km="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gm(o){return I(o)?o:(o[Km]||(o[Km]=function(u){return o.handleEvent(u)}),o[Km])}function dn(){ed.call(this),this.v=new nd(this),this.bc=this,this.hb=null}U(dn,ed),dn.prototype[Vl]=!0,dn.prototype.addEventListener=function(o,u,f,d){ir(this,o,u,f,d)},dn.prototype.removeEventListener=function(o,u,f,d){zn(this,o,u,f,d)},dn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Rn(o,f);else if(o instanceof Rn)o.target=o.target||f;else{var v=o;o=new Rn(d,f),Nn(o,v)}if(v=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];v=id(b,d,!0,o)&&v}if(b=o.b=f,v=id(b,d,!0,o)&&v,v=id(b,d,!1,o)&&v,u)for(_=0;_<u.length;_++)b=o.b=u[_],v=id(b,d,!1,o)&&v;return v},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)td(f[d]);delete o.a[u],o.b--}}this.hb=null};function C1(o,u,f,d,v){o.v.add(String(u),f,!1,d,v)}function Qm(o,u,f,d,v){o.v.add(String(u),f,!0,d,v)}function id(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.wa&&b.capture==f){var C=b.listener,L=b.Wa||b.src;b.Qa&&$m(o.v,b),v=C.call(L,d)!==!1&&v}}return v&&!d.defaultPrevented}function Ym(o,u,f){if(I(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Fa(o){var u=null;return new we(function(f,d){u=Ym(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function N1(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(E(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function A1(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(E(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function qV(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(E(o)||typeof o=="string")Pe(o,u,void 0);else for(var f=A1(o),d=N1(o),v=d.length,_=0;_<v;_++)u.call(void 0,d[_],f&&f[_],o)}function ja(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof ja)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=ja.prototype,e.X=function(){Xm(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Xm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Xm(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];cs(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var v={};for(f=u=0;u<o.a.length;)d=o.a[u],cs(v,d)||(o.a[f++]=d,v[d]=1),u++;o.a.length=f}}e.get=function(o,u){return cs(this.b,o)?this.b[o]:u},e.set=function(o,u){cs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var v=f[d],_=this.get(v);o.call(u,_,v,this)}};function cs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var R1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zV(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),v=null;if(0<=d){var _=o[f].substring(0,d);v=o[f].substring(d+1)}else _=o[f];u(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function no(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof no?(this.i=u!==void 0?u:o.i,Bl(this,o.c),this.l=o.l,this.a=o.a,$l(this,o.g),this.f=o.f,Jm(this,D1(o.b)),this.h=o.h):o&&(f=String(o).match(R1))?(this.i=!!u,Bl(this,f[1]||"",!0),this.l=ql(f[2]||""),this.a=ql(f[3]||"",!0),$l(this,f[4]),this.f=ql(f[5]||"",!0),Jm(this,f[6]||"",!0),this.h=ql(f[7]||"")):(this.i=!!u,this.b=new fs(null,this.i))}no.prototype.toString=function(){var o=[],u=this.c;u&&o.push(zl(u,x1,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(zl(u,x1,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(zl(f,f.charAt(0)=="/"?KV:HV,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",zl(f,QV)),o.join("")},no.prototype.resolve=function(o){var u=new no(this),f=!!o.c;f?Bl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)$l(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(je(v,"./")||je(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],b=0;b<v.length;){var C=v[b++];C=="."?d&&b==v.length&&_.push(""):C==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&b==v.length&&_.push("")):(_.push(C),d=!0)}d=_.join("/")}else d=v}return f?u.f=d:f=o.b.toString()!=="",f?Jm(u,D1(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Bl(o,u,f){o.c=f?ql(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function $l(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Jm(o,u,f){u instanceof fs?(o.b=u,YV(o.b,o.i)):(f||(u=zl(u,GV)),o.b=new fs(u,o.i))}function rt(o,u,f){o.b.set(u,f)}function or(o,u){return o.b.get(u)}function xn(o){return o instanceof no?new no(o):new no(o,void 0)}function od(o,u,f,d){var v=new no(null,void 0);return o&&Bl(v,o),u&&(v.a=u),f&&$l(v,f),d&&(v.f=d),v}function ql(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,WV),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function WV(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var x1=/[#\/\?@]/g,HV=/[#\?:]/g,KV=/[#\?]/g,GV=/[#\?@]/g,QV=/#/g;function fs(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function ro(o){o.a||(o.a=new ja,o.b=0,o.c&&zV(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function P1(o){var u=A1(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new fs(null,void 0);o=N1(o);for(var d=0;d<u.length;d++){var v=u[d],_=o[d];Array.isArray(_)?O1(f,v,_):f.add(v,_)}return f}e=fs.prototype,e.add=function(o,u){ro(this),this.c=null,o=Ua(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Gr(o,u){ro(o),u=Ua(o,u),cs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,cs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Xm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Zm(o,u){return ro(o),u=Ua(o,u),cs(o.a.b,u)}e.forEach=function(o,u){ro(this),this.a.forEach(function(f,d){Pe(f,function(v){o.call(u,v,d,this)},this)},this)},e.Y=function(){ro(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var v=o[d],_=0;_<v.length;_++)f.push(u[d]);return f},e.X=function(o){ro(this);var u=[];if(typeof o=="string")Zm(this,o)&&(u=Nm(u,this.a.get(Ua(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Nm(u,o[f])}return u},e.set=function(o,u){return ro(this),this.c=null,o=Ua(this,o),Zm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function O1(o,u,f){Gr(o,u),0<f.length&&(o.c=null,o.a.set(Ua(o,u),os(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],v=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var b=v;d[_]!==""&&(b+="="+encodeURIComponent(String(d[_]))),o.push(b)}}return this.c=o.join("&")};function D1(o){var u=new fs;return u.c=o.c,o.a&&(u.a=new ja(o.a),u.b=o.b),u}function Ua(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function YV(o,u){u&&!o.f&&(ro(o),o.c=null,o.a.forEach(function(f,d){var v=d.toLowerCase();d!=v&&(Gr(this,d),O1(this,v,f))},o)),o.f=u}function L1(o){var u=[];return ey(new XV,o,u),u.join("")}function XV(){}function ey(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var v="",_=0;_<u;_++)f.push(v),ey(o,d[_],f),v=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(v),F1(d,f),f.push(":"),ey(o,_,f),v=","));f.push("}");return}}switch(typeof u){case"string":F1(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var M1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},JV=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function F1(o,u){u.push('"',o.replace(JV,function(f){var d=M1[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),M1[f]=d),d}),'"')}function ty(){var o=jt();return Cr&&!!to&&to==11||/Edge\/\d+/.test(o)}function Wl(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function j1(o,u){u=u||c.window;var f="about:blank";o&&(f=Qh(HS(o)||GS)),u.location.href=f}function U1(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<U1(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function ZV(){var o=jt();return o=Va(o)!=q1?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Cr||!to||9<to}function V1(o){return o=(o||jt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function hs(o){o=o||c.window;try{o.close()}catch{}}function B1(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var v=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=jt().toLowerCase(),d&&(u.target=d,je(f,"crios/")&&(u.target="_blank")),Va(jt())==iy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof An?f:HS(typeof f.href<"u"?f.href:String(f))||GS,f=o.target||f.target,v=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(o[b]?1:0))}var b=v.join(",");if((gt("iPhone")&&!gt("iPod")&&!gt("iPad")||gt("iPad")||gt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(b=Xh(document,"A"),VS(b,"HTMLAnchorElement"),u=u instanceof An?u:KS(u),b.href=Qh(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=YS("",d,f,b),o=Qh(u),b&&(TV&&je(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pm(o)+'">',o=(d=$S())?d.createHTML(o):o,o=new La(o,null,QS),d=b.document)&&(d.write(_V(o)),d.close())):(b=YS(u,d,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function eB(o){return new we(function(u){function f(){Fa(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var tB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nB=/^[^@]+@[^@]+$/;function sd(){var o=null;return new we(function(u){c.document.readyState=="complete"?u():(o=function(){u()},Hm(window,"load",o))}).o(function(u){throw zn(window,"load",o),u})}function rB(){return ny(void 0)?sd().then(function(){return new we(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):We(Error("Cordova must run in an Android or iOS file scheme."))}function ny(o){return o=o||jt(),!($a()!=="file:"&&$a()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function ry(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Nr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Qr(){return te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.INTERNAL.hasOwnProperty("node")?"Node":Nr()?"Worker":"Browser"}function $1(){var o=Qr();return o==="ReactNative"||o==="Node"}function iB(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var iy="Firefox",q1="Chrome";function Va(o){var u=o.toLowerCase();if(je(u,"opera/")||je(u,"opr/")||je(u,"opios/"))return"Opera";if(je(u,"iemobile"))return"IEMobile";if(je(u,"msie")||je(u,"trident/"))return"IE";if(je(u,"edge/"))return"Edge";if(je(u,"firefox/"))return iy;if(je(u,"silk/"))return"Silk";if(je(u,"blackberry"))return"Blackberry";if(je(u,"webos"))return"Webos";if(!je(u,"safari/")||je(u,"chrome/")||je(u,"crios/")||je(u,"android"))if(!je(u,"chrome/")&&!je(u,"crios/")||je(u,"edge/")){if(je(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return q1;else return"Safari";return"Other"}var z1={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ba(o,u){u=u||[];var f=[],d={},v;for(v in z1)d[z1[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]<"u"&&(delete d[u[v]],f.push(u[v]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Qr(),f==="Browser"?(d=jt(),f=Va(d)):f==="Worker"&&(d=jt(),f=Va(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function jt(){return c.navigator&&c.navigator.userAgent||""}function He(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function oy(){try{var o=c.localStorage,u=ps();if(o)return o.setItem(u,"1"),o.removeItem(u),ty()?!!c.indexedDB:!0}catch{return Nr()&&!!c.indexedDB}return!1}function ds(){return(ad()||$a()==="chrome-extension:"||ny())&&!$1()&&oy()&&!Nr()}function ad(){return $a()==="http:"||$a()==="https:"}function $a(){return c.location&&c.location.protocol||null}function Hl(o){return o=o||jt(),!(V1(o)||Va(o)==iy)}function Kl(o){return typeof o>"u"?null:L1(o)}function W1(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function qa(o){if(o!==null)return JSON.parse(o)}function ps(o){return o||Math.floor(1e9*Math.random()).toString()}function H1(o){return o=o||jt(),!(Va(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function K1(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function io(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=jt(),u=Qr(),this.b=V1(o)||u==="ReactNative"}io.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(ad()||$a()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function sy(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function oB(){var o=c.document,u=null;return sy()||!o?re():new we(function(f){u=function(){sy()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Gl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function G1(){return!(!He("fireauth.oauthhelper",c)&&!He("fireauth.iframe",c))}function sB(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function aB(){var o=c.navigator;return o&&o.serviceWorker?re().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):re(null)}var Q1={};function ay(o){Q1[o]||(Q1[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var uy;try{var ly={};Object.defineProperty(ly,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ly,"abcd",{configurable:!0,enumerable:!0,value:2}),uy=ly.abcd==2}catch{uy=!1}function Z(o,u,f){uy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function pn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&Z(o,f,u[f])}function Yr(o){var u={};return pn(u,o),u}function uB(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function lB(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function cy(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)Z(u,f,cy(o[f]))}return u}function fy(o){var u=o&&(o[vy]?"phone":null);if(u&&o&&o[py]){Z(this,"uid",o[py]),Z(this,"displayName",o[Y1]||null);var f=null;o[dy]&&(f=new Date(o[dy]).toUTCString()),Z(this,"enrollmentTime",f),Z(this,"factorId",u)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}fy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function hy(o){try{var u=new Ql(o)}catch{u=null}return u}var Y1="displayName",dy="enrolledAt",py="mfaEnrollmentId",vy="phoneInfo";function Ql(o){fy.call(this,o),Z(this,"phoneNumber",o[vy])}U(Ql,fy),Ql.prototype.w=function(){var o=Ql.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function cB(o){var u={},f=o[fB],d=o[dB],v=o[pB];if(o=hy(o[hB]),!v||v!=ud&&v!=Yl&&!f||v==Yl&&!d||v==gy&&!o)throw Error("Invalid checkActionCode response!");v==Yl?(u[J1]=f||null,u[Z1]=f||null,u[X1]=d):(u[J1]=d||null,u[Z1]=d||null,u[X1]=f||null),u[vB]=o||null,Z(this,mB,v),Z(this,gB,cy(u))}var gy="REVERT_SECOND_FACTOR_ADDITION",ud="EMAIL_SIGNIN",Yl="VERIFY_AND_CHANGE_EMAIL",fB="email",hB="mfaInfo",dB="newEmail",pB="requestType",X1="email",J1="fromEmail",vB="multiFactorInfo",Z1="previousEmail",gB="data",mB="operation";function my(o){o=xn(o);var u=or(o,ek)||null,f=or(o,tk)||null,d=or(o,nk)||null;if(d=d&&EB[d]||null,!u||!f||!d)throw new x("argument-error",ek+", "+tk+"and "+nk+" are required in a valid action code URL.");pn(this,{apiKey:u,operation:d,code:f,continueUrl:or(o,yB)||null,languageCode:or(o,_B)||null,tenantId:or(o,wB)||null})}var ek="apiKey",tk="oobCode",yB="continueUrl",_B="languageCode",nk="mode",wB="tenantId",EB={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:gy,signIn:ud,verifyAndChangeEmail:Yl,verifyEmail:"VERIFY_EMAIL"};function rk(o){try{return new my(o)}catch{return null}}function ld(o){var u=o[bB];if(typeof u>"u")throw new x("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new x("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[ik];if(f&&typeof f=="object"){u=f[lk];var d=f[ak];if(f=f[uk],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",ak+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new x("argument-error",uk+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new x("argument-error",lk+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new x("missing-android-pkg-name")}}else if(typeof f<"u")throw new x("argument-error",ik+" property must be a non null object when specified.");if(this.f=null,(u=o[sk])&&typeof u=="object"){if(u=u[ck],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new x("argument-error",ck+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new x("argument-error",sk+" property must be a non null object when specified.");if(u=o[yy],typeof u<"u"&&typeof u!="boolean")throw new x("argument-error",yy+" property must be a boolean when specified.");if(this.c=!!u,o=o[ok],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new x("argument-error",ok+" property must be a non empty string when specified.");this.i=o||null}var ik="android",ok="dynamicLinkDomain",yy="handleCodeInApp",sk="iOS",bB="url",ak="installApp",uk="minimumVersion",lk="packageName",ck="bundleId";function cd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function TB(o){return Wh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Xl=null;function IB(o){var u=[];return SB(o,function(f){u.push(f)}),u}function SB(o,u){function f(L){for(;d<o.length;){var F=o.charAt(d++),ue=Xl[F];if(ue!=null)return ue;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return L}kB();for(var d=0;;){var v=f(-1),_=f(0),b=f(64),C=f(64);if(C===64&&v===-1)break;u(v<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),C!=64&&u(b<<6&192|C))}}function kB(){if(!Xl){Xl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),v=0;v<d.length;v++){var _=d[v];Xl[_]===void 0&&(Xl[_]=v)}}}function fd(o){var u=fk(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}fd.prototype.T=function(){return this.f},fd.prototype.l=function(){return this.c},fd.prototype.toString=function(){return this.h};function hd(o){try{return new fd(o)}catch{return null}}function fk(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=IB(o);for(o=[],f=u=0;u<d.length;){var v=d[u++];if(128>v)o[f++]=String.fromCharCode(v);else if(191<v&&224>v){var _=d[u++];o[f++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=d[u++];var b=d[u++],C=d[u++],L=((v&7)<<18|(_&63)<<12|(b&63)<<6|C&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=d[u++],b=d[u++],o[f++]=String.fromCharCode((v&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var hk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),dd=["client_id","response_type","scope","redirect_uri","state"],_y={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:dd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:dd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:dd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:hk},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function wy(o){for(var u in _y)if(_y[u].fa==o)return _y[u];return null}function dk(o){var u={};u["facebook.com"]=vk,u["google.com"]=mk,u["github.com"]=gk,u["twitter.com"]=yk;var f=o&&o[pk];try{if(f)return u[f]?new u[f](o):new Xr(o);if(typeof o[Ey]<"u")return new by(o)}catch{}return null}var Ey="idToken",pk="providerId";function by(o){var u=o[pk];if(!u&&o[Ey]){var f=hd(o[Ey]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),Z(this,"providerId",u),Z(this,"isNewUser",f)}function Xr(o){by.call(this,o),o=qa(o.rawUserInfo||"{}"),Z(this,"profile",cy(o||{}))}U(Xr,by);function vk(o){if(Xr.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}U(vk,Xr);function gk(o){if(Xr.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Z(this,"username",this.profile&&this.profile.login||null)}U(gk,Xr);function mk(o){if(Xr.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}U(mk,Xr);function yk(o){if(Xr.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Z(this,"username",o.screenName||null)}U(yk,Xr);function _k(o){var u=xn(o),f=or(u,"link"),d=or(xn(f),"link");return u=or(u,"deep_link_id"),or(xn(u),"link")||u||d||f||o}function pd(o,u){if(!o&&!u)throw new x("internal-error","Internal assert: no raw session string available");if(o&&u)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Jl:vd}var Jl="enroll",vd="signin";pd.prototype.Ha=function(){return this.a?re(this.a):re(this.b)},pd.prototype.w=function(){return this.type==Jl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function za(){}za.prototype.ka=function(){},za.prototype.b=function(){},za.prototype.c=function(){},za.prototype.w=function(){};function Wa(o,u){return o.then(function(f){if(f[xr]){var d=hd(f[xr]);if(!d||u!=d.i)throw new x("user-mismatch");return f}throw new x("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==It+"user-not-found"?new x("user-mismatch"):f})}function vs(o,u){if(u)this.a=u;else throw new x("internal-error","failed to construct a credential");Z(this,"providerId",o),Z(this,"signInMethod",o)}vs.prototype.ka=function(o){return Hy(o,Ty(this))},vs.prototype.b=function(o,u){var f=Ty(this);return f.idToken=u,Ky(o,f)},vs.prototype.c=function(o,u){return Wa(Gy(o,Ty(this)),u)};function Ty(o){return{pendingToken:o.a,requestUri:"http://localhost"}}vs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function CB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new vs(o.providerId,o.pendingToken)}catch{}return null}function Ti(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Z(this,"idToken",u.idToken),u.accessToken&&Z(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Z(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Z(this,"accessToken",u.oauthToken),Z(this,"secret",u.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");Z(this,"providerId",o),Z(this,"signInMethod",f)}Ti.prototype.ka=function(o){return Hy(o,Iy(this))},Ti.prototype.b=function(o,u){var f=Iy(this);return f.idToken=u,Ky(o,f)},Ti.prototype.c=function(o,u){var f=Iy(this);return Wa(Gy(o,f),u)};function Iy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:P1(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ti.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function NB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ti(o.providerId,u,o.signInMethod)}catch{}}return null}function gs(o,u){this.Qc=u||[],pn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(wy(o)||{}).Ja||null,this.pb=null}gs.prototype.Ka=function(o){return this.Jb=eo(o),this};function wk(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');gs.call(this,o,[])}U(wk,gs);function Wn(o){gs.call(this,o,dd),this.a=[]}U(Wn,gs),Wn.prototype.Ca=function(o){return Ei(this.a,o)||this.a.push(o),this},Wn.prototype.Rb=function(){return os(this.a)},Wn.prototype.credential=function(o,u){var f;if(w(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ti(this.providerId,f,this.providerId)};function ms(){Wn.call(this,"facebook.com")}U(ms,Wn),Z(ms,"PROVIDER_ID","facebook.com"),Z(ms,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Ek(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new ms().credential({accessToken:u})}function ys(){Wn.call(this,"github.com")}U(ys,Wn),Z(ys,"PROVIDER_ID","github.com"),Z(ys,"GITHUB_SIGN_IN_METHOD","github.com");function bk(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new ys().credential({accessToken:u})}function _s(){Wn.call(this,"google.com"),this.Ca("profile")}U(_s,Wn),Z(_s,"PROVIDER_ID","google.com"),Z(_s,"GOOGLE_SIGN_IN_METHOD","google.com");function Tk(o,u){var f=o;return w(o)&&(f=o.idToken,u=o.accessToken),new _s().credential({idToken:f,accessToken:u})}function Ha(){gs.call(this,"twitter.com",hk)}U(Ha,gs),Z(Ha,"PROVIDER_ID","twitter.com"),Z(Ha,"TWITTER_SIGN_IN_METHOD","twitter.com");function Ik(o,u){var f=o;if(w(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ti("twitter.com",f,"twitter.com")}function oo(o,u,f){this.a=o,this.f=u,Z(this,"providerId","password"),Z(this,"signInMethod",f===sr.EMAIL_LINK_SIGN_IN_METHOD?sr.EMAIL_LINK_SIGN_IN_METHOD:sr.EMAIL_PASSWORD_SIGN_IN_METHOD)}oo.prototype.ka=function(o){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,h$,{email:this.a,oobCode:this.f}):Ee(o,Jk,{email:this.a,password:this.f})},oo.prototype.b=function(o,u){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,d$,{idToken:u,email:this.a,oobCode:this.f}):Ee(o,Xk,{idToken:u,email:this.a,password:this.f})},oo.prototype.c=function(o,u){return Wa(this.ka(o),u)},oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function AB(o){return o&&o.email&&o.password?new oo(o.email,o.password,o.signInMethod):null}function sr(){pn(this,{providerId:"password",isOAuthProvider:!1})}function Sk(o,u){if(u=Sy(u),!u)throw new x("argument-error","Invalid email link!");return new oo(o,u.code,sr.EMAIL_LINK_SIGN_IN_METHOD)}function Sy(o){return o=_k(o),(o=rk(o))&&o.operation===ud?o:null}pn(sr,{PROVIDER_ID:"password"}),pn(sr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pn(sr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function so(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new x("internal-error");this.a=o,Z(this,"providerId","phone"),this.fa="phone",Z(this,"signInMethod","phone")}so.prototype.ka=function(o){return o.gb(Zl(this))},so.prototype.b=function(o,u){var f=Zl(this);return f.idToken=u,Ee(o,O$,f)},so.prototype.c=function(o,u){var f=Zl(this);return f.operation="REAUTH",o=Ee(o,D$,f),Wa(o,u)},so.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function RB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Pe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new so(u)}return null}function Zl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Ii(o){try{this.a=o||te.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pn(this,{providerId:"phone",isOAuthProvider:!1})}Ii.prototype.gb=function(o,u){var f=this.a.a;return re(u.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=w(o)?o.session:null,_=w(o)?o.phoneNumber:o,b;return v&&v.type==Jl?b=v.Ha().then(function(C){return r$(f,{idToken:C,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):v&&v.type==vd?b=v.Ha().then(function(C){return i$(f,{mfaPendingCredential:C,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=n$(f,{phoneNumber:_,recaptchaToken:d}),b.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function kk(o,u){if(!o)throw new x("missing-verification-id");if(!u)throw new x("missing-verification-code");return new so({fb:o,eb:u})}pn(Ii,{PROVIDER_ID:"phone"}),pn(Ii,{PHONE_SIGN_IN_METHOD:"phone"});function ky(o){if(o.temporaryProof&&o.phoneNumber)return new so({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,v=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return Tk(_,f);case"facebook.com":return Ek(f);case"github.com":return bk(f);case"twitter.com":return Ik(f,d);default:return f||d||_||b?b?u.indexOf("saml.")==0?new vs(u,b):new Ti(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Wn(u).credential({idToken:_,accessToken:f,rawNonce:v}):null}}catch{return null}}function Cy(o){if(!o.isOAuthProvider)throw new x("invalid-oauth-provider")}function Ar(o,u,f,d,v,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Ar.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Ar.prototype.T=function(){return this.h},Ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Ck(o){return o=o||{},o.type?new Ar(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&wi(o.error),o.postBody,o.tenantId):null}function xB(){this.b=null,this.a=[]}var Ny=null;function PB(o){var u=Ny;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=He("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Ay(o){var u="unauthorized-domain",f=void 0,d=xn(o);o=d.a,d=d.c,d=="chrome-extension"?f=XS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=XS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",x.call(this,u,f)}U(Ay,x);function ec(o,u,f){x.call(this,o,f),o=u||{},o.Kb&&Z(this,"email",o.Kb),o.ea&&Z(this,"phoneNumber",o.ea),o.credential&&Z(this,"credential",o.credential),o.$b&&Z(this,"tenantId",o.$b)}U(ec,x),ec.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Nn(o,u),o},ec.prototype.toJSON=function(){return this.w()};function gd(o){if(o.code){var u=o.code||"";u.indexOf(It)==0&&(u=u.substring(It.length));var f={credential:ky(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new x(u,o.message||void 0);return new ec(u,f,o.message)}return null}function tc(){}tc.prototype.c=null;function Nk(o){return o.c||(o.c=o.b())}var Ry;function md(){}U(md,tc),md.prototype.a=function(){var o=Ak(this);return o?new ActiveXObject(o):new XMLHttpRequest},md.prototype.b=function(){var o={};return Ak(this)&&(o[0]=!0,o[1]=!0),o};function Ak(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Ry=new md;function yd(){}U(yd,tc),yd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new Rk;throw Error("Unsupported browser")},yd.prototype.b=function(){return{}};function Rk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=Rk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,xy(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",xy(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,xy(this,1)};function xy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Py(o,u,f){this.reset(o,u,f,void 0,void 0)}Py.prototype.a=null,Py.prototype.reset=function(o,u,f,d,v){delete this.a};function Oy(o){this.f=o,this.b=this.c=this.a=null}function nc(o,u){this.name=o,this.value=u}nc.prototype.toString=function(){return this.name};var xk=new nc("SEVERE",1e3),Dy=new nc("WARNING",900),OB=new nc("CONFIG",700),DB=new nc("FINE",500);function Pk(o){return o.c?o.c:o.a?Pk(o.a):(Ji("Root logger has no level set."),null)}Oy.prototype.log=function(o,u,f){if(o.value>=Pk(this).value)for(I(u)&&(u=u()),o=new Py(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Ly={},_d=null;function My(o){_d||(_d=new Oy(""),Ly[""]=_d,_d.c=OB);var u;if(!(u=Ly[o])){u=new Oy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=My(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,Ly[o]=u}return u}function ar(o,u){o&&o.log(DB,u,void 0)}function wd(o){this.f=o}U(wd,tc),wd.prototype.a=function(){return new Ed(this.f)},wd.prototype.b=function(o){return function(){return o}}({});function Ed(o){dn.call(this),this.u=o,this.h=void 0,this.readyState=Fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=My("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}U(Ed,dn);var Fy=0;e=Ed.prototype,e.open=function(o,u){if(this.readyState!=Fy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,ic(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,rc(this)),this.readyState=Fy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ic(this)),this.a&&(this.readyState=3,ic(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,Ok(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Ok(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?rc(this):ic(this),this.readyState==3&&Ok(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,rc(this))},e.sc=function(o){this.a&&(this.response=o,rc(this))},e.Va=function(o){var u=this.i;u&&u.log(Dy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&rc(this)};function rc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ic(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Dy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Dy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ic(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ed.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function oc(o){dn.call(this),this.headers=new ja,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Dk,this.u=this.S=!1}U(oc,dn);var Dk="";oc.prototype.b=My("goog.net.XhrIo");var LB=/^https?$/i,MB=["POST","PUT"];function FB(o,u,f,d,v){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Ry.a(),o.C=o.D?Nk(o.D):Nk(Ry),o.a.onreadystatechange=O(o.Wb,o);try{ar(o.b,Si(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(b){ar(o.b,Si(o,"Error opening Xhr: "+b.message)),Lk(o,b);return}u=d||"";var _=new ja(o.headers);v&&qV(v,function(b,C){_.set(C,b)}),v=sV(_.Y()),d=c.FormData&&u instanceof c.FormData,!Ei(MB,f)||v||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,C){this.a.setRequestHeader(C,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{jk(o),0<o.g&&(o.u=jB(o.a),ar(o.b,Si(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=Ym(o.Ma,o.g,o)),ar(o.b,Si(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){ar(o.b,Si(o,"Send error: "+b.message)),Lk(o,b)}}function jB(o){return Cr&&t1(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function UB(o){return o.toLowerCase()=="content-type"}e=oc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ar(this.b,Si(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Lk(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,Mk(o),bd(o)}function Mk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ar(this.b,Si(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),bd(this,!0)),oc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Fk(this):this.Jc())},e.Jc=function(){Fk(this)};function Fk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&sc(o)==4&&Td(o)==2)ar(o.b,Si(o,"Local request error detected and ignored"));else if(o.i&&sc(o)==4)Ym(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),sc(o)==4){ar(o.b,Si(o,"Request complete")),o.c=!1;try{var u=Td(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var v;if(v=u===0){var _=String(o.l).match(R1)[1]||null;if(!_&&c.self&&c.self.location){var b=c.self.location.protocol;_=b.substr(0,b.length-1)}v=!LB.test(_?_.toLowerCase():"")}d=v}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var C=2<sc(o)?o.a.statusText:""}catch(L){ar(o.b,"Can not get status: "+L.message),C=""}o.h=C+" ["+Td(o)+"]",Mk(o)}}finally{bd(o)}}}}function bd(o,u){if(o.a){jk(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(v){(o=o.b)&&o.log(xk,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function jk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function sc(o){return o.a?o.a.readyState:0}function Td(o){try{return 2<sc(o)?o.a.status:-1}catch{return-1}}function VB(o){try{return o.a?o.a.responseText:""}catch(u){return ar(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Dk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(xk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return ar(this.b,"Can not get response: "+u.message),null}};function Si(o,u){return u+" ["+o.P+" "+o.l+" "+Td(o)+"]"}function ws(o){var u=qB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ws.prototype.cancel=function(o){if(this.a)this.c instanceof ws&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new uc,Id(this),ac(this,!1,o))}},ws.prototype.m=function(o,u){this.i=!1,ac(this,o,u)};function ac(o,u,f){o.a=!0,o.c=f,o.f=!u,Vk(o)}function Id(o){if(o.a){if(!o.v)throw new Sd;o.v=!1}}function BB(o,u){jy(o,null,u,void 0)}function jy(o,u,f,d){o.g.push([u,f,d]),o.a&&Vk(o)}ws.prototype.then=function(o,u,f){var d,v,_=new we(function(b,C){d=b,v=C});return jy(this,d,function(b){b instanceof uc?_.cancel():v(b)}),_.then(o,u,f)},ws.prototype.$goog_Thenable=!0;function Uk(o){return oV(o.g,function(u){return I(u[1])})}function Vk(o){if(o.h&&o.a&&Uk(o)){var u=o.h,f=kd[u];f&&(c.clearTimeout(f.a),delete kd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var v=o.g.shift(),_=v[0],b=v[1];if(v=v[2],_=o.f?b:_)try{var C=_.call(v||o.s,u);C!==void 0&&(o.f=o.f&&(C==u||C instanceof Error),o.c=u=C),(Pa(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(L){u=L,o.f=!0,Uk(o)||(f=!0)}}o.c=u,d&&(C=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof ws?(jy(u,C,d),u.C=!0):u.then(C,d)),f&&(u=new Bk(u),kd[u.a]=u,o.h=u.a)}function Sd(){Ft.call(this)}U(Sd,Ft),Sd.prototype.message="Deferred has already fired",Sd.prototype.name="AlreadyCalledError";function uc(){Ft.call(this)}U(uc,Ft),uc.prototype.message="Deferred was canceled",uc.prototype.name="CanceledError";function Bk(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}Bk.prototype.c=function(){throw delete kd[this.a],this.b};var kd={};function Uy(o){var u={},f=u.document||document,d=qS(o).toString(),v=Xh(document,"SCRIPT"),_={Xb:v,Ma:void 0},b=new ws(_),C=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(C=window.setTimeout(function(){Cd(v,!0);var F=new Vy(WB,"Timeout reached for loading script "+d);Id(b),ac(b,!1,F)},L),_.Ma=C),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Cd(v,u.xd||!1,C),Id(b),ac(b,!0,null))},v.onerror=function(){Cd(v,!0,C);var F=new Vy(zB,"Error while loading script "+d);Id(b),ac(b,!1,F)},_=u.attributes||{},Nn(_,{type:"text/javascript",charset:"UTF-8"}),r1(v,_),wV(v,o),$B(f).appendChild(v),b}function $B(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function qB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Cd(o,!0,this.Ma)}}function Cd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var zB=0,WB=1;function Vy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Ft.call(this,f),this.code=o}U(Vy,Ft);function Nd(o){this.f=o}U(Nd,tc),Nd.prototype.a=function(){return new this.f},Nd.prototype.b=function(){return{}};function Rr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||HB,this.g=eo(o.secureTokenHeaders||KB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||GB,this.a=eo(o.firebaseHeaders||QB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Qr()=="Node",f=c.XMLHttpRequest||f&&te.INTERNAL.node&&te.INTERNAL.node.XMLHttpRequest,!f&&!Nr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Nr()?this.f=new wd(self):$1()?this.f=new Nd(f):this.f=new yd,this.b=null}var By,xr="idToken",HB=new io(3e4,6e4),KB={"Content-Type":"application/x-www-form-urlencoded"},GB=new io(3e4,6e4),QB={"Content-Type":"application/json"};function $k(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Ad(o,u){u&&(o.l=$y("https://securetoken.googleapis.com/v1/token",u),o.h=$y("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=$y("https://identitytoolkit.googleapis.com/v2/",u))}function $y(o,u){return o=xn(o),u=xn(u.url),o.f=o.a+o.f,Bl(o,u.c),o.a=u.a,$l(o,u.g),o.toString()}function qk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Rr.prototype.T=function(){return this.b};function zk(o,u,f,d,v,_,b){ZV()||Nr()?o=O(o.u,o):(By||(By=new we(function(C,L){XB(C,L)})),o=O(o.s,o)),o(u,f,d,v,_,b)}Rr.prototype.u=function(o,u,f,d,v,_){if(Nr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new oc(this.f);if(_){b.g=Math.max(0,_);var C=setTimeout(function(){b.dispatchEvent("timeout")},_)}C1(b,"complete",function(){C&&clearTimeout(C);var L=null;try{L=JSON.parse(VB(this))||null}catch{L=null}u&&u(L)}),Qm(b,"ready",function(){C&&clearTimeout(C),w1(this)}),Qm(b,"timeout",function(){C&&clearTimeout(C),w1(this),u&&u(null)}),FB(b,o,f,d,v)};var YB=new Kr(Kh,"https://apis.google.com/js/client.js?onload=%{onload}"),Wk="__fcb"+Math.floor(1e6*Math.random()).toString();function XB(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[Wk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=xm(YB,{onload:Wk});BB(Uy(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Rr.prototype.s=function(o,u,f,d,v){var _=this;By.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:v,authType:"none",callback:function(C){window.gapi.auth.setToken(b),u&&u(C)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function JB(o,u){return new we(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?zk(o,o.l+"?key="+encodeURIComponent(o.c),function(v){v?v.error?d(Yy(v)):v.access_token&&v.refresh_token?f(v):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",P1(u).toString(),o.g,o.m.get()):d(new x("internal-error"))})}function Hk(o,u,f,d,v,_,b){var C=xn(u+f);rt(C,"key",o.c),b&&rt(C,"cb",Date.now().toString());var L=d=="GET";if(L)for(var F in v)v.hasOwnProperty(F)&&rt(C,F,v[F]);return new we(function(ue,Oe){zk(o,C.toString(),function(ke){ke?ke.error?Oe(Yy(ke,_||{})):ue(ke):Oe(new x("network-request-failed"))},d,L?void 0:L1(W1(v)),o.a,o.v.get())})}function Es(o){if(o=o.email,typeof o!="string"||!nB.test(o))throw new x("invalid-email")}function Kk(o){"email"in o&&Es(o)}function ZB(o,u){return Ee(o,l$,{identifier:u,continueUri:ad()?Wl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function e$(o){return Ee(o,E$,{}).then(function(u){return u.authorizedDomains||[]})}function Pn(o){if(!o[xr])throw o.mfaPendingCredential?new x("multi-factor-auth-required",null,eo(o)):new x("internal-error")}function qy(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new x("internal-error")}else{if(!o.sessionInfo)throw new x("missing-verification-id");if(!o.code)throw new x("missing-verification-code")}}Rr.prototype.Ab=function(){return Ee(this,S$,{})},Rr.prototype.Cb=function(o,u){return Ee(this,Yk,{idToken:o,email:u})},Rr.prototype.Db=function(o,u){return Ee(this,Xk,{idToken:o,password:u})};var t$={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Rr.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return jS(t$,function(v,_){var b=u[_];b===null?d.push(v):_ in u&&(f[_]=b)}),d.length&&(f.deleteAttribute=d),Ee(this,Yk,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Nn(o,u),Ee(this,w$,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Nn(o,u),Ee(this,m$,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Nn(o,u),Ee(this,y$,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Nn(o,f),Ee(this,_$,o)};function n$(o,u){return Ee(o,I$,u)}e.gb=function(o){return Ee(this,P$,o)};function r$(o,u){return Ee(o,k$,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function Gk(o){if(!o.phoneVerificationInfo)throw new x("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new x("missing-verification-code")}function i$(o,u){return Ee(o,C$,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function o$(o,u,f){return Ee(o,f$,{idToken:u,deleteProvider:f})}function zy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new x("internal-error")}function Wy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new fs(o.postBody),Zm(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function Qk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=gd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=gd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=gd(o)):o.errorMessage&&(u=Zk(o.errorMessage)),u)throw u;Pn(o)}function Hy(o,u){return u.returnIdpCredential=!0,Ee(o,N$,u)}function Ky(o,u){return u.returnIdpCredential=!0,Ee(o,R$,u)}function Gy(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ee(o,A$,u)}function Qy(o){if(!o.oobCode)throw new x("invalid-action-code")}e.ob=function(o,u){return Ee(this,T$,{oobCode:o,newPassword:u})},e.Sa=function(o){return Ee(this,a$,{oobCode:o})},e.kb=function(o){return Ee(this,s$,{oobCode:o})};var s$={endpoint:"setAccountInfo",A:Qy,Z:"email",B:!0},a$={endpoint:"resetPassword",A:Qy,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},u$={endpoint:"signupNewUser",A:function(o){if(Es(o),!o.password)throw new x("weak-password")},G:Pn,V:!0,B:!0},l$={endpoint:"createAuthUri",B:!0},c$={endpoint:"deleteAccount",O:["idToken"]},f$={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new x("internal-error")}},h$={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Es,G:Pn,V:!0,B:!0},d$={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Es,G:Pn,V:!0},p$={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Gk,G:Pn,B:!0,Na:!0},v$={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Gk,G:Pn,B:!0,Na:!0},g$={endpoint:"getAccountInfo"},m$={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new x("internal-error");Es(o)},Z:"email",B:!0},y$={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},_$={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},w$={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new x("internal-error");Es(o)},Z:"email",B:!0},E$={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},b$={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new x("internal-error")}},T$={endpoint:"resetPassword",A:Qy,Z:"email",B:!0},I$={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Yk={endpoint:"setAccountInfo",O:["idToken"],A:Kk,V:!0},Xk={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(Kk(o),!o.password)throw new x("weak-password")},G:Pn,V:!0},S$={endpoint:"signupNewUser",G:Pn,V:!0,B:!0},k$={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new x("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},C$={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},N$={endpoint:"verifyAssertion",A:zy,Za:Wy,G:Qk,V:!0,B:!0},A$={endpoint:"verifyAssertion",A:zy,Za:Wy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(o.errorMessage)throw Zk(o.errorMessage);Pn(o)},V:!0,B:!0},R$={endpoint:"verifyAssertion",A:function(o){if(zy(o),!o.idToken)throw new x("internal-error")},Za:Wy,G:Qk,V:!0},x$={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new x("invalid-custom-token")},G:Pn,V:!0,B:!0},Jk={endpoint:"verifyPassword",A:function(o){if(Es(o),!o.password)throw new x("wrong-password")},G:Pn,V:!0,B:!0},P$={endpoint:"verifyPhoneNumber",A:qy,G:Pn,B:!0},O$={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new x("internal-error");qy(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",gd(o);Pn(o)}},D$={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:qy,G:Pn,B:!0},L$={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[xr]^!!o.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Ee(o,u,f){if(!lB(f,u.O))return We(new x("internal-error"));var d=!!u.Na,v=u.Vb||"POST",_;return re(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?Hk(o,o.i,u.endpoint,v,f,u.Ib,u.mb||!1):Hk(o,o.h,u.endpoint,v,f,u.Ib,u.mb||!1)}).then(function(b){return _=b,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new x("internal-error");return _[u.Z]})}function Zk(o){return Yy({error:{errors:[{message:o}],code:400,message:o}})}function Yy(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new x(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Nn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(f.indexOf(v)===0)return new x(d[v],u);return!u&&o&&(u=Kl(o)),new x("internal-error",u)}function M$(o){this.b=o,this.a=null,this.sb=F$(this)}function F$(o){return q$().then(function(){return new we(function(u,f){He("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},$$.get());d.ping(v).then(v,function(){f(Error("Network Error"))})})})})}function j$(o,u){return o.sb.then(function(){return new we(function(f){o.a.send(u.type,u,f,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function U$(o,u){o.sb.then(function(){o.a.register("authEvent",u,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var V$=new Kr(Kh,"https://apis.google.com/js/api.js?onload=%{onload}"),B$=new io(3e4,6e4),$$=new io(5e3,15e3),Rd=null;function q$(){return Rd||(Rd=new we(function(o,u){function f(){K1(),He("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){K1(),u(Error("Network Error"))},timeout:B$.get()})}if(He("gapi.iframes.Iframe"))o();else if(He("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){He("gapi.load")?f():u(Error("Network Error"))},d=xm(V$,{onload:d}),re(Uy(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Rd=null,o}))}function eC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=xn(this.g.url),o=od(o.c,o.a,o.g,"/emulator/auth/iframe")):o=od("https",this.l,null,"/__/auth/iframe"),this.a=o,rt(this.a,"apiKey",this.h),rt(this.a,"appName",this.i),this.b=null,this.c=[]}eC.prototype.toString=function(){return this.f?rt(this.a,"v",this.f):Gr(this.a.b,"v"),this.b?rt(this.a,"eid",this.b):Gr(this.a.b,"eid"),this.c.length?rt(this.a,"fw",this.c.join(",")):Gr(this.a.b,"fw"),this.a.toString()};function Xy(o,u,f,d,v,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Xy.prototype.zb=function(o){return this.h=o,this},Xy.prototype.toString=function(){if(this.v){var o=xn(this.v.url);o=od(o.c,o.a,o.g,"/emulator/auth/handler")}else o=od("https",this.u,null,"/__/auth/handler");if(rt(o,"apiKey",this.s),rt(o,"appName",this.c),rt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=te.app(this.c).auth().la()}catch{f=null}u.pb=f,rt(o,"providerId",this.a.providerId),f=this.a,u=W1(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=eo(u);for(var v=0;v<d.length;v++){var _=d[v];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),ss(u)||rt(o,"customParameters",Kl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&rt(o,"scopes",f.join(","))),this.l?rt(o,"redirectUrl",this.l):Gr(o.b,"redirectUrl"),this.g?rt(o,"eventId",this.g):Gr(o.b,"eventId"),this.i?rt(o,"v",this.i):Gr(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!or(o,b)&&rt(o,b,this.b[b]);return this.h?rt(o,"tid",this.h):Gr(o.b,"tid"),this.f?rt(o,"eid",this.f):Gr(o.b,"eid"),b=Jy(this.c),b.length&&rt(o,"fw",b.join(",")),o.toString()};function Jy(o){try{return te.app(o).auth().Ga()}catch{return[]}}function tC(o,u,f,d,v,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function nC(o){var u=Wl();return e$(o).then(function(f){e:{var d=xn(u),v=d.c;d=d.a;for(var _=0;_<f.length;_++){var b=f[_],C=d,L=v;if(b.indexOf("chrome-extension://")==0?C=xn(b).a==C&&L=="chrome-extension":L!="http"&&L!="https"?C=!1:tB.test(b)?C=C==b:(b=b.split(".").join("\\."),C=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(C)),C){f=!0;break e}}f=!1}if(!f)throw new Ay(Wl())})}function rC(o){return o.m||(o.m=sd().then(function(){if(!o.u){var u=o.c,f=o.i,d=Jy(o.b),v=new eC(o.s,o.g,o.b,o.f);v.f=u,v.b=f,v.c=os(d||[]),o.u=v.toString()}o.v=new M$(o.u),z$(o)})),o.m}e=tC.prototype,e.Pb=function(o,u,f){var d=new x("popup-closed-by-user"),v=new x("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){W$(_).then(function(C){C||(o&&hs(o),u(v),b=!0)})}).o(function(){}).then(function(){if(!b)return eB(o)}).then(function(){if(!b)return Fa(f).then(function(){u(d)})})},e.Yb=function(){var o=jt();return!Hl(o)&&!H1(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,v,_,b,C){if(!o)return We(new x("popup-blocked"));if(b&&!Hl())return this.ma().o(function(F){hs(o),v(F)}),d(),re();this.a||(this.a=nC(iC(this)));var L=this;return this.a.then(function(){var F=L.ma().o(function(ue){throw hs(o),v(ue),ue});return d(),F}).then(function(){if(Cy(f),!b){var F=lc(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,C,L.f);j1(F,o)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(L.a=null),F})};function iC(o){return o.l||(o.C=o.c?Ba(o.c,Jy(o.b)):null,o.l=new Rr(o.g,qn(o.i),o.C),o.f&&Ad(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=nC(iC(this)));var v=this;return this.a.then(function(){Cy(u);var _=lc(v.s,v.g,v.b,o,u,Wl(),f,v.c,void 0,v.i,d,v.f);j1(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var o=this;return rC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function lc(o,u,f,d,v,_,b,C,L,F,ue,Oe){return o=new Xy(o,u,f,d,v,Oe),o.l=_,o.g=b,o.i=C,o.b=eo(L||null),o.f=F,o.zb(ue).toString()}function z$(o){if(!o.v)throw Error("IfcHandler must be initialized!");U$(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=Ck(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",re(f)}return f.status="ERROR",re(f)})}function W$(o){var u={type:"webStorageSupport"};return rC(o).then(function(){return j$(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){kr(this.h,function(u){return u==o})};function oC(o){if(this.a=o||te.INTERNAL.reactNative&&te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=oC.prototype,e.get=function(o){return re(this.a.getItem(o)).then(function(u){return u&&qa(u)})},e.set=function(o,u){return re(this.a.setItem(o,Kl(u)))},e.U=function(o){return re(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function sC(o){this.b=o,this.a={},this.f=O(this.c,this)}var aC=[];function H$(){var o=Nr()?self:null;if(Pe(aC,function(f){f.b==o&&(u=f)}),!u){var u=new sC(o);aC.push(u)}return u}sC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var v=[];Pe(d,function(_){v.push(re().then(function(){return _(o.origin,o.data.data)}))}),f1(v).then(function(_){var b=[];Pe(_,function(C){b.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),Pe(b,function(C){for(var L in C)typeof C[L]>"u"&&delete C[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function uC(o,u,f){ss(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function lC(o){this.a=o}lC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function cC(o){this.c=o,this.b=!1,this.a=[]}function fC(o,u,f,d){var v,_=f||{},b,C,L,F=null;if(o.b)return We(Error("connection_unavailable"));var ue=d?800:50,Oe=typeof MessageChannel<"u"?new MessageChannel:null;return new we(function(ke,kt){Oe?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),Oe.port1.start(),C=setTimeout(function(){kt(Error("unsupported_event"))},ue),b=function(ki){ki.data.eventId===v&&(ki.data.status==="ack"?(clearTimeout(C),L=setTimeout(function(){kt(Error("timeout"))},3e3)):ki.data.status==="done"?(clearTimeout(L),typeof ki.data.response<"u"?ke(ki.data.response):kt(Error("unknown_error"))):(clearTimeout(C),clearTimeout(L),kt(Error("invalid_response"))))},F={messageChannel:Oe,onMessage:b},o.a.push(F),Oe.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:v,data:_},[Oe.port2])):kt(Error("connection_unavailable"))}).then(function(ke){return Zy(o,F),ke}).o(function(ke){throw Zy(o,F),ke})}function Zy(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),kr(o.a,function(v){return v==u})}}cC.prototype.close=function(){for(;0<this.a.length;)Zy(this,this.a[0]);this.b=!0};function hC(){if(!n0())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Nr()&&self?(this.v=H$(),uC(this.v,"keyChanged",function(u,f){return vC(o).then(function(d){return 0<d.length&&Pe(o.a,function(v){v(d)}),{keyProcessed:Ei(d,f.key)}})}),uC(this.v,"ping",function(){return re(["keyChanged"])})):aB().then(function(u){(o.h=u)&&(o.g=new cC(new lC(u)),fC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Ei(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var e0;function K$(o){return new we(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){f(Error(v.target.error))}})}function dC(o){return new we(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}f(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):K$(o).then(function(){return dC(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function t0(o){return o.i||(o.i=dC(o)),o.i}function xd(o,u){function f(v,_){t0(o).then(u).then(v).o(function(b){if(3<++d)_(b);else return t0(o).then(function(C){return C.close(),o.i=void 0,f(v,_)}).o(function(C){_(C)})})}var d=0;return new we(f)}function n0(){try{return!!c.indexedDB}catch{return!1}}function cc(o){return o.objectStore("firebaseLocalStorage")}function fc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ka(o){return new we(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=hC.prototype,e.set=function(o,u){var f=this,d=!1;return xd(this,function(v){return v=cc(fc(v,!0)),Ka(v.get(o))}).then(function(v){return xd(f,function(_){if(_=cc(fc(_,!0)),v)return v.value=u,Ka(_.put(v));f.b++,d=!0;var b={};return b.fbase_key=o,b.value=u,Ka(_.add(b))})}).then(function(){return f.c[o]=u,pC(f,o)}).oa(function(){d&&f.b--})};function pC(o,u){return o.g&&o.h&&sB()===o.h?fC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):re()}e.get=function(o){return xd(this,function(u){return Ka(cc(fc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return xd(this,function(d){return f=!0,u.b++,Ka(cc(fc(d,!0)).delete(o))}).then(function(){return delete u.c[o],pC(u,o)}).oa(function(){f&&u.b--})};function vC(o){return t0(o).then(function(u){var f=cc(fc(u,!1));return f.getAll?Ka(f.getAll()):new we(function(d,v){var _=[],b=f.openCursor();b.onsuccess=function(C){(C=C.target.result)?(_.push(C.value),C.continue()):d(_)},b.onerror=function(C){v(C.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=U1(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&G$(this),this.a.push(o)},e.ia=function(o){kr(this.a,function(u){return u==o}),this.a.length==0&&gC(this)};function G$(o){function u(){o.f=setTimeout(function(){o.l=vC(o).then(function(f){0<f.length&&Pe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}gC(o),u()}function gC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function mC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=re().then(function(){if(n0()){var d=ps(),v="__sak"+d;return e0||(e0=new hC),f=e0,f.set(v,d).then(function(){return f.get(v)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(v)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){Pe(u.a,function(_){_(v)})}),d})}e=mC.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){kr(this.a,function(u){return u==o})};function hc(){this.a={},this.type="inMemory"}e=hc.prototype,e.get=function(o){return re(this.a[o])},e.set=function(o,u){return this.a[o]=u,re()},e.U=function(o){return delete this.a[o],re()},e.ca=function(){},e.ia=function(){};function Pd(){if(!Q$())throw Qr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=yC()||te.INTERNAL.node.localStorage,this.type="localStorage"}function yC(){try{var o=c.localStorage,u=ps();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function Q$(){var o=Qr()=="Node";if(o=yC()||o&&te.INTERNAL.node&&te.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Pd.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return qa(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Kl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&ir(c.window,"storage",o)},e.ia=function(o){c.window&&zn(c.window,"storage",o)};function r0(){this.type="nullStorage"}e=r0.prototype,e.get=function(){return re(null)},e.set=function(){return re()},e.U=function(){return re()},e.ca=function(){},e.ia=function(){};function i0(){if(!Y$())throw Qr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=_C()||te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function _C(){try{var o=c.sessionStorage,u=ps();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function Y$(){var o=Qr()=="Node";if(o=_C()||o&&te.INTERNAL.node&&te.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=i0.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return qa(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Kl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function X$(){var o={};o.Browser=J$,o.Node=Z$,o.ReactNative=e6,o.Worker=t6,this.a=o[Qr()]}var o0,J$={F:Pd,cb:i0},Z$={F:Pd,cb:i0},e6={F:oC,cb:r0},t6={F:Pd,cb:r0},Ga={rd:"local",NONE:"none",td:"session"};function n6(o){var u=new x("invalid-persistence-type"),f=new x("unsupported-persistence-type");e:{for(d in Ga)if(Ga[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(Qr()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!n0()&&o!=="none")throw f;break;default:if(!oy()&&o!=="none")throw f}}function wC(){var o=!!(!H1(jt())&&ry()),u=Hl(),f=oy();this.m=o,this.h=u,this.l=f,this.a={},o0||(o0=new X$),o=o0;try{this.g=!ty()&&G1()||!c.indexedDB?new o.a.F:new mC(Nr()?new hc:new o.a.F)}catch{this.g=new hc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new hc}this.v=new hc,this.f=O(this.Zb,this),this.b={}}var s0;function dc(){return s0||(s0=new wC),s0}function bs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Qa(o,u){return"firebase:"+o.name+(u?":"+u:"")}function r6(o,u,f){var d=Qa(u,f),v=bs(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=qa(c.localStorage.getItem(d))}catch{}if(b&&!_)return c.localStorage.removeItem(d),o.set(u,b,f);b&&_&&v.type!="localStorage"&&c.localStorage.removeItem(d)})}e=wC.prototype,e.get=function(o,u){return bs(this,o.F).get(Qa(o,u))};function Ya(o,u,f){return f=Qa(u,f),u.F=="local"&&(o.b[f]=null),bs(o,u.F).U(f)}e.set=function(o,u,f){var d=Qa(o,f),v=this,_=bs(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(b){o.F=="local"&&(v.b[d]=b)})},e.addListener=function(o,u,f){o=Qa(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),ss(this.a)&&(bs(this,"local").ca(this.f),this.h||(ty()||!G1())&&c.indexedDB||!this.l||i6(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Qa(o,u),this.a[o]&&(kr(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),ss(this.a)&&(bs(this,"local").ia(this.f),a0(this))};function i6(o){a0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new ls({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function a0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var v=c.localStorage.getItem(f);v!==d&&(this.b[f]=v,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?bs(this,"local").ia(this.f):a0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},Cr&&to&&to==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Pe(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&Pe(this.a[o],function(u){u()})};function o6(o){this.a=o,this.b=dc()}var u0={name:"authEvent",F:"local"};function s6(o){return o.b.get(u0,o.a).then(function(u){return Ck(u)})}function a6(){this.a=dc()}function u6(){this.b=-1}function Od(o,u){this.b=EC,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Dd===void 0&&(c.Int32Array?Dd=new Int32Array(IC):Dd=IC),this.reset()}var Dd;U(Od,u6);for(var EC=64,l6=EC-1,bC=[],l0=0;l0<l6;l0++)bC[l0]=0;var TC=Nm(128,bC);Od.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):os(this.h)};function c0(o){for(var u=o.f,f=o.l,d=0,v=0;v<u.length;)f[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+b|0}d=o.a[0]|0,v=o.a[1]|0;var C=o.a[2]|0,L=o.a[3]|0,F=o.a[4]|0,ue=o.a[5]|0,Oe=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var ke=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&C^v&C)|0;b=F&ue^~F&Oe,_=_+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,b=b+(Dd[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=Oe,Oe=ue,ue=F,F=L+b|0,L=C,C=v,v=d,d=b+ke|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+v|0,o.a[2]=o.a[2]+C|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+F|0,o.a[5]=o.a[5]+ue|0,o.a[6]=o.a[6]+Oe|0,o.a[7]=o.a[7]+_|0}function f0(o,u,f){f===void 0&&(f=u.length);var d=0,v=o.c;if(typeof u=="string")for(;d<f;)o.f[v++]=u.charCodeAt(d++),v==o.b&&(c0(o),v=0);else if(E(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[v++]=_,v==o.b&&(c0(o),v=0)}else throw Error("message must be string or array");o.c=v,o.g+=f}var IC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SC(){Od.call(this,8,c6)}U(SC,Od);var c6=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function kC(o,u,f,d,v,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=v||null,this.s=_,this.h=u+":"+f,this.C=new a6,this.g=new o6(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ld(o){return new x("invalid-cordova-configuration",o)}e=kC.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=rB().then(function(){if(typeof He("universalLinks.subscribe",c)!="function")throw Ld("cordova-universal-links-plugin-fix is not installed");if(typeof He("BuildInfo.packageName",c)>"u")throw Ld("cordova-plugin-buildinfo is not installed");if(typeof He("cordova.plugins.browsertab.openUrl",c)!="function")throw Ld("cordova-plugin-browsertab is not installed");if(typeof He("cordova.InAppBrowser.open",c)!="function")throw Ld("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function f6(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function h6(o){var u=new SC;f0(u,o),o=[];var f=8*u.g;56>u.c?f0(u,TC,56-u.c):f0(u,TC,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(c0(u),d=f=0;d<u.i;d++)for(var v=24;0<=v;v-=8)o[f++]=u.a[d]>>v&255;return TB(o)}e.Pb=function(o,u){return u(new x("operation-not-supported-in-this-environment")),re()},e.Nb=function(){return We(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return We(new x("redirect-operation-pending"));var v=this,_=c.document,b=null,C=null,L=null,F=null;return this.c=re().then(function(){return Cy(u),NC(v)}).then(function(){return d6(v,o,u,f,d)}).then(function(){return new we(function(ue,Oe){C=function(){var ke=He("cordova.plugins.browsertab.close",c);return ue(),typeof ke=="function"&&ke(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(C),L=function(){b||(b=Fa(2e3).then(function(){Oe(new x("redirect-cancelled-by-user"))}))},F=function(){sy()&&L()},_.addEventListener("resume",L,!1),jt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",F,!1)}).o(function(ue){return h0(v).then(function(){throw ue})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),F&&_.removeEventListener("visibilitychange",F,!1),b&&b.cancel(),C&&v.Ta(C),v.c=null})};function d6(o,u,f,d,v){var _=f6(),b=new Ar(u,d,null,_,new x("no-auth-event"),null,v),C=He("BuildInfo.packageName",c);if(typeof C!="string")throw new x("invalid-cordova-configuration");var L=He("BuildInfo.displayName",c),F={};if(jt().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=C;else if(jt().toLowerCase().match(/android/))F.apn=C;else return We(new x("operation-not-supported-in-this-environment"));L&&(F.appDisplayName=L),_=h6(_),F.sessionId=_;var ue=lc(o.v,o.i,o.l,u,f,null,d,o.m,F,o.u,v,o.s);return o.ma().then(function(){var Oe=o.h;return o.C.a.set(u0,b.w(),Oe)}).then(function(){var Oe=He("cordova.plugins.browsertab.isAvailable",c);if(typeof Oe!="function")throw new x("invalid-cordova-configuration");var ke=null;Oe(function(kt){if(kt){if(ke=He("cordova.plugins.browsertab.openUrl",c),typeof ke!="function")throw new x("invalid-cordova-configuration");ke(ue)}else{if(ke=He("cordova.InAppBrowser.open",c),typeof ke!="function")throw new x("invalid-cordova-configuration");kt=jt(),o.a=ke(ue,kt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||kt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function CC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function NC(o){return o.f||(o.f=o.ma().then(function(){return new we(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),p6(o)})})),o.f}function h0(o){var u=null;return s6(o.g).then(function(f){return u=f,f=o.g,Ya(f.b,u0,f.a)}).then(function(){return u})}function p6(o){function u(b){d=!0,v&&v.cancel(),h0(o).then(function(C){var L=f;if(C&&b&&b.url){var F=null;L=_k(b.url),L.indexOf("/__/auth/callback")!=-1&&(F=xn(L),F=qa(or(F,"firebaseError")||null),F=(F=typeof F=="object"?wi(F):null)?new Ar(C.c,C.b,null,null,F,null,C.T()):new Ar(C.c,C.b,L,C.f,null,null,C.T())),L=F||f}CC(o,L)})}var f=new Ar("unknown",null,null,null,new x("no-auth-event")),d=!1,v=Fa(500).then(function(){return h0(o).then(function(){d||CC(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(b){if(b.toLowerCase().indexOf(He("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(C){console.error(C)}},Ny||(Ny=new xB),PB(u)}e.Ea=function(o){this.b.push(o),NC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Ar("unknown",null,null,null,new x("no-auth-event")),o(u))})},e.Ta=function(o){kr(this.b,function(u){return u==o})};function v6(o){this.a=o,this.b=dc()}var d0={name:"pendingRedirect",F:"session"};function g6(o){return o.b.set(d0,"pending",o.a)}function p0(o){return Ya(o.b,d0,o.a)}function m6(o){return o.b.get(d0,o.a).then(function(u){return u=="pending"})}function Md(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new jd,this.C=new jC,this.g=new v6(LC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=AC(this.D,this.v,this.m,Ir,this.J)}function AC(o,u,f,d,v){var _=te.SDK_VERSION||null;return ny()?new kC(o,u,f,_,d,v):new tC(o,u,f,_,d,v)}Md.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=AC(this.D,this.v,this.m,null,this.J),this.i={}};function RC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function xC(o){o.a.Yb()&&RC(o).o(function(u){var f=new Ar("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));g0(u)&&o.s(f)}),o.a.Ub()||MC(o.b)}function Fd(o,u){Ei(o.h,u)||o.h.push(u),o.f||m6(o.g).then(function(f){f?p0(o.g).then(function(){RC(o).o(function(d){var v=new Ar("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));g0(d)&&o.s(v)})}):xC(o)}).o(function(){xC(o)})}function v0(o,u){kr(o.h,function(f){return f==u})}Md.prototype.s=function(o){if(!o)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return MC(this.b),u};var y6=new io(2e3,1e4),_6=new io(3e4,6e4);Md.prototype.ra=function(){return this.b.ra()};function PC(o,u,f,d,v,_,b){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},v,_,b)}function g0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function OC(o,u,f,d,v){var _;return g6(o.g).then(function(){return o.a.Ob(u,f,d,v).o(function(b){if(g0(b))throw new x("operation-not-supported-in-this-environment");return _=b,p0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new we(function(){}):p0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function DC(o,u,f,d,v){return o.a.Pb(d,function(_){u.na(f,null,_,v)},y6.get())}var m0={};function LC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function y0(o,u,f,d){var v=LC(u,f,d);return m0[v]||(m0[v]=new Md(o,u,f,d)),m0[v]}function jd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}jd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},jd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,v=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),f!="unknown"||v||_?o.a?(Ts(this,!0,null,o.a),re()):u.Fa(f,d)?w6(this,o,u):We(new x("invalid-auth-event")):(Ts(this,!1,null,null),re())}else We(new x("invalid-auth-event"))};function MC(o){o.g||(o.g=!0,Ts(o,!1,null,null))}function Ud(o){o.g&&!o.i&&Ts(o,!1,null,null)}function w6(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,v=u.f,_=u.i,b=u.T(),C=!!u.c.match(/Redirect$/);f(d,v,b,_).then(function(L){Ts(o,C,L,null)}).o(function(L){Ts(o,C,null,L)})}function E6(o,u){if(o.b=function(){return We(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function FC(o,u){if(o.b=function(){return re(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ts(o,u,f,d){u?d?E6(o,d):FC(o,f):FC(o,{user:null}),o.f=[],o.c=[]}jd.prototype.ra=function(){var o=this;return new we(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),b6(o))})};function b6(o){var u=new x("timeout");o.a&&o.a.cancel(),o.a=Fa(_6.get()).then(function(){o.b||(o.g=!0,Ts(o,!0,null,u))})}function jC(){}jC.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),re()):u.Fa(f,d)?T6(o,u):We(new x("invalid-auth-event"))}else We(new x("invalid-auth-event"))};function T6(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(v){u.na(d,v,null,f)}).o(function(v){u.na(d,null,v,f)})}function UC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function _0(o,u){this.a=u,Z(this,"verificationId",o)}_0.prototype.confirm=function(o){return o=kk(this.verificationId,o),this.a(o)};function w0(o,u,f,d){return new Ii(o).gb(u,f).then(function(v){return new _0(v,d)})}function I6(o){var u=fk(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pn(this,{token:o,expirationTime:Gl(1e3*u.exp),authTime:Gl(1e3*u.auth_time),issuedAtTime:Gl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function E0(o,u,f){var d=u&&u[BC];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=eo(u),this.g=f,this.c=new pd(null,d),this.b=[];var v=this;Pe(u[VC]||[],function(_){(_=hy(_))&&v.b.push(_)}),Z(this,"auth",this.a),Z(this,"session",this.c),Z(this,"hints",this.b)}var VC="mfaInfo",BC="mfaPendingCredential";E0.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=eo(u.f);return delete d[VC],delete d[BC],Nn(d,f),u.g(d)})};function b0(o,u,f,d){x.call(this,"multi-factor-auth-required",d,u),this.b=new E0(o,u,f),Z(this,"resolver",this.b)}U(b0,x);function $C(o,u,f){if(o&&w(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new b0(u,o.serverResponse,f,o.message)}catch{}return null}function qC(){}qC.prototype.tb=function(o,u,f){return u.type==Jl?S6(this,o,u,f):k6(this,o,u)};function S6(o,u,f,d){return f.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Nn(v,{phoneVerificationInfo:Zl(o.a)}),Ee(u,p$,v)})}function k6(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Nn(d,{phoneVerificationInfo:Zl(o.a)}),Ee(u,v$,d)})}function T0(o){Z(this,"factorId",o.fa),this.a=o}U(T0,qC);function zC(o){if(T0.call(this,o),this.a.fa!=Ii.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}U(zC,T0);function Xa(o,u){Rn.call(this,o);for(var f in u)this[f]=u[f]}U(Xa,Rn);function I0(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),ir(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Pe(u.multiFactor.enrolledFactors,function(d){var v=null,_={};if(d){d.uid&&(_[py]=d.uid),d.displayName&&(_[Y1]=d.displayName),d.enrollmentTime&&(_[dy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[vy]=d.phoneNumber);try{v=new Ql(_)}catch{}d=v}else d=null;d&&f.push(d)}),Vd(this,f)}function C6(o){var u=[];return Pe(o.mfaInfo||[],function(f){(f=hy(f))&&u.push(f)}),u}e=I0.prototype,e.yc=function(o){Vd(this,C6(o.hd))};function Vd(o,u){o.b=u,Z(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new pd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(v){return o.tb(d,v,u)}).then(function(v){return Jr(f.a,v),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(v){return Ee(d,L$,{idToken:v,mfaEnrollmentId:f})}).then(function(v){var _=iV(u.b,function(b){return b.uid!=f});return Vd(u,_),Jr(u.a,v),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Wh(this.b,function(o){return o.w()})}}};function S0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}S0.prototype.start=function(){this.a=this.c,k0(this,!0)};function N6(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function k0(o,u){o.stop(),o.b=Fa(N6(o,u)).then(function(){return oB()}).then(function(){return o.h()}).then(function(){k0(o,!0)}).o(function(f){o.i(f)&&k0(o,!1)})}S0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function C0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}C0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function WC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function HC(o,u){o.b=hd(u[xr]||""),o.a=u.refreshToken,u=u.expiresIn,WC(o,typeof u<"u"?Number(u):void 0)}function A6(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function R6(o,u){return JB(o.f,u).then(function(f){return o.b=hd(f.access_token),o.a=f.refresh_token,WC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}C0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?We(new x("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?R6(this,{grant_type:"refresh_token",refresh_token:this.a}):re(null):re({accessToken:this.b.toString(),refreshToken:this.a})};function Bd(o,u){this.a=o||null,this.b=u||null,pn(this,{lastSignInTime:Gl(u||null),creationTime:Gl(o||null)})}function x6(o){return new Bd(o.a,o.b)}Bd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function P6(o,u,f,d,v,_){pn(this,{uid:o,displayName:d||null,photoURL:v||null,email:f||null,phoneNumber:_||null,providerId:u})}function Hn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=te.SDK_VERSION?Ba(te.SDK_VERSION):null;this.a=new Rr(this.l,qn(Ir),d),(this.u=o.emulatorConfig||null)&&Ad(this.a,this.u),this.h=new C0(this.a),D0(this,u[xr]),HC(this.h,u),Z(this,"refreshToken",this.h.a),GC(this,f||{}),dn.call(this),this.P=!1,this.s&&ds()&&(this.b=y0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=O6(this),this.ba=O(this.ib,this);var v=this;this.za=null,this.Pa=function(_){v.xa(_.h)},this.qa=null,this.Ba=function(_){N0(v,_.c)},this.$=null,this.aa=[],this.Oa=function(_){pc(v,_.f)},this.ja=null,this.S=new I0(this,f),Z(this,"multiFactor",this.S)}U(Hn,dn),Hn.prototype.xa=function(o){this.za=o,$k(this.a,o)};function N0(o,u){o.u=u,Ad(o.a,u),o.b&&(u=o.b,o.b=y0(o.s,o.l,o.m,o.u),o.P&&(v0(u,o),Fd(o.b,o)))}Hn.prototype.la=function(){return this.za};function A0(o,u){o.qa&&zn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&ir(u,"languageCodeChanged",o.Pa)}function R0(o,u){o.$&&zn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&ir(u,"emulatorConfigChanged",o.Ba)}function pc(o,u){o.aa=u,qk(o.a,te.SDK_VERSION?Ba(te.SDK_VERSION,o.aa):null)}Hn.prototype.Ga=function(){return os(this.aa)};function x0(o,u){o.ja&&zn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&ir(u,"frameworkChanged",o.Oa)}Hn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function P0(o){try{return te.app(o.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function O6(o){return new S0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function KC(o){o.J||o.D.b||(o.D.start(),zn(o,"tokenChanged",o.ba),ir(o,"tokenChanged",o.ba))}function O0(o){zn(o,"tokenChanged",o.ba),o.D.stop()}function D0(o,u){o.Aa=u,Z(o,"_lat",u)}function D6(o,u){kr(o.W,function(f){return f==u})}function Is(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return f1(u).then(function(){return o})}function vc(o){o.b&&!o.P&&(o.P=!0,Fd(o.b,o))}function GC(o,u){pn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Bd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Z(Hn.prototype,"providerId","firebase");function QC(){}function L0(o){return re().then(function(){if(o.J)throw new x("app-deleted")})}function M0(o){return Wh(o.providerData,function(u){return u.providerId})}function F0(o,u){u&&(YC(o,u.providerId),o.providerData.push(u))}function YC(o,u){kr(o.providerData,function(f){return f.providerId==u})}function ao(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&Z(o,u,f)}function $d(o,u){o!=u&&(pn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Z(o,"metadata",x6(u.metadata)):Z(o,"metadata",new Bd),Pe(u.providerData,function(f){F0(o,f)}),A6(o.h,u.h),Z(o,"refreshToken",o.h.a),Vd(o.S,u.S.b))}e=Hn.prototype,e.reload=function(){var o=this;return mt(this,L0(this).then(function(){return j0(o).then(function(){return Is(o)}).then(QC)}))};function j0(o){return o.I().then(function(u){var f=o.isAnonymous;return L6(o,u).then(function(){return f||ao(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new I6(u)})},e.I=function(o){var u=this;return mt(this,L0(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new x("internal-error");return f.accessToken!=u.Aa&&(D0(u,f.accessToken),u.dispatchEvent(new Xa("tokenChanged"))),ao(u,"refreshToken",f.refreshToken),f.accessToken}))};function Jr(o,u){u[xr]&&o.Aa!=u[xr]&&(HC(o.h,u),o.dispatchEvent(new Xa("tokenChanged")),D0(o,u[xr]),ao(o,"refreshToken",o.h.a))}function L6(o,u){return Ee(o.a,g$,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new x("internal-error");o=o[0],GC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=M6(o),f=0;f<u.length;f++)F0(this,u[f]);ao(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Xa("userReloaded",{hd:o}))};function M6(o){return(o=o.providerUserInfo)&&o.length?Wh(o,function(u){return new P6(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return ay("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return mt(this,o.c(this.a,this.uid).then(function(d){return Jr(u,d),f=gc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function qd(o,u){return j0(o).then(function(){if(Ei(M0(o),u))return Is(o).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(o){return ay("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return mt(this,qd(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=gc(u,d,"link"),XC(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return mt(this,qd(this,"phone").then(function(){return w0(P0(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return mt(this,re().then(function(){return w0(P0(f),o,u,O(f.ub,f))}),!0)};function gc(o,u,f){var d=ky(u);return u=dk(u),Yr({user:o,credential:d,additionalUserInfo:u,operationType:f})}function XC(o,u){return Jr(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return mt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Jr(u,f),u.reload()}))},e.ed=function(o){var u=this;return mt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Jr(u,f),u.reload()}))},e.Db=function(o){var u=this;return mt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Jr(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return L0(this);var u=this;return mt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Jr(u,f),ao(u,"displayName",f.displayName||null),ao(u,"photoURL",f.photoUrl||null),Pe(u.providerData,function(d){d.providerId==="password"&&(Z(d,"displayName",u.displayName),Z(d,"photoURL",u.photoURL))}),Is(u)}).then(QC))},e.cd=function(o){var u=this;return mt(this,j0(this).then(function(f){return Ei(M0(u),o)?o$(u.a,f,[o]).then(function(d){var v={};return Pe(d.providerUserInfo||[],function(_){v[_.providerId]=!0}),Pe(M0(u),function(_){v[_]||YC(u,_)}),v[Ii.PROVIDER_ID]||Z(u,"phoneNumber",null),Is(u)}):Is(u).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var o=this;return mt(this,this.I().then(function(u){return Ee(o.a,c$,{idToken:u})}).then(function(){o.dispatchEvent(new Xa("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");A0(o,null),R0(o,null),x0(o,null),o.N=[],o.J=!0,O0(o),Z(o,"refreshToken",null),o.b&&v0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return JC(this,"linkViaPopup",o,function(){return qd(u,o.providerId).then(function(){return Is(u)})},!1)},e.Nc=function(o){return JC(this,"reauthViaPopup",o,function(){return re()},!0)};function JC(o,u,f,d,v){if(!ds())return We(new x("operation-not-supported-in-this-environment"));if(o.i&&!v)return We(o.i);var _=wy(f.providerId),b=ps(o.uid+":::"),C=null;(!Hl()||ry())&&o.s&&f.isOAuthProvider&&(C=lc(o.s,o.l,o.m,u,f,null,b,te.SDK_VERSION||null,null,null,o.tenantId,o.u));var L=B1(C,_&&_.va,_&&_.ua);return d=d().then(function(){if(eN(o),!v)return o.I().then(function(){})}).then(function(){return PC(o.b,L,u,f,b,!!C,o.tenantId)}).then(function(){return new we(function(F,ue){o.na(u,null,new x("cancelled-popup-request"),o.g||null),o.f=F,o.C=ue,o.g=b,o.c=DC(o.b,o,u,L,b)})}).then(function(F){return L&&hs(L),F?Yr(F):null}).o(function(F){throw L&&hs(L),F}),mt(o,d,v)}e.Fc=function(o){var u=this;return ZC(this,"linkViaRedirect",o,function(){return qd(u,o.providerId)},!1)},e.Oc=function(o){return ZC(this,"reauthViaRedirect",o,function(){return re()},!0)};function ZC(o,u,f,d,v){if(!ds())return We(new x("operation-not-supported-in-this-environment"));if(o.i&&!v)return We(o.i);var _=null,b=ps(o.uid+":::");return d=d().then(function(){if(eN(o),!v)return o.I().then(function(){})}).then(function(){return o.ga=b,Is(o)}).then(function(C){return o.ha&&(C=o.ha,C=C.b.set(U0,o.w(),C.a)),C}).then(function(){return OC(o.b,u,f,b,o.tenantId)}).o(function(C){if(_=C,o.ha)return nN(o.ha);throw _}).then(function(){if(_)throw _}),mt(o,d,v)}function eN(o){if(!o.b||!o.P)throw o.b&&!o.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return Ky(v.a,{requestUri:o,postBody:d,sessionId:u,idToken:b})}).then(function(b){return _=gc(v,b,"link"),XC(v,b)}).then(function(){return _}),mt(this,f)},e.Mb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=re().then(function(){return Wa(Gy(v.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),v.uid)}).then(function(C){return _=gc(v,C,"reauthenticate"),Jr(v,C),v.i=null,v.reload()}).then(function(){return _});return mt(this,b,!0)},e.vb=function(o){var u=this,f=null;return mt(this,this.I().then(function(d){return f=d,typeof o>"u"||ss(o)?{}:cd(new ld(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return mt(this,this.I().then(function(v){return d=v,typeof u>"u"||ss(u)?{}:cd(new ld(u))}).then(function(v){return f.a.Fb(d,o,v)}).then(function(v){if(f.email!=v)return f.reload()}).then(function(){}))};function mt(o,u,f){var d=F6(o,u,f);return o.N.push(d),d.oa(function(){Hh(o.N,d)}),d.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=$C(v.w(),P0(o),O(o.jc,o))),_||v})}e.jc=function(o){var u=null,f=this;return o=Wa(re(o),f.uid).then(function(d){return u=gc(f,d,"reauthenticate"),Jr(f,d),f.i=null,f.reload()}).then(function(){return u}),mt(this,o,!0)};function F6(o,u,f){return o.i&&!f?(u.cancel(),We(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Xa("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Nn(o,this.metadata.w()),Pe(this.providerData,function(u){o.providerData.push(uB(u))}),Nn(o,this.S.w()),o};function tN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[xr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Hn(u,f,o);return o.providerData&&Pe(o.providerData,function(_){_&&F0(v,Yr(_))}),o.redirectEventId&&(v.ga=o.redirectEventId),v}function j6(o,u,f,d){var v=new Hn(o,u);return f&&(v.ha=f),d&&pc(v,d),v.reload().then(function(){return v})}function U6(o,u,f,d){var v=o.h,_={};return _[xr]=v.b&&v.b.toString(),_.refreshToken=v.a,u=new Hn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&pc(u,d),$d(u,o),u}function V6(o){this.a=o,this.b=dc()}var U0={name:"redirectUser",F:"session"};function nN(o){return Ya(o.b,U0,o.a)}function B6(o,u){return o.b.get(U0,o.a).then(function(f){return f&&u&&(f.authDomain=u),tN(f||{})})}function V0(o){this.a=o,this.b=dc(),this.c=null,this.f=$6(this),this.b.addListener(Zr("local"),this.a,O(this.g,this))}V0.prototype.g=function(){var o=this,u=Zr("local");Ja(this,function(){return re().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return B0(o,"local").then(function(){o.c=u})})})};function B0(o,u){var f=[],d;for(d in Ga)Ga[d]!==u&&f.push(Ya(o.b,Zr(Ga[d]),o.a));return f.push(Ya(o.b,$0,o.a)),xV(f)}function $6(o){var u=Zr("local"),f=Zr("session"),d=Zr("none");return r6(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(v){return v?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(b){return b?u:o.b.get($0,o.a).then(function(C){return C?Zr(C):u})})})}).then(function(v){return o.c=v,B0(o,v.F)}).o(function(){o.c||(o.c=u)})}var $0={name:"persistence",F:"session"};function Zr(o){return{name:"authUser",F:o}}V0.prototype.yb=function(o){var u=null,f=this;return n6(o),Ja(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,B0(f,o)}).then(function(){if(f.c=Zr(o),u)return f.b.set(f.c,u,f.a)}):re()})};function q6(o){return Ja(o,function(){return o.b.set($0,o.c.F,o.a)})}function rN(o,u){return Ja(o,function(){return o.b.set(o.c,u.w(),o.a)})}function iN(o){return Ja(o,function(){return Ya(o.b,o.c,o.a)})}function oN(o,u,f){return Ja(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),tN(d||{})})})}function Ja(o,u){return o.f=o.f.then(u,u),o.f}function Pr(o){if(this.l=!1,Z(this,"settings",new UC),Z(this,"app",o),Me(this).options&&Me(this).options.apiKey)o=te.SDK_VERSION?Ba(te.SDK_VERSION):null,this.a=new Rr(Me(this).options&&Me(this).options.apiKey,qn(Ir),o);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=te.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=te.INTERNAL.createSubscribe(O(this.Ac,this)),Za(this,null),this.i=new V0(Me(this).options.apiKey+":"+Me(this).name),this.D=new V6(Me(this).options.apiKey+":"+Me(this).name),this.$=Ze(this,Q6(this)),this.h=Ze(this,Y6(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,H6(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,dn.call(this),W6(this),this.J=[],this.R=null}U(Pr,dn);function sN(o){Rn.call(this,"languageCodeChanged"),this.h=o}U(sN,Rn);function aN(o){Rn.call(this,"emulatorConfigChanged"),this.c=o}U(aN,Rn);function uN(o){Rn.call(this,"frameworkChanged"),this.f=o}U(uN,Rn),e=Pr.prototype,e.yb=function(o){return o=this.i.yb(o),Ze(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,$k(this.a,this.aa),this.dispatchEvent(new sN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,z6(u),this.R={url:o,ec:u},this.settings.jb=!0,Ad(this.a,this.R),this.dispatchEvent(new aN(this.R))}};function z6(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&sd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),qk(this.a,te.SDK_VERSION?Ba(te.SDK_VERSION,this.J):null),this.dispatchEvent(new uN(this.J))},e.Ga=function(){return os(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function W6(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=xn(this.R.url);u=Yr({protocol:u.c,host:u.a,port:u.g,options:Yr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Me(this).options.apiKey,authDomain:Me(this).options.authDomain,appName:Me(this).name,currentUser:he(this)&&he(this).w()}};function q0(o){return o.Oa||We(new x("auth-domain-config-required"))}function H6(o){var u=Me(o).options.authDomain,f=Me(o).options.apiKey;u&&ds()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=y0(u,f,Me(o).name,o.R),Fd(o.b,o),he(o)&&vc(he(o)),o.m){vc(o.m);var d=o.m;d.xa(o.la()),A0(d,o),d=o.m,pc(d,o.J),x0(d,o),d=o.m,N0(d,o.R),R0(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var v=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ss(v,Hy(v.a,_))})},e.Xc=function(o){if(!ds())return We(new x("operation-not-supported-in-this-environment"));var u=this,f=wy(o.providerId),d=ps(),v=null;(!Hl()||ry())&&Me(this).options.authDomain&&o.isOAuthProvider&&(v=lc(Me(this).options.authDomain,Me(this).options.apiKey,Me(this).name,"signInViaPopup",o,null,d,te.SDK_VERSION||null,null,null,this.T(),this.R));var _=B1(v,f&&f.va,f&&f.ua);return f=q0(this).then(function(b){return PC(b,_,"signInViaPopup",o,d,!!v,u.T())}).then(function(){return new we(function(b,C){u.na("signInViaPopup",null,new x("cancelled-popup-request"),u.g),u.f=b,u.C=C,u.g=d,u.c=DC(u.b,u,"signInViaPopup",_,d)})}).then(function(b){return _&&hs(_),b?Yr(b):null}).o(function(b){throw _&&hs(_),b}),Ze(this,f)},e.Yc=function(o){if(!ds())return We(new x("operation-not-supported-in-this-environment"));var u=this,f=q0(this).then(function(){return q6(u.i)}).then(function(){return OC(u.b,"signInViaRedirect",o,void 0,u.T())});return Ze(this,f)};function lN(o){if(!ds())return We(new x("operation-not-supported-in-this-environment"));var u=q0(o).then(function(){return o.b.ra()}).then(function(f){return f?Yr(f):null});return Ze(o,u)}e.ra=function(){var o=this;return lN(this).then(function(u){return o.b&&Ud(o.b.b),u}).o(function(u){throw o.b&&Ud(o.b.b),u})},e.dd=function(o){if(!o)return We(new x("null-user"));if(this.S!=o.tenantId)return We(new x("tenant-id-mismatch"));var u=this,f={};f.apiKey=Me(this).options.apiKey,f.authDomain=Me(this).options.authDomain,f.appName=Me(this).name;var d=U6(o,f,u.D,u.Ga());return Ze(this,this.h.then(function(){if(Me(u).options.apiKey!=o.l)return d.reload()}).then(function(){return he(u)&&o.uid==he(u).uid?($d(he(u),o),u.da(o)):(Za(u,d),vc(d),u.da(d))}).then(function(){mc(u)}))};function K6(o,u){var f={};return f.apiKey=Me(o).options.apiKey,f.authDomain=Me(o).options.authDomain,f.appName=Me(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return j6(f,u,o.D,o.Ga())}).then(function(d){return he(o)&&d.uid==he(o).uid?($d(he(o),d),o.da(d)):(Za(o,d),vc(d),o.da(d))}).then(function(){mc(o)})}function Za(o,u){he(o)&&(D6(he(o),o.Ba),zn(he(o),"tokenChanged",o.qa),zn(he(o),"userDeleted",o.za),zn(he(o),"userInvalidated",o.Aa),O0(he(o))),u&&(u.W.push(o.Ba),ir(u,"tokenChanged",o.qa),ir(u,"userDeleted",o.za),ir(u,"userInvalidated",o.Aa),0<o.u&&KC(u)),Z(o,"currentUser",u),u&&(u.xa(o.la()),A0(u,o),pc(u,o.J),x0(u,o),N0(u,o.R),R0(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Ud(o.b.b),he(o)?(Za(o,null),iN(o.i).then(function(){mc(o)})):re()});return Ze(this,u)};function G6(o){var u=B6(o.D,Me(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),nN(o.D)});return Ze(o,u)}function Q6(o){var u=Me(o).options.authDomain,f=G6(o).then(function(){return oN(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return rN(o.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:iN(o.i)})):null}).then(function(d){Za(o,d||null)});return Ze(o,f)}function Y6(o){return o.$.then(function(){return lN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Zr("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return oN(this.i,Me(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=he(o)&&u){f=he(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return $d(he(o),u),he(o).I();(he(o)||u)&&(Za(o,u),u&&(vc(u),u.ha=o.D),o.b&&Fd(o.b,o),mc(o))}})},e.da=function(o){return rN(this.i,o)},e.mc=function(){mc(this),this.da(he(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ss(o,u){var f=null,d=null;return Ze(o,u.then(function(v){return f=ky(v),d=dk(v),K6(o,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=$C(v.w(),o,O(o.kc,o))),_||v}).then(function(){return Yr({user:he(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ss(u,re(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(he(u))})},e.Ac=function(o){var u=this;X6(this,function(){o.next(he(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return he(u)?he(u).I(o).then(function(d){return{accessToken:d}}):null});return Ze(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ss(u,Ee(u.a,x$,{token:o}))}).then(function(f){var d=f.user;return ao(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ss(f,Ee(f.a,Jk,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ss(f,Ee(f.a,u$,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ss(u,o.ka(u.a))})},e.Sc=function(o){return ay("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=he(o);if(u&&u.isAnonymous){var f=Yr({providerId:null,isNewUser:!1});return Yr({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ss(o,o.a.Ab()).then(function(d){var v=d.user;return ao(v,"isAnonymous",!0),o.da(v),d})})};function Me(o){return o.app}function he(o){return o.currentUser}e.getUid=function(){return he(this)&&he(this).uid||null};function zd(o){return he(o)&&he(o)._lat||null}function mc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](zd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](zd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&he(this)&&KC(he(this))},e.Pc=function(o){var u=this;Pe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&he(this)&&O0(he(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Ze(this,this.h.then(function(){u.l||Ei(u.s,o)&&o(zd(u))}))},e.removeAuthTokenListener=function(o){kr(this.s,function(u){return u==o})};function X6(o,u){o.N.push(u),Ze(o,o.h.then(function(){!o.l&&Ei(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(zd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Zr("local"),o.a,this.ja)),this.b&&(v0(this.b,this),Ud(this.b.b)),Promise.resolve()};function Ze(o,u){return o.P.push(u),u.oa(function(){Hh(o.P,u)}),u}e.hc=function(o){return Ze(this,ZB(this.a,o))},e.Bc=function(o){return!!Sy(o)},e.xb=function(o,u){var f=this;return Ze(this,re().then(function(){var d=new ld(u);if(!d.c)throw new x("argument-error",yy+" must be true when sending sign in link to email");return cd(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return Ze(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return Ze(this,this.a.Sa(o).then(function(u){return new cB(u)}))},e.kb=function(o){return Ze(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return Ze(this,re().then(function(){return typeof u>"u"||ss(u)?{}:cd(new ld(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return Ze(this,w0(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return Ze(this,re().then(function(){var d=u||Wl(),v=Sk(o,d);if(d=Sy(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new x("tenant-id-mismatch");return f.ab(v)}))};function yc(){}yc.prototype.render=function(){},yc.prototype.reset=function(){},yc.prototype.getResponse=function(){},yc.prototype.execute=function(){};function eu(){this.a={},this.b=1e12}var z0=null;eu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Wd(o,u),this.b++},eu.prototype.reset=function(o){var u=W0(this,o);o=cN(o),u&&o&&(u.delete(),delete this.a[o])},eu.prototype.getResponse=function(o){return(o=W0(this,o))?o.getResponse():null},eu.prototype.execute=function(o){(o=W0(this,o))&&o.execute()};function W0(o,u){return(u=cN(u))&&o.a[u]||null}function cN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Wd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=jl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():ir(this.f,"click",this.i)}Wd.prototype.getResponse=function(){return H0(this),this.b},Wd.prototype.execute=function(){H0(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=iB();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Wd.prototype.delete=function(){H0(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function H0(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function K0(){}Z(K0,"FACTOR_ID","phone");function G0(){}G0.prototype.g=function(){return z0||(z0=new eu),re(z0)},G0.prototype.c=function(){};var Q0=null;function Y0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var J6=new Kr(Kh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Z6=new io(3e4,6e4);Y0.prototype.g=function(o){var u=this;return new we(function(f,d){var v=setTimeout(function(){d(new x("network-request-failed"))},Z6.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var b=c.grecaptcha.render;c.grecaptcha.render=function(C,L){return C=b(C,L),u.b++,C},clearTimeout(v),f(c.grecaptcha)}else clearTimeout(v),d(new x("internal-error"));delete c[u.a]};var _=xm(J6,{onload:u.a,hl:o||""});re(Uy(_)).o(function(){clearTimeout(v),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),f(c.grecaptcha)})},Y0.prototype.c=function(){this.b--};var X0=null;function J0(o,u,f,d,v,_,b){if(Z(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(Q0||(Q0=new G0),b=Q0):(X0||(X0=new Y0),b=X0),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[dN])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[e5]==="invisible",!c.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!jl(u)||!this.i&&jl(u).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Rr(o,_||null,v||null),this.u=d||function(){return null};var C=this;this.l=[];var L=this.a[fN];this.a[fN]=function(ue){if(pN(C,ue),typeof L=="function")L(ue);else if(typeof L=="string"){var Oe=He(L,c);typeof Oe=="function"&&Oe(ue)}};var F=this.a[hN];this.a[hN]=function(){if(pN(C,null),typeof F=="function")F();else if(typeof F=="string"){var ue=He(F,c);typeof ue=="function"&&ue()}}}var fN="callback",hN="expired-callback",dN="sitekey",e5="size";function pN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function t5(o,u){kr(o.l,function(f){return f==u})}function Z0(o,u){return o.h.push(u),u.oa(function(){Hh(o.h,u)}),u}e=J0.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Z0(this,re().then(function(){if(ad()&&!Nr())return sd();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ee(o.s,b$,{})}).then(function(u){o.a[dN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Hd(this);var o=this;return Z0(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=jl(u);u=CV("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Hd(this);var o=this;return Z0(this,this.render().then(function(u){return new we(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var v=function(_){_&&(t5(o,v),f(_))};o.l.push(v),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Hd(this),this.c!==null&&this.g.reset(this.c)};function Hd(o){if(o.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Hd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=jl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function e_(o,u,f){var d=!1;try{this.b=f||te.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new x("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=te.SDK_VERSION?Ba(te.SDK_VERSION,_):null,J0.call(this,f,o,u,function(){try{var b=v.b.auth().la()}catch{b=null}return b},_,qn(Ir),d)}U(e_,J0);function vN(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var v=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=u.length,f.length<v||_<f.length)d="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+f.length+".";else{for(v=0;v<f.length;v++)if(_=u[v].optional&&f[v]===void 0,!u[v].M(f[v])&&!_){if(u=u[v],0>v||v>=gN.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");f=gN[v],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new x("argument-error",o+" failed: "+d)}var gN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function J(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function t_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function lt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:w}}function tu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function ei(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function n5(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function r5(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Pr)}}}function i5(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof te.app.App)}}}function uo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function mN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function nu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function n_(o,u){return w(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function yN(o){return w(o)&&typeof o.uid=="string"}function Kd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function it(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(v){return o.M(v)||u.M(v)}}}function Ye(o,u){for(var f in u){var d=u[f].name;o[d]=wN(d,o[f],u[f].j)}}function _N(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:W(function(v){return this[v]},f),set:W(function(v,_,b,C){vN(v,[b],[C],!0),this[_]=C},d,f,u[f].lb),enumerable:!0})}}function ot(o,u,f,d){o[u]=wN(u,f,d)}function wN(o,u,f){function d(){var b=Array.prototype.slice.call(arguments);return vN(v,f,b),u.apply(this,b)}if(!f)return u;var v=o5(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function o5(o){return o=o.split("."),o[o.length-1]}Ye(Pr.prototype,{kb:{name:"applyActionCode",j:[J("code")]},Sa:{name:"checkActionCode",j:[J("code")]},ob:{name:"confirmPasswordReset",j:[J("code"),J("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[J("email"),J("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[J("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[J("emailLink")]},Hc:{name:"onAuthStateChanged",j:[it(lt(),tu(),"nextOrObserver"),tu("opt_error",!0),tu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[it(lt(),tu(),"nextOrObserver"),tu("opt_error",!0),tu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[J("email"),it(lt("opt_actionCodeSettings",!0),ei(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[J("email"),lt("actionCodeSettings")]},yb:{name:"setPersistence",j:[J("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[uo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[uo()]},Tc:{name:"signInWithCustomToken",j:[J("token")]},Uc:{name:"signInWithEmailAndPassword",j:[J("email"),J("password")]},Vc:{name:"signInWithEmailLink",j:[J("email"),J("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[J("phoneNumber"),Kd()]},Xc:{name:"signInWithPopup",j:[nu()]},Yc:{name:"signInWithRedirect",j:[nu()]},dd:{name:"updateCurrentUser",j:[it(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Hn)}}}(),ei(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[J(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[J("url"),lt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[J("code")]}}),_N(Pr.prototype,{lc:{name:"languageCode",lb:it(J(),ei(),"languageCode")},ti:{name:"tenantId",lb:it(J(),ei(),"tenantId")}}),Pr.Persistence=Ga,Pr.Persistence.LOCAL="local",Pr.Persistence.SESSION="session",Pr.Persistence.NONE="none",Ye(Hn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[t_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[t_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[uo()]},rb:{name:"linkWithCredential",j:[uo()]},Dc:{name:"linkWithPhoneNumber",j:[J("phoneNumber"),Kd()]},Ec:{name:"linkWithPopup",j:[nu()]},Fc:{name:"linkWithRedirect",j:[nu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[uo()]},ub:{name:"reauthenticateWithCredential",j:[uo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[J("phoneNumber"),Kd()]},Nc:{name:"reauthenticateWithPopup",j:[nu()]},Oc:{name:"reauthenticateWithRedirect",j:[nu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[it(lt("opt_actionCodeSettings",!0),ei(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[J(null,!0)]},cd:{name:"unlink",j:[J("provider")]},Cb:{name:"updateEmail",j:[J("email")]},Db:{name:"updatePassword",j:[J("password")]},ed:{name:"updatePhoneNumber",j:[uo("phone")]},Eb:{name:"updateProfile",j:[lt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[J("email"),it(lt("opt_actionCodeSettings",!0),ei(null,!0),"opt_actionCodeSettings",!0)]}}),Ye(eu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(yc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),_N(UC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:t_("appVerificationDisabledForTesting")}}),Ye(_0.prototype,{confirm:{name:"confirm",j:[J("verificationCode")]}}),ot(za,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[NB,AB,RB,CB],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[it(J(),lt(),"json")]),ot(sr,"credential",function(o,u){return new oo(o,u)},[J("email"),J("password")]),Ye(oo.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Ye(ms.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),ot(ms,"credential",Ek,[it(J(),lt(),"token")]),ot(sr,"credentialWithLink",Sk,[J("email"),J("emailLink")]),Ye(ys.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),ot(ys,"credential",bk,[it(J(),lt(),"token")]),Ye(_s.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),ot(_s,"credential",Tk,[it(J(),it(lt(),ei()),"idToken"),it(J(),ei(),"accessToken",!0)]),Ye(Ha.prototype,{Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),ot(Ha,"credential",Ik,[it(J(),lt(),"token"),J("secret",!0)]),Ye(Wn.prototype,{Ca:{name:"addScope",j:[J("scope")]},credential:{name:"credential",j:[it(J(),it(lt(),ei()),"optionsOrIdToken"),it(J(),ei(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[lt("customOAuthParameters")]}}),Ye(Ti.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Ye(vs.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),ot(Ii,"credential",kk,[J("verificationId"),J("verificationCode")]),Ye(Ii.prototype,{gb:{name:"verifyPhoneNumber",j:[it(J(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?n_(f.session,Jl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?n_(f.session,vd)&&yN(f.multiFactorHint):f.session&&f.multiFactorUid?n_(f.session,vd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Kd()]}}),Ye(so.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Ye(x.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Ye(ec.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Ye(Ay.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Ye(b0.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Ye(E0.prototype,{Rc:{name:"resolveSignIn",j:[mN()]}}),Ye(I0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[mN(),J("displayName",!0)]},bd:{name:"unenroll",j:[it({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:yN},J(),"multiFactorInfoIdentifier")]}}),Ye(e_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ot(my,"parseLink",rk,[J("link")]),ot(K0,"assertion",function(o){return new zC(o)},[uo("phone")]),function(){if(typeof te<"u"&&te.INTERNAL&&te.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ud,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:gy,VERIFY_AND_CHANGE_EMAIL:Yl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Pr,AuthCredential:za,Error:x};ot(o,"EmailAuthProvider",sr,[]),ot(o,"FacebookAuthProvider",ms,[]),ot(o,"GithubAuthProvider",ys,[]),ot(o,"GoogleAuthProvider",_s,[]),ot(o,"TwitterAuthProvider",Ha,[]),ot(o,"OAuthProvider",Wn,[J("providerId")]),ot(o,"SAMLAuthProvider",wk,[J("providerId")]),ot(o,"PhoneAuthProvider",Ii,[r5()]),ot(o,"RecaptchaVerifier",e_,[it(J(),n5(),"recaptchaContainer"),lt("recaptchaParameters",!0),i5()]),ot(o,"ActionCodeURL",my,[]),ot(o,"PhoneMultiFactorGenerator",K0,[]),te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Pr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.registerVersion("@firebase/auth","0.16.8"),te.INTERNAL.extendNamespace({User:Hn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var NW={},AW="@firebase/database",RW="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL="";function dL(e){hL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xW=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),_t(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Of(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PW=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return er(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new xW(t)}}catch{}return new PW},js=pL("localStorage"),iE=pL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu=new _a("@firebase/database"),vL=function(){var e=1;return function(){return e++}}(),gL=function(e){var t=Q3(e),n=new W3;n.update(t);var r=n.digest();return bg.encodeByteArray(r)},ph=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=ph.apply(null,i):typeof i=="object"?n+=_t(i):n+=i,n+=" "}return n},Hs=null,ZA=!0,mL=function(e,t){$(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Pu.logLevel=_e.VERBOSE,Hs=Pu.log.bind(Pu),t&&iE.set("logging_enabled",!0)):typeof e=="function"?Hs=e:(Hs=null,iE.remove("logging_enabled"))},Rt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(ZA===!0&&(ZA=!1,Hs===null&&iE.get("logging_enabled")===!0&&mL(!0)),Hs){var n=ph.apply(null,e);Hs(n)}},vh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Rt.apply(void 0,ve([e],zt(t)))}},oE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+ph.apply(void 0,ve([],zt(e)));Pu.error(n)},di=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+ph.apply(void 0,ve([],zt(e)));throw Pu.error(n),new Error(n)},Ht=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+ph.apply(void 0,ve([],zt(e)));Pu.warn(n)},OW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ig=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},DW=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bi="[MIN_NAME]",pi="[MAX_NAME]",wa=function(e,t){if(e===t)return 0;if(e===Bi||t===pi)return-1;if(t===Bi||e===pi)return 1;var n=vv(e),r=vv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},LW=function(e,t){return e===t?0:e<t?-1:1},xc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_t(t))},dT=function(e){if(typeof e!="object"||e===null)return _t(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=_t(t[i]),r+=":",r+=dT(e[t[i]]);return r+="}",r},yL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Tt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var _L=function(e){$(!Ig(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),g="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),g=g+m}return g.toLowerCase()},MW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jW(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var UW=new RegExp("^-?(0*)\\d{1,10}$"),wL=-2147483648,pT=2147483647,vv=function(e){if(UW.test(e)){var t=Number(e);if(t>=wL&&t<=pT)return t}return null},El=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Ht("Exception was thrown by user callback.",n),t},Math.floor(0))}},VW=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BW=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Ht('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $W=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(t)},e}(),of=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT="5",EL="v",bL="s",TL="r",IL="f",SL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kL="ls",qW="p",sE="ac",CL="websocket",NL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=js.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&js.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function zW(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function AL(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");var r;if(t===CL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===NL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);zW(e)&&(n.ns=e.namespace);var i=[];return Tt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WW=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),er(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return nL(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R_={},x_={};function mT(e){var t=e.toString();return R_[t]||(R_[t]=new WW),R_[t]}function HW(e,t){var n=e.toString();return x_[n]||(x_[n]=t()),x_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KW=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&El(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eR="start",GW="close",QW="pLPCommand",YW="pRTLPCB",RL="id",xL="pw",PL="ser",XW="cb",JW="seg",ZW="ts",eH="d",tH="dframe",OL=1870,DL=30,nH=OL-DL,rH=25e3,iH=3e4,yT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vh(t),this.stats_=mT(n),this.urlFn=function(h){return c.appCheckToken&&(h[sE]=c.appCheckToken),AL(n,NL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new KW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(iH)),DW(function(){if(!r.isClosed_){r.scriptTagHolder=new oH(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=zt(a,5),h=c[0],p=c[1],g=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===eR)r.id=p,r.password=g;else if(h===GW)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=zt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[eR]="t",i[PL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[XW]=r.scriptTagHolder.uniqueCallbackIdentifier),i[EL]=vT,r.transportSessionId&&(i[bL]=r.transportSessionId),r.lastSessionId&&(i[kL]=r.lastSessionId),r.applicationId&&(i[qW]=r.applicationId),r.appCheckToken&&(i[sE]=r.appCheckToken),typeof location<"u"&&location.hostname&&SL.test(location.hostname)&&(i[TL]=IL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MW()&&!FW()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=_t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=tL(n),i=yL(r,nH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[tH]="t",r[RL]=t,r[xL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=_t(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),oH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vL(),window[QW+this.uniqueCallbackIdentifier]=t,window[YW+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Rt("frame writing exception"),c.stack&&Rt(c.stack),Rt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Rt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[RL]=this.myID,t[xL]=this.myPW,t[PL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+DL+r.length<=OL){var a=this.pendingSegs.shift();r=r+"&"+JW+i+"="+a.seg+"&"+ZW+i+"="+a.ts+"&"+eH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(rH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Rt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sH=16384,aH=45e3,gv=null;typeof MozWebSocket<"u"?gv=MozWebSocket:typeof WebSocket<"u"&&(gv=WebSocket);var xs=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vh(this.connId),this.stats_=mT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[EL]=vT,typeof location<"u"&&location.hostname&&SL.test(location.hostname)&&(s[TL]=IL),n&&(s[bL]=n),r&&(s[kL]=r),i&&(s[sE]=i),AL(t,CL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,js.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!oL()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new gv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&gv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return js.isInMemoryStorage||js.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){js.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Of(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=_t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=yL(n,sH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(aH))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[yT,xs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=xs&&xs.isAvailable(),s=i&&!xs.previouslyFailed();if(t.webSocketOnly&&(i||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[xs];else{var a=this.transports_=[];try{for(var l=Dt(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lH=6e4,cH=5e3,fH=10*1024,hH=100*1024,P_="t",tR="d",dH="s",nR="r",pH="e",rR="o",iR="a",oR="n",sR="p",vH="h",LL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vh("c:"+this.id+":"),this.transportManager_=new uH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=rf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>hH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>fH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(P_ in t){var n=t[P_];n===iR?this.upgradeIfSecondaryHealthy_():n===nR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=xc("t",t),r=xc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=xc("t",t),r=xc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=xc(P_,t);if(tR in t){var r=t[tR];if(n===vH)this.onHandshake_(r);else if(n===oR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dH?this.onConnectionShutdown_(r):n===nR?this.onReset_(r):n===pH?oE("Server Error: "+r):n===rR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vT!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),rf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(lH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(cH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ve([],zt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){$(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aR=function(e){G(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(FL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR=32,lR=768,xe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ne(){return new xe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function zo(e){return e.pieces_.length-e.pieceNum_}function Fe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new xe(e.pieces_,t)}function _T(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Df(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function jL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new xe(t,0)}function Ge(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof xe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new xe(n,0)}function me(e){return e.pieceNum_>=e.pieces_.length}function bn(e,t){var n=ge(e),r=ge(t);if(n===null)return t;if(n===r)return bn(Fe(e),Fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mH(e,t){for(var n=Df(e,0),r=Df(t,0),i=0;i<n.length&&i<r.length;i++){var s=wa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function wT(e,t){if(zo(e)!==zo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function cr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(zo(e)>zo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var yH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Df(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Tg(this.parts_[r]);UL(this)}return e}();function _H(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Tg(t),UL(e)}function wH(e){var t=e.parts_.pop();e.byteLength_-=Tg(t),e.parts_.length>0&&(e.byteLength_-=1)}function UL(e){if(e.byteLength_>lR)throw new Error(e.errorPrefix_+"has a key path longer than "+lR+" bytes ("+e.byteLength_+").");if(e.parts_.length>uR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uR+") or object contains a cycle "+As(e))}function As(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EH=function(e){G(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]},t}(FL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=1e3,bH=60*5*1e3,TH=3*1e3,cR=30*1e3,IH=1.3,SH=3e4,kH="server_kill",fR=3,Ks=function(e){G(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=vh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Pc,p.maxReconnectDelay_=bH,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!oL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return EH.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&aR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(_t(a)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Pt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},TH),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,g=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),g!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(g,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&er(n,"w")){var i=na(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Ht("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||q3(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=$3(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+_t(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):oE("Unrecognized action received from server: "+_t(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>SH&&(this.reconnectDelay_=Pc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*IH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,E,I,w=this;return A(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(S){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:h,sendRequest:p},g=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)])];case 2:return m=zt.apply(void 0,[T.sent(),2]),y=m[0],E=m[1],l?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,c=new LL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){Ht(S+" ("+w.repoInfo_.toString()+")"),w.interrupt(kH)},a)),[3,4];case 3:return I=T.sent(),this.log_("Failed to get token: "+I),l||(this.repoInfo_.nodeAdmin&&Ht(I),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Rt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Rt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],nE(this.interruptReasons_)&&(this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return dT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new xe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Rt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fR&&(this.reconnectDelay_=cR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Rt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Dt(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Dt(c.values())),p=h.next();!p.done;p=h.next()){var g=p.value;this.sendListen_(g)}}catch(E){i={error:E}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+hL.replace(/\./g,"-")]=1,aT()?n["framework.cordova"]=1:iL()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=aR.getInstance().currentlyOnline();return nE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ML);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Te(Bi,t),i=new Te(Bi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Te.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sp,VL=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return sp},set:function(n){sp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return wa(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw _l("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(pi,sp)},t.prototype.makePost=function(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new Te(n,sp)},t.prototype.toString=function(){return".key"},t}(Sg),ui=new VL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ap=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Ur=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Oi.EMPTY_NODE,this.right=s??Oi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Oi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Oi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),CH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ur(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Oi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ur.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ur.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new ap(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new ap(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new ap(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new ap(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new CH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(e,t){return wa(e.name,t.name)}function ET(e,t){return wa(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE;function AH(e){aE=e}var BL=function(e){return typeof e=="number"?"number:"+_L(e):"string:"+e},$L=function(e){if(e.isLeafNode()){var t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&er(t,".sv"),"Priority must be a string or number.")}else $(e===aE||e.isEmpty(),"priority of unexpected type.");$(e===aE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR,$u=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$L(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return hR},set:function(t){hR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return me(t)?this:ge(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||zo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+BL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=_L(this.value_):t+=this.value_,this.lazyHash_=gL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL,zL;function RH(e){qL=e}function xH(e){zL=e}var PH=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?wa(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(pi,new $u("[PRIORITY-POST]",zL))},t.prototype.makePost=function(n,r){var i=qL(n);return new Te(r,new $u("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Sg),Ve=new PH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OH=Math.log(2),DH=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/OH,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),mv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,g,m;if(p===0)return null;if(p===1)return g=e[c],m=n?n(g):g,new Ur(m,g.node,Ur.BLACK,null,null);var y=parseInt(p/2,10)+c,E=i(c,y),I=i(y+1,h);return g=e[y],m=n?n(g):g,new Ur(m,g.node,Ur.BLACK,E,I)},s=function(c){for(var h=null,p=null,g=e.length,m=function(T,S){var N=g-T,P=g;g-=T;var M=i(N+1,P),O=e[N],W=n?n(O):O;y(new Ur(W,O.node,S,null,M))},y=function(T){h?(h.left=T,h=T):(p=T,h=T)},E=0;E<c.count;++E){var I=c.nextBitIsOne(),w=Math.pow(2,c.count-(E+1));I?m(w,Ur.BLACK):(m(w,Ur.BLACK),m(w,Ur.RED))}return p},a=new DH(e.length),l=s(a);return new Oi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O_,iu={},yv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return $(iu&&Ve,"ChildrenNode.ts has not been loaded"),O_=O_||new e({".priority":iu},{".priority":Ve}),O_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=na(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Oi?n:null},e.prototype.hasIndex=function(t){return er(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){$(t!==ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Te.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=mv(r,t.getCompare()):l=iu;var c=t.toString(),h=ie({},this.indexSet_);h[c]=t;var p=ie({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=dv(this.indexes_,function(s,a){var l=na(r.indexSet_,a);if($(l,"Missing index implementation for "+a),s===iu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Te.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),mv(c,l.getCompare())}else return iu;else{var g=n.get(t.name),m=s;return g&&(m=m.remove(new Te(t.name,g))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=dv(this.indexes_,function(i){if(i===iu)return i;var s=n.get(t.name);return s?i.remove(new Te(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc,fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$L(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Oc||(Oc=new e(new Oi(ET),null,yv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Oc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Oc:n},e.prototype.getChild=function(t){var n=ge(t);return n===null?this:this.getImmediateChild(n).getChild(Fe(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Te(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Oc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ge(t);if(r===null)return n;$(ge(t)!==".priority"||zo(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Fe(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Ve,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+BL(this.getPriority().val())+":"),this.forEachChild(Ve,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":gL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Te(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gh?-1:0},e.prototype.withIndex=function(t){if(t===ui||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===ui||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Ve),i=n.getIterator(Ve),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===ui?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),LH=function(e){G(t,e);function t(){return e.call(this,new Oi(ET),fe.EMPTY_NODE,yv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fe),gh=new LH;Object.defineProperties(Te,{MIN:{value:new Te(Bi,fe.EMPTY_NODE)},MAX:{value:new Te(pi,gh)}});VL.__EMPTY_NODE=fe.EMPTY_NODE;$u.__childrenNodeConstructor=fe;AH(gh);xH(gh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MH=!0;function Xe(e,t){if(t===void 0&&(t=null),e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new $u(n,Xe(t))}if(!(e instanceof Array)&&MH){var r=[],i=!1,s=e;if(Tt(s,function(h,p){if(h.substring(0,1)!=="."){var g=Xe(p);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),r.push(new Te(h,g)))}}),r.length===0)return fe.EMPTY_NODE;var a=mv(r,NH,function(h){return h.name},ET);if(i){var l=mv(r,Ve.getCompare());return new fe(a,Xe(t),new yv({".priority":l},{".priority":Ve}))}else return new fe(a,Xe(t),yv.Default)}else{var c=fe.EMPTY_NODE;return Tt(e,function(h,p){if(er(e,h)&&h.substring(0,1)!=="."){var g=Xe(p);(g.isLeafNode()||!g.isEmpty())&&(c=c.updateImmediateChild(h,g))}}),c.updatePriority(Xe(t))}}RH(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,$(!me(n)&&ge(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?wa(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Xe(n),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(r,s)},t.prototype.maxPost=function(){var n=fe.EMPTY_NODE.updateChild(this.indexPath_,gh);return new Te(pi,n)},t.prototype.toString=function(){return Df(this.indexPath_,0).join("/")},t}(Sg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FH=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?wa(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return Te.MAX},t.prototype.makePost=function(n,r){var i=Xe(n);return new Te(r,i)},t.prototype.toString=function(){return".value"},t}(Sg),TT=new FH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uE="-",WL="z",HL=786,jH=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=qu.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=qu.charAt(t[i]);return $(a.length===20,"nextPushId: Length should be 20."),a}}(),dR=function(e){if(e===""+pT)return uE;var t=vv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<HL)return n.push(uE),n.join("");for(var i=n.length-1;i>=0&&n[i]===WL;)i--;if(i===-1)return pi;var s=n[i],a=qu.charAt(qu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},pR=function(e){if(e===""+wL)return Bi;var t=vv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===uE?n.length===1?""+pT:(delete n[n.length-1],n.join("")):(n[n.length-1]=qu.charAt(qu.indexOf(n[n.length-1])-1),n.join("")+WL.repeat(HL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e){return{type:"value",snapshotNode:e}}function zu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Lf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function UH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Lf(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(zu(n,r)):a.trackChildChange(Mf(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ve,function(i,s){n.hasChild(i)||r.trackChildChange(Lf(i,s))}),n.isLeafNode()||n.forEachChild(Ve,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Mf(i,s,a))}else r.trackChildChange(zu(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GL=function(){function e(t){this.indexedFilter_=new IT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Te(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);var s=this;return n.forEachChild(Ve,function(a,l){s.matches(new Te(a,l))||(i=i.updateImmediateChild(a,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VH=function(){function e(t){this.rangedFilter_=new GL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Te(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);var h=void 0,p=void 0,g=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();g=function(w,T){return m(T,w)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&g(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&g(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(S,N){return l(N,S)}}else a=this.index_.getCompare();var c=t;$(c.numChildren()===this.limit_,"");var h=new Te(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var E=y==null?1:a(y,h),I=g&&!r.isEmpty()&&E>=0;if(I)return s!=null&&s.trackChildChange(Mf(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Lf(n,m));var w=c.updateImmediateChild(n,fe.EMPTY_NODE),T=y!=null&&this.rangedFilter_.matches(y);return T?(s!=null&&s.trackChildChange(zu(y.name,y.node)),w.updateImmediateChild(y.name,y.node)):w}else return r.isEmpty()?t:g&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Lf(p.name,p.node)),s.trackChildChange(zu(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ve},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function BH(e){return e.loadsAllData()?new IT(e.getIndex()):e.hasLimit()?new VH(e):new GL(e)}function $H(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function qH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function lE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zH(e,t,n){var r;if(e.index_===ui)typeof t=="string"&&(t=dR(t)),r=lE(e,t,n);else{var i=void 0;n==null?i=pi:i=dR(n),r=lE(e,t,i)}return r.startAfterSet_=!0,r}function cE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function WH(e,t,n){var r,i;return e.index_===ui?(typeof t=="string"&&(t=pR(t)),i=cE(e,t,n)):(n==null?r=Bi:r=pR(n),i=cE(e,t,r)),i.endBeforeSet_=!0,i}function kg(e,t){var n=e.copy();return n.index_=t,n}function vR(e){var t={};if(e.isDefault())return t;var n;return e.index_===Ve?n="$priority":e.index_===TT?n="$value":e.index_===ui?n="$key":($(e.index_ instanceof bT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=_t(n),e.startSet_&&(t.startAt=_t(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+_t(e.indexStartName_))),e.endSet_&&(t.endAt=_t(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+_t(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function gR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ve&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HH=function(e){G(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=vh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=vR(n._queryParams);this.restRequest_(l+".json",p,function(g,m){var y=m;if(g===404&&(y=null,g=null),g===null&&a.onDataUpdate_(l,y,!1,i),na(a.listens_,c)===h){var E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",s(E,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=vR(n._queryParams),s=n._path.toString(),a=new Pt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=zt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+z3(r);s.log_("Sending REST request for "+p);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(i&&g.readyState===4){s.log_("REST Response for "+p+" received. status:",g.status,"response:",g.responseText);var m=null;if(g.status>=200&&g.status<300){try{m=Of(g.responseText)}catch{Ht("Failed to parse JSON response for "+p+": "+g.responseText)}i(null,m)}else g.status!==401&&g.status!==404&&Ht("Got unsuccessful REST response for "+p+" Status: "+g.status),i(g.status);i=null}},g.open("GET",p,!0),g.send()})},t}(ML);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KH=function(){function e(){this.rootNode_=fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){return{value:null,children:new Map}}function bl(e,t,n){if(me(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,_v());var i=e.children.get(r);t=Fe(t),bl(i,t,n)}}function fE(e,t){if(me(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ve,function(s,a){bl(e,new xe(s),a)}),fE(e,t)}else if(e.children.size>0){var r=ge(t);if(t=Fe(t),e.children.has(r)){var i=fE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function hE(e,t,n){e.value!==null?n(t,e.value):GH(e,function(r,i){var s=new xe(t.toString()+"/"+r);hE(i,s,n)})}function GH(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ie({},t);return this.last_&&Tt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=10*1e3,QH=30*1e3,YH=5*60*1e3,XH=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YL(t);var r=mR+(QH-mR)*Math.random();rf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Tt(n,function(s,a){a>0&&er(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),rf(this.reportStats_.bind(this),Math.floor(Math.random()*2*YH))},e}();function JH(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Br||(Br={}));function ST(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function CT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZH=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Br.ACK_USER_WRITE,this.source=ST()}return e.prototype.operationForChild=function(t){if(me(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new xe(t));return new e(Ne(),n,this.revert)}else return $(ge(this.path)===t,"operationForChild called for unrelated child."),new e(Fe(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XL=function(){function e(t,n){this.source=t,this.path=n,this.type=Br.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,Ne()):new e(this.source,Fe(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Br.OVERWRITE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,Ne(),this.snap.getImmediateChild(t)):new e(this.source,Fe(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Br.MERGE}return e.prototype.operationForChild=function(t){if(me(this.path)){var n=this.children.subtree(new xe(t));return n.isEmpty()?null:n.value?new Cg(this.source,Ne(),n.value):new e(this.source,Ne(),n)}else return $(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fe(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;var n=ge(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function tK(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(UH(a.childName,a.snapshotNode))}),Dc(e,i,"child_removed",t,r,n),Dc(e,i,"child_added",t,r,n),Dc(e,i,"child_moved",s,r,n),Dc(e,i,"child_changed",t,r,n),Dc(e,i,"value",t,r,n),i}function Dc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return rK(e,l,c)}),a.forEach(function(l){var c=nK(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function nK(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function rK(e,t,n){if(t.childName==null||n.childName==null)throw _l("Should only compare child_ events.");var r=new Te(t.childName,t.snapshotNode),i=new Te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(e,t){return{eventCache:e,serverCache:t}}function sf(e,t,n,r){return Ng(new Wo(t,n,r),e.serverCache)}function JL(e,t,n,r){return Ng(e.eventCache,new Wo(t,n,r))}function wv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ra(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D_,iK=function(){return D_||(D_=new Oi(LW)),D_},tr=function(){function e(t,n){n===void 0&&(n=iK()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Tt(t,function(r,i){n=n.set(new xe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(me(t))return null;var r=ge(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Fe(t),n);if(s!=null){var a=Ge(new xe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(me(t))return this;var n=ge(t),r=this.children.get(n);return r!==null?r.subtree(Fe(t)):new e(null)},e.prototype.set=function(t,n){if(me(t))return new e(n,this.children);var r=ge(t),i=this.children.get(r)||new e(null),s=i.set(Fe(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(Fe(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(me(t))return this.value;var n=ge(t),r=this.children.get(n);return r?r.get(Fe(t)):null},e.prototype.setTree=function(t,n){if(me(t))return n;var r=ge(t),i=this.children.get(r)||new e(null),s=i.setTree(Fe(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ne(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ge(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ne(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(me(t))return null;var s=ge(t),a=this.children.get(s);return a?a.findOnPath_(Fe(t),Ge(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ne(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(me(t))return this;this.value&&r(n,this.value);var i=ge(t),s=this.children.get(i);return s?s.foreachOnPath_(Fe(t),Ge(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ne(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ge(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new tr(null))},e}();function af(e,t,n){if(me(t))return new Fi(new tr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=bn(i,t);return s=s.updateChild(a,n),new Fi(e.writeTree_.set(i,s))}else{var l=new tr(n),c=e.writeTree_.setTree(t,l);return new Fi(c)}}function dE(e,t,n){var r=e;return Tt(n,function(i,s){r=af(r,Ge(t,i),s)}),r}function yR(e,t){if(me(t))return Fi.empty();var n=e.writeTree_.setTree(t,new tr(null));return new Fi(n)}function pE(e,t){return Ea(e,t)!=null}function Ea(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(bn(n.path,t)):null}function _R(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,function(r,i){t.push(new Te(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Te(r,i.value))}),t}function Do(e,t){if(me(t))return e;var n=Ea(e,t);return n!=null?new Fi(new tr(n)):new Fi(e.writeTree_.subtree(t))}function vE(e){return e.writeTree_.isEmpty()}function Wu(e,t){return ZL(Ne(),e.writeTree_,t)}function ZL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ZL(Ge(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ge(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e,t){return rM(t,e)}function oK(e,t,n,r,i){$(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=af(e.visibleWrites,t,n)),e.lastWriteId=r}function sK(e,t,n,r){$(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=dE(e.visibleWrites,t,n),e.lastWriteId=r}function aK(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function uK(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});$(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&lK(l,r.path)?i=!1:cr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return cK(e),!0;if(r.snap)e.visibleWrites=yR(e.visibleWrites,r.path);else{var c=r.children;Tt(c,function(h){e.visibleWrites=yR(e.visibleWrites,Ge(r.path,h))})}return!0}else return!1}function lK(e,t){if(e.snap)return cr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&cr(Ge(e.path,n),t))return!0;return!1}function cK(e){e.visibleWrites=eM(e.allWrites,fK,Ne()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function fK(e){return e.visible}function eM(e,t,n){for(var r=Fi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)cr(n,a)?(l=bn(n,a),r=af(r,l,s.snap)):cr(a,n)&&(l=bn(a,n),r=af(r,Ne(),s.snap.getChild(l)));else if(s.children){if(cr(n,a))l=bn(n,a),r=dE(r,l,s.children);else if(cr(a,n))if(l=bn(a,n),me(l))r=dE(r,Ne(),s.children);else{var c=na(s.children,ge(l));if(c){var h=c.getChild(Fe(l));r=af(r,Ne(),h)}}}else throw _l("WriteRecord should have .snap or .children")}}return r}function tM(e,t,n,r,i){if(!r&&!i){var s=Ea(e.visibleWrites,t);if(s!=null)return s;var a=Do(e.visibleWrites,t);if(vE(a))return n;if(n==null&&!pE(a,Ne()))return null;var l=n||fe.EMPTY_NODE;return Wu(a,l)}else{var c=Do(e.visibleWrites,t);if(!i&&vE(c))return n;if(!i&&n==null&&!pE(c,Ne()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(cr(m.path,t)||cr(t,m.path))},p=eM(e.allWrites,h,t),l=n||fe.EMPTY_NODE;return Wu(p,l)}}function hK(e,t,n){var r=fe.EMPTY_NODE,i=Ea(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ve,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Do(e.visibleWrites,t);return n.forEachChild(Ve,function(l,c){var h=Wu(Do(s,new xe(l)),c);r=r.updateImmediateChild(l,h)}),_R(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Do(e.visibleWrites,t);return _R(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function dK(e,t,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ge(t,n);if(pE(e.visibleWrites,s))return null;var a=Do(e.visibleWrites,s);return vE(a)?i.getChild(n):Wu(a,i.getChild(n))}function pK(e,t,n,r){var i=Ge(t,n),s=Ea(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Do(e.visibleWrites,i);return Wu(a,r.getNode().getImmediateChild(n))}else return null}function vK(e,t){return Ea(e.visibleWrites,t)}function gK(e,t,n,r,i,s,a){var l,c=Do(e.visibleWrites,t),h=Ea(c,Ne());if(h!=null)l=h;else if(n!=null)l=Wu(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],g=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)g(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function mK(){return{visibleWrites:Fi.empty(),allWrites:[],lastWriteId:-1}}function Ev(e,t,n,r){return tM(e.writeTree,e.treePath,t,n,r)}function AT(e,t){return hK(e.writeTree,e.treePath,t)}function wR(e,t,n,r){return dK(e.writeTree,e.treePath,t,n,r)}function bv(e,t){return vK(e.writeTree,Ge(e.treePath,t))}function yK(e,t,n,r,i,s){return gK(e.writeTree,e.treePath,t,n,r,i,s)}function RT(e,t,n){return pK(e.writeTree,e.treePath,t,n)}function nM(e,t){return rM(Ge(e.treePath,t),e.writeTree)}function rM(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _K=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Mf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Lf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zu(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Mf(r,t.snapshotNode,i.oldSnap));else throw _l("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),iM=new wK,xT=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Wo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RT(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ra(this.viewCache_),s=yK(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(e){return{filter:e}}function bK(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function TK(e,t,n,r,i){var s=new _K,a,l;if(n.type===Br.OVERWRITE){var c=n;c.source.fromUser?a=gE(e,t,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!me(c.path),a=Tv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Br.MERGE){var h=n;h.source.fromUser?a=SK(e,t,h.path,h.children,r,i,s):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=mE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Br.ACK_USER_WRITE){var p=n;p.revert?a=NK(e,t,p.path,r,i,s):a=kK(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Br.LISTEN_COMPLETE)a=CK(e,t,n.path,r,s);else throw _l("Unknown operation type: "+n.type);var g=s.getChanges();return IK(t,a,g),{viewCache:a,changes:g}}function IK(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=wv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(KL(wv(t)))}}function oM(e,t,n,r,i,s){var a=t.eventCache;if(bv(r,n)!=null)return t;var l=void 0,c=void 0;if(me(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ra(t),p=h instanceof fe?h:fe.EMPTY_NODE,g=AT(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var m=Ev(r,ra(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=ge(n);if(y===".priority"){$(zo(n)===1,"Can't have a priority with additional path components");var E=a.getNode();c=t.serverCache.getNode();var I=wR(r,n,E,c);I!=null?l=e.filter.updatePriority(E,I):l=a.getNode()}else{var w=Fe(n),T=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var S=wR(r,n,a.getNode(),c);S!=null?T=a.getNode().getImmediateChild(y).updateChild(w,S):T=a.getNode().getImmediateChild(y)}else T=RT(r,y,t.serverCache);T!=null?l=e.filter.updateChild(a.getNode(),y,T,w,i,s):l=a.getNode()}}return sf(t,l,a.isFullyInitialized()||me(n),e.filter.filtersNodes())}function Tv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(me(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var g=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),g,null)}else{var m=ge(n);if(!c.isCompleteForPath(n)&&zo(n)>1)return t;var y=Fe(n),E=c.getNode().getImmediateChild(m),I=E.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),I):h=p.updateChild(c.getNode(),m,I,y,iM,null)}var w=JL(t,h,c.isFullyInitialized()||me(n),p.filtersNodes()),T=new xT(i,w,s);return oM(e,w,n,i,T,l)}function gE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new xT(i,t,s);if(me(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=sf(t,h,!0,e.filter.filtersNodes());else{var g=ge(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=sf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Fe(n),y=l.getNode().getImmediateChild(g),E=void 0;if(me(m))E=r;else{var I=p.getCompleteChild(g);I!=null?_T(m)===".priority"&&I.getChild(jL(m)).isEmpty()?E=I:E=I.updateChild(m,r):E=fe.EMPTY_NODE}if(y.equals(E))c=t;else{var w=e.filter.updateChild(l.getNode(),g,E,m,p,a);c=sf(t,w,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function ER(e,t){return e.eventCache.isCompleteForChild(t)}function SK(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ge(n,c);ER(t,ge(p))&&(l=gE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ge(n,c);ER(t,ge(p))||(l=gE(e,l,p,h,i,s,a))}),l}function bR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function mE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;me(n)?h=r:h=new tr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(g,m){if(p.hasChild(g)){var y=t.serverCache.getNode().getImmediateChild(g),E=bR(e,y,m);c=Tv(e,c,new xe(g),E,i,s,a,l)}}),h.children.inorderTraversal(function(g,m){var y=!t.serverCache.isCompleteForChild(g)&&m.value===void 0;if(!p.hasChild(g)&&!y){var E=t.serverCache.getNode().getImmediateChild(g),I=bR(e,E,m);c=Tv(e,c,new xe(g),I,i,s,a,l)}}),c}function kK(e,t,n,r,i,s,a){if(bv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(me(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Tv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(me(n)){var h=new tr(null);return c.getNode().forEachChild(ui,function(g,m){h=h.set(new xe(g),m)}),mE(e,t,n,h,i,s,l,a)}else return t}else{var p=new tr(null);return r.foreach(function(g,m){var y=Ge(n,g);c.isCompleteForPath(y)&&(p=p.set(g,c.getNode().getChild(y)))}),mE(e,t,n,p,i,s,l,a)}}function CK(e,t,n,r,i){var s=t.serverCache,a=JL(t,s.getNode(),s.isFullyInitialized()||me(n),s.isFiltered());return oM(e,a,n,r,iM,i)}function NK(e,t,n,r,i,s){var a;if(bv(r,n)!=null)return t;var l=new xT(r,t,i),c=t.eventCache.getNode(),h=void 0;if(me(n)||ge(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=Ev(r,ra(t));else{var g=t.serverCache.getNode();$(g instanceof fe,"serverChildren would be complete if leaf node"),p=AT(r,g)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=ge(n),y=RT(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Fe(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,fe.EMPTY_NODE,Fe(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ev(r,ra(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||bv(r,Ne())!=null,sf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new IT(r.getIndex()),s=BH(r);this.processor_=EK(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(fe.EMPTY_NODE,l.getNode(),null),p=new Wo(c,a.isFullyInitialized(),i.filtersNodes()),g=new Wo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ng(g,p),this.eventGenerator_=new eK(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function RK(e){return e.viewCache_.serverCache.getNode()}function xK(e){return wv(e.viewCache_)}function PK(e,t){var n=ra(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!me(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function TR(e){return e.eventRegistrations_.length===0}function OK(e,t){e.eventRegistrations_.push(t)}function IR(e,t,n){var r=[];if(n){$(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function SR(e,t,n,r){t.type===Br.MERGE&&t.source.queryId!==null&&($(ra(e.viewCache_),"We should always have a full cache before handling merges"),$(wv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=TK(e.processor_,i,t,n,r);return bK(e.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,sM(e,s.changes,s.viewCache.eventCache.getNode(),null)}function DK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Ve,function(s,a){r.push(zu(s,a))})}return n.isFullyInitialized()&&r.push(KL(n.getNode())),sM(e,r,n.getNode(),t)}function sM(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return tK(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iv,aM=function(){function e(){this.views=new Map}return e}();function LK(e){$(!Iv,"__referenceConstructor has already been defined"),Iv=e}function MK(){return $(Iv,"Reference.ts has not been loaded"),Iv}function FK(e){return e.views.size===0}function PT(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return $(l!=null,"SyncTree gave us an op for an invalid query."),SR(l,t,n,r)}else{var c=[];try{for(var h=Dt(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(SR(l,t,n,r))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function uM(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Ev(n,i?r:null),c=!1;l?c=!0:r instanceof fe?(l=AT(n,r),c=!1):(l=fe.EMPTY_NODE,c=!1);var h=Ng(new Wo(l,c,!1),new Wo(r,i,!1));return new AK(t,h)}return a}function jK(e,t,n,r,i,s){var a=uM(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),OK(a,n),DK(a,n)}function UK(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Ho(e);if(a==="default")try{for(var p=Dt(e.views.entries()),g=p.next();!g.done;g=p.next()){var m=zt(g.value,2),y=m[0],E=m[1];c=c.concat(IR(E,n,r)),TR(E)&&(e.views.delete(y),E.query._queryParams.loadsAllData()||l.push(E.query))}}catch(I){i={error:I}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var E=e.views.get(a);E&&(c=c.concat(IR(E,n,r)),TR(E)&&(e.views.delete(a),E.query._queryParams.loadsAllData()||l.push(E.query)))}return h&&!Ho(e)&&l.push(new(MK())(t._repo,t._path)),{removed:l,events:c}}function lM(e){var t,n,r=[];try{for(var i=Dt(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Lo(e,t){var n,r,i=null;try{for(var s=Dt(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||PK(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function cM(e,t){var n=t._queryParams;if(n.loadsAllData())return Rg(e);var r=t._queryIdentifier;return e.views.get(r)}function fM(e,t){return cM(e,t)!=null}function Ho(e){return Rg(e)!=null}function Rg(e){var t,n;try{for(var r=Dt(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sv;function VK(e){$(!Sv,"__referenceConstructor has already been defined"),Sv=e}function BK(){return $(Sv,"Reference.ts has not been loaded"),Sv}var $K=1,kR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new tr(null),this.pendingWriteTree_=mK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function OT(e,t,n,r,i){return oK(e.pendingWriteTree_,t,n,r,i),i?Tl(e,new Cg(ST(),t,n)):[]}function qK(e,t,n,r){sK(e.pendingWriteTree_,t,n,r);var i=tr.fromObject(n);return Tl(e,new NT(ST(),t,i))}function So(e,t,n){n===void 0&&(n=!1);var r=aK(e.pendingWriteTree_,t),i=uK(e.pendingWriteTree_,t);if(i){var s=new tr(null);return r.snap!=null?s=s.set(Ne(),!0):Tt(r.children,function(a){s=s.set(new xe(a),!0)}),Tl(e,new ZH(r.path,s,n))}else return[]}function mh(e,t,n){return Tl(e,new Cg(kT(),t,n))}function zK(e,t,n){var r=tr.fromObject(n);return Tl(e,new NT(kT(),t,r))}function WK(e,t){return Tl(e,new XL(kT(),t))}function HK(e,t,n){var r=DT(e,n);if(r){var i=LT(r),s=i.path,a=i.queryId,l=bn(s,t),c=new XL(CT(a),l);return MT(e,s,c)}else return[]}function yE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||fM(s,t))){var l=UK(s,t,n,r);FK(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(S,N){return Ho(N)});if(h&&!p){var g=e.syncPointTree_.subtree(i);if(!g.isEmpty())for(var m=YK(g),y=0;y<m.length;++y){var E=m[y],I=E.query,w=pM(e,E);e.listenProvider_.startListening(uf(I),kv(e,I),w.hashFn,w.onComplete)}}if(!p&&c.length>0&&!r)if(h){var T=null;e.listenProvider_.stopListening(uf(t),T)}else c.forEach(function(S){var N=e.queryToTagMap.get(Pg(S));e.listenProvider_.stopListening(uf(S),N)});XK(e,c)}return a}function KK(e,t,n,r){var i=DT(e,r);if(i!=null){var s=LT(i),a=s.path,l=s.queryId,c=bn(a,t),h=new Cg(CT(l),c,n);return MT(e,a,h)}else return[]}function GK(e,t,n,r){var i=DT(e,r);if(i){var s=LT(i),a=s.path,l=s.queryId,c=bn(a,t),h=tr.fromObject(n),p=new NT(CT(l),c,h);return MT(e,a,p)}else return[]}function CR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(I,w){var T=bn(I,r);i=i||Lo(w,T),s=s||Ho(w)});var a=e.syncPointTree_.get(r);a?(s=s||Ho(a),i=i||Lo(a,Ne())):(a=new aM,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=fe.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(I,w){var T=Lo(w,Ne());T&&(i=i.updateImmediateChild(I,T))})}var h=fM(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=Pg(t);$(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var g=JK();e.queryToTagMap.set(p,g),e.tagToQueryMap.set(g,p)}var m=Ag(e.pendingWriteTree_,r),y=jK(a,t,n,m,i,l);if(!h&&!s){var E=cM(a,t);y=y.concat(ZK(e,t,E))}return y}function xg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=bn(a,t),h=Lo(l,c);if(h)return h});return tM(i,t,s,n,r)}function QK(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var g=bn(h,n);r=r||Lo(p,g)});var i=e.syncPointTree_.get(n);i?r=r||Lo(i,Ne()):(i=new aM,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Wo(r,!0,!1):null,l=Ag(e.pendingWriteTree_,t._path),c=uM(i,t,l,s?a.getNode():fe.EMPTY_NODE,s);return xK(c)}function Tl(e,t){return hM(t,e.syncPointTree_,null,Ag(e.pendingWriteTree_,Ne()))}function hM(e,t,n,r){if(me(e.path))return dM(e,t,n,r);var i=t.get(Ne());n==null&&i!=null&&(n=Lo(i,Ne()));var s=[],a=ge(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=nM(r,a);s=s.concat(hM(l,c,h,p))}return i&&(s=s.concat(PT(i,e,r,n))),s}function dM(e,t,n,r){var i=t.get(Ne());n==null&&i!=null&&(n=Lo(i,Ne()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=nM(r,a),p=e.operationForChild(a);p&&(s=s.concat(dM(p,l,c,h)))}),i&&(s=s.concat(PT(i,e,r,n))),s}function pM(e,t){var n=t.query,r=kv(e,n);return{hashFn:function(){var i=RK(t)||fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?HK(e,n._path,r):WK(e,n._path);var s=jW(i,n);return yE(e,n,null,s)}}}function kv(e,t){var n=Pg(t);return e.queryToTagMap.get(n)}function Pg(e){return e._path.toString()+"$"+e._queryIdentifier}function DT(e,t){return e.tagToQueryMap.get(t)}function LT(e){var t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new xe(e.substr(0,t))}}function MT(e,t,n){var r=e.syncPointTree_.get(t);$(r,"Missing sync point for query tag that we're tracking");var i=Ag(e.pendingWriteTree_,t);return PT(r,n,i,null)}function YK(e){return e.fold(function(t,n,r){if(n&&Ho(n)){var i=Rg(n);return[i]}else{var s=[];return n&&(s=lM(n)),Tt(r,function(a,l){s=s.concat(l)}),s}})}function uf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(BK())(e._repo,e._path):e}function XK(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Pg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function JK(){return $K++}function ZK(e,t,n){var r=t._path,i=kv(e,t),s=pM(e,n),a=e.listenProvider_.startListening(uf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)$(!Ho(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(g,m,y){if(!me(g)&&m&&Ho(m))return[Rg(m).query];var E=[];return m&&(E=E.concat(lM(m).map(function(I){return I.query}))),Tt(y,function(I,w){E=E.concat(w)}),E}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(uf(p),kv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),tG=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ge(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return xg(this.syncTree_,this.path_)},e}(),nG=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},NR=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return rG(e[".sv"],t,n);if(typeof e[".sv"]=="object")return iG(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},rG=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},iG=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);var i=t.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},vM=function(e,t,n,r){return jT(t,new tG(n,e),r)},FT=function(e,t,n){return jT(e,new eG(t),n)};function jT(e,t,n){var r=e.getPriority().val(),i=NR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=NR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new $u(l,Xe(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new $u(i))),c.forEachChild(Ve,function(h,p){var g=jT(p,t.getImmediateChild(h),n);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UT=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Og(e,t){for(var n=t instanceof xe?t:new xe(t),r=e,i=ge(n);i!==null;){var s=na(r.node.children,i)||{children:{},childCount:0};r=new UT(i,r,s),n=Fe(n),i=ge(n)}return r}function ba(e){return e.node.value}function VT(e,t){e.node.value=t,_E(e)}function gM(e){return e.node.childCount>0}function oG(e){return ba(e)===void 0&&!gM(e)}function Dg(e,t){Tt(e.node.children,function(n,r){t(new UT(n,e,r))})}function mM(e,t,n,r){n&&!r&&t(e),Dg(e,function(i){mM(i,t,!0,r)}),n&&r&&t(e)}function sG(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function yh(e){return new xe(e.parent===null?e.name:yh(e.parent)+"/"+e.name)}function _E(e){e.parent!==null&&aG(e.parent,e.name,e)}function aG(e,t,n){var r=oG(n),i=er(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,_E(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,_E(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uG=/[\[\].#$\/\u0000-\u001F\u007F]/,lG=/[\[\].#$\u0000-\u001F\u007F]/,L_=10*1024*1024,Lg=function(e){return typeof e=="string"&&e.length!==0&&!uG.test(e)},yM=function(e){return typeof e=="string"&&e.length!==0&&!lG.test(e)},cG=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yM(e)},Ff=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ig(e)||e&&typeof e=="object"&&er(e,".sv")},vi=function(e,t,n,r){r&&t===void 0||_h(jn(e,"value"),t,n)},_h=function(e,t,n){var r=n instanceof xe?new yH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+As(r));if(typeof t=="function")throw new Error(e+"contains a function "+As(r)+" with contents = "+t.toString());if(Ig(t))throw new Error(e+"contains "+t.toString()+" "+As(r));if(typeof t=="string"&&t.length>L_/3&&Tg(t)>L_)throw new Error(e+"contains a string greater than "+L_+" utf8 bytes "+As(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Tt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Lg(a)))throw new Error(e+" contains an invalid key ("+a+") "+As(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_H(r,a),_h(e,l,r),wH(r)}),i&&s)throw new Error(e+' contains ".value" child '+As(r)+" in addition to actual children.")}},fG=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Df(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Lg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(mH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&cr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},_M=function(e,t,n,r){if(!(r&&t===void 0)){var i=jn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Tt(t,function(a,l){var c=new xe(a);if(_h(i,l,Ge(n,c)),_T(c)===".priority"&&!Ff(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),fG(i,s)}},BT=function(e,t,n){if(!(n&&t===void 0)){if(Ig(t))throw new Error(jn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ff(t))throw new Error(jn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hG=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},wh=function(e,t,n,r){if(!(r&&n===void 0)&&!Lg(n))throw new Error(jn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},jf=function(e,t,n,r){if(!(r&&n===void 0)&&!yM(n))throw new Error(jn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dG=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jf(e,t,n,r)},fr=function(e,t){if(ge(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},wM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Lg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cG(n))throw new Error(jn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},pG=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(jn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Mg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!wT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function $T(e,t,n){Mg(e,n),EM(e,function(r){return wT(r,t)})}function wr(e,t,n){Mg(e,n),EM(e,function(r){return cr(r,t)||cr(t,r)})}function EM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(gG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function gG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Hs&&Rt("event: "+n.toString()),El(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM="repo_interrupt",mG=25,yG=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_v(),this.transactionQueueTree_=new UT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function _G(e,t,n){if(e.stats_=mT(e.repoInfo_),e.forceRestClient_||VW())e.server_=new HH(e.repoInfo_,function(r,i,s,a){AR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return RR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ks(e.repoInfo_,t,function(r,i,s,a){AR(e,r,i,s,a)},function(r){RR(e,r)},function(r){EG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=HW(e.repoInfo_,function(){return new XH(e.stats_,e.server_)}),e.infoData_=new KH,e.infoSyncTree_=new kR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=mh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),qT(e,"connected",!1),e.serverSyncTree_=new kR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);wr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function TM(e){var t=e.infoData_.getNode(new xe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Eh(e){return nG({timestamp:TM(e)})}function AR(e,t,n,r,i){e.dataUpdateCount++;var s=new xe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=dv(n,function(m){return Xe(m)});a=GK(e.serverSyncTree_,s,l,i)}else{var c=Xe(n);a=KK(e.serverSyncTree_,s,c,i)}else if(r){var h=dv(n,function(m){return Xe(m)});a=zK(e.serverSyncTree_,s,h)}else{var p=Xe(n);a=mh(e.serverSyncTree_,s,p)}var g=s;a.length>0&&(g=Hu(e,s)),wr(e.eventQueue_,g,a)}function wG(e,t){e.interceptServerDataCallback_=t}function RR(e,t){qT(e,"connected",t),t===!1&&IG(e)}function EG(e,t){Tt(t,function(n,r){qT(e,n,r)})}function qT(e,t,n){var r=new xe("/.info/"+t),i=Xe(n);e.infoData_.updateSnapshot(r,i);var s=mh(e.infoSyncTree_,r,i);wr(e.eventQueue_,r,s)}function Fg(e){return e.nextWriteId_++}function bG(e,t){var n=QK(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Xe(r).withIndex(t._queryParams.getIndex()),s=mh(e.serverSyncTree_,t._path,i);return $T(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Il(e,"get for query "+_t(t)+" failed: "+r),Promise.reject(new Error(r))})}function zT(e,t,n,r,i){Il(e,"set",{path:t.toString(),value:n,priority:r});var s=Eh(e),a=Xe(n,r),l=xg(e.serverSyncTree_,t),c=FT(a,l,s),h=Fg(e),p=OT(e.serverSyncTree_,t,c,h,!0);Mg(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var E=m==="ok";E||Ht("set at "+t+" failed: "+m);var I=So(e.serverSyncTree_,h,!E);wr(e.eventQueue_,t,I),Ko(e,i,m,y)});var g=HT(e,t);Hu(e,g),wr(e.eventQueue_,g,[])}function TG(e,t,n,r){Il(e,"update",{path:t.toString(),value:n});var i=!0,s=Eh(e),a={};if(Tt(n,function(h,p){i=!1,a[h]=vM(Ge(t,h),Xe(p),e.serverSyncTree_,s)}),i)Rt("update() called with empty data.  Don't do anything."),Ko(e,r,"ok",void 0);else{var l=Fg(e),c=qK(e.serverSyncTree_,t,a,l);Mg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var g=h==="ok";g||Ht("update at "+t+" failed: "+h);var m=So(e.serverSyncTree_,l,!g),y=m.length>0?Hu(e,t):t;wr(e.eventQueue_,y,m),Ko(e,r,h,p)}),Tt(n,function(h){var p=HT(e,Ge(t,h));Hu(e,p)}),wr(e.eventQueue_,t,[])}}function IG(e){Il(e,"onDisconnectEvents");var t=Eh(e),n=_v();hE(e.onDisconnect_,Ne(),function(i,s){var a=vM(i,s,e.serverSyncTree_,t);bl(n,i,a)});var r=[];hE(n,Ne(),function(i,s){r=r.concat(mh(e.serverSyncTree_,i,s));var a=HT(e,i);Hu(e,a)}),e.onDisconnect_=_v(),wr(e.eventQueue_,Ne(),r)}function SG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&fE(e.onDisconnect_,t),Ko(e,n,r,i)})}function xR(e,t,n,r){var i=Xe(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&bl(e.onDisconnect_,t,i),Ko(e,r,s,a)})}function kG(e,t,n,r,i){var s=Xe(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&bl(e.onDisconnect_,t,s),Ko(e,i,a,l)})}function CG(e,t,n,r){if(nE(n)){Rt("onDisconnect().update() called with empty data.  Don't do anything."),Ko(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Tt(n,function(a,l){var c=Xe(l);bl(e.onDisconnect_,Ge(t,a),c)}),Ko(e,r,i,s)})}function NG(e,t,n){var r;ge(t._path)===".info"?r=CR(e.infoSyncTree_,t,n):r=CR(e.serverSyncTree_,t,n),$T(e.eventQueue_,t._path,r)}function wE(e,t,n){var r;ge(t._path)===".info"?r=yE(e.infoSyncTree_,t,n):r=yE(e.serverSyncTree_,t,n),$T(e.eventQueue_,t._path,r)}function IM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(bM)}function AG(e){e.persistentConnection_&&e.persistentConnection_.resume(bM)}function RG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new YL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Tt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function xG(e,t){e.stats_.incrementCounter(t),JH(e.statsReporter_,t)}function Il(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Rt.apply(void 0,ve([r],zt(t)))}function Ko(e,t,n,r){t&&El(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function PG(e,t,n,r,i,s){Il(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:vL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=WT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{_h("transaction failed: Data returned ",c,a.path),a.status=0;var h=Og(e.transactionQueueTree_,t),p=ba(h)||[];p.push(a),VT(h,p);var g=void 0;if(typeof c=="object"&&c!==null&&er(c,".priority"))g=na(c,".priority"),$(Ff(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=xg(e.serverSyncTree_,t)||fe.EMPTY_NODE;g=m.getPriority().val()}var y=Eh(e),E=Xe(c,g),I=FT(E,l,y);a.currentOutputSnapshotRaw=E,a.currentOutputSnapshotResolved=I,a.currentWriteId=Fg(e);var w=OT(e.serverSyncTree_,t,I,a.currentWriteId,a.applyLocally);wr(e.eventQueue_,t,w),jg(e,e.transactionQueueTree_)}}function WT(e,t,n){return xg(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function jg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Ug(e,t),ba(t)){var n=kM(e,t);$(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&OG(e,yh(t),n)}else gM(t)&&Dg(t,function(i){jg(e,i)})}function OG(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=WT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=bn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),g=t;e.server_.put(g.toString(),p,function(m){Il(e,"transaction put response",{path:g.toString(),status:m});var y=[];if(m==="ok"){for(var E=[],I=function(T){n[T].status=2,y=y.concat(So(e.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&E.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},w=0;w<n.length;w++)I(w);Ug(e,Og(e.transactionQueueTree_,t)),jg(e,e.transactionQueueTree_),wr(e.eventQueue_,t,y);for(var w=0;w<E.length;w++)El(E[w])}else{if(m==="datastale")for(var w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{Ht("transaction at "+g.toString()+" failed: "+m);for(var w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}Hu(e,t)}},a)}function Hu(e,t){var n=SM(e,t),r=yh(n),i=kM(e,n);return DG(e,i,r),r}function DG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],g=bn(n,p.path),m=!1,y;if($(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=mG)m=!0,y="maxretry",i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0));else{var E=WT(e,p.path,a);p.currentInputSnapshot=E;var I=t[h].update(E.val());if(I!==void 0){_h("transaction failed: Data returned ",I,p.path);var w=Xe(I),T=typeof I=="object"&&I!=null&&er(I,".priority");T||(w=w.updatePriority(E.getPriority()));var S=p.currentWriteId,N=Eh(e),P=FT(w,E,N);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=P,p.currentWriteId=Fg(e),a.splice(a.indexOf(S),1),i=i.concat(OT(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(So(e.serverSyncTree_,S,!0))}else m=!0,y="nodata",i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0))}wr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(M){setTimeout(M,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Ug(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)El(r[c]);jg(e,e.transactionQueueTree_)}}function SM(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);n!==null&&ba(r)===void 0;)r=Og(r,n),t=Fe(t),n=ge(t);return r}function kM(e,t){var n=[];return CM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function CM(e,t,n){var r=ba(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dg(t,function(s){CM(e,s,n)})}function Ug(e,t){var n=ba(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,VT(t,n.length>0?n:void 0)}Dg(t,function(s){Ug(e,s)})}function HT(e,t){var n=yh(SM(e,t)),r=Og(e.transactionQueueTree_,t);return sG(r,function(i){M_(e,i)}),M_(e,r),mM(r,function(i){M_(e,i)}),n}function M_(e,t){var n=ba(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(So(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?VT(t,void 0):n.length=s+1,wr(e.eventQueue_,yh(t),i);for(var a=0;a<r.length;a++)El(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function MG(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Dt(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Ht("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var EE=function(e,t){var n=FG(e),r=n.namespace;n.domain==="firebase.com"&&di(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&di("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||OW();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new xe(n.pathString)}},FG=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=LG(e.substring(p,g)));var m=MG(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var E=t.indexOf(".");r=t.substring(0,E).toLowerCase(),n=t.substring(E+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())},e}(),AM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jG=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Pt;return SG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){fr("OnDisconnect.remove",this._path);var t=new Pt;return xR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){fr("OnDisconnect.set",this._path),vi("OnDisconnect.set",t,this._path,!1);var n=new Pt;return xR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){fr("OnDisconnect.setWithPriority",this._path),vi("OnDisconnect.setWithPriority",t,this._path,!1),BT("OnDisconnect.setWithPriority",n,!1);var r=new Pt;return kG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){fr("OnDisconnect.update",this._path),_M("OnDisconnect.update",t,this._path,!1);var n=new Pt;return CG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return me(this._path)?null:_T(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=gR(this._queryParams),n=dT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return gR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=de(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=wT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+gH(this._path)},e}();function Vg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Jo(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ui){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Bi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==pi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ve){if(t!=null&&!Ff(t)||n!=null&&!Ff(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(e.getIndex()instanceof bT||e.getIndex()===TT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var yi=function(e){G(t,e);function t(n,r){return e.call(this,n,r,new QL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=jL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Tr),$g=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new xe(t),r=ia(this.ref,t);return new e(this._node.getChild(n),r,Ve)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,ia(n.ref,i),Ve))})},e.prototype.hasChild=function(t){var n=new xe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function xM(e,t){return e=de(e),e._checkNotDeleted("ref"),t!==void 0?ia(e._root,t):e._root}function PR(e,t){e=de(e),e._checkNotDeleted("refFromURL");var n=EE(t,e._repo.repoInfo_.nodeAdmin);wM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&di("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),xM(e,n.path.toString())}function ia(e,t){return e=de(e),ge(e._path)===null?dG("child","path",t,!1):jf("child","path",t,!1),new yi(e._repo,Ge(e._path,t))}function UG(e,t){e=de(e),fr("push",e._path),vi("push",t,e._path,!0);var n=TM(e._repo),r=jH(n),i=ia(e,r),s=ia(e,r),a;return t!=null?a=KT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function VG(e){return fr("remove",e._path),KT(e,null)}function KT(e,t){e=de(e),fr("set",e._path),vi("set",t,e._path,!1);var n=new Pt;return zT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function BG(e,t){e=de(e),fr("setPriority",e._path),BT("setPriority",t,!1);var n=new Pt;return zT(e._repo,Ge(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function $G(e,t,n){if(fr("setWithPriority",e._path),vi("setWithPriority",t,e._path,!1),BT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Pt;return zT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function qG(e,t){_M("update",t,e._path,!1);var n=new Pt;return TG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function zG(e){return e=de(e),bG(e._repo,e).then(function(t){return new $g(t,new yi(e._repo,e._path),e._queryParams.getIndex())})}var PM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new NM("value",this,new $g(t.snapshotNode,new yi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new AM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),OM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new AM(this,t,n):null},e.prototype.createEvent=function(t,n){$(t.childName!=null,"Child events should have a childName.");var r=ia(new yi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new NM(t.type,this,new $g(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function bh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,g){wE(e._repo,e,h),a(p,g)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new RM(n,s||void 0),h=t==="value"?new PM(c):new OM(t,c);return NG(e._repo,e,h),function(){return wE(e._repo,e,h)}}function bE(e,t,n,r){return bh(e,"value",t,n,r)}function OR(e,t,n,r){return bh(e,"child_added",t,n,r)}function DR(e,t,n,r){return bh(e,"child_changed",t,n,r)}function LR(e,t,n,r){return bh(e,"child_moved",t,n,r)}function MR(e,t,n,r){return bh(e,"child_removed",t,n,r)}function FR(e,t,n){var r=null,i=n?new RM(n):null;t==="value"?r=new PM(i):t&&(r=new OM(t,i)),wE(e._repo,e,r)}var Wr=function(){function e(){}return e}(),DM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){vi("endAt",this._value,n._path,!0);var r=cE(n._queryParams,this._value,this._key);if(Bg(r),Jo(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(n._repo,n._path,r,n._orderByCalled)},t}(Wr);function WG(e,t){return wh("endAt","key",t,!0),new DM(e,t)}var HG=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){vi("endBefore",this._value,n._path,!1);var r=WH(n._queryParams,this._value,this._key);if(Bg(r),Jo(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(n._repo,n._path,r,n._orderByCalled)},t}(Wr);function KG(e,t){return wh("endBefore","key",t,!0),new HG(e,t)}var LM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){vi("startAt",this._value,n._path,!0);var r=lE(n._queryParams,this._value,this._key);if(Bg(r),Jo(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tr(n._repo,n._path,r,n._orderByCalled)},t}(Wr);function GG(e,t){return e===void 0&&(e=null),wh("startAt","key",t,!0),new LM(e,t)}var QG=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){vi("startAfter",this._value,n._path,!1);var r=zH(n._queryParams,this._value,this._key);if(Bg(r),Jo(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Tr(n._repo,n._path,r,n._orderByCalled)},t}(Wr);function YG(e,t){return wh("startAfter","key",t,!0),new QG(e,t)}var XG=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(n._repo,n._path,$H(n._queryParams,this._limit),n._orderByCalled)},t}(Wr);function JG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new XG(e)}var ZG=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(n._repo,n._path,qH(n._queryParams,this._limit),n._orderByCalled)},t}(Wr);function e8(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ZG(e)}var t8=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Vg(n,"orderByChild");var r=new xe(this._path);if(me(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new bT(r),s=kg(n._queryParams,i);return Jo(s),new Tr(n._repo,n._path,s,!0)},t}(Wr);function n8(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jf("orderByChild","path",e,!1),new t8(e)}var r8=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Vg(n,"orderByKey");var r=kg(n._queryParams,ui);return Jo(r),new Tr(n._repo,n._path,r,!0)},t}(Wr);function i8(){return new r8}var o8=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Vg(n,"orderByPriority");var r=kg(n._queryParams,Ve);return Jo(r),new Tr(n._repo,n._path,r,!0)},t}(Wr);function s8(){return new o8}var a8=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Vg(n,"orderByValue");var r=kg(n._queryParams,TT);return Jo(r),new Tr(n._repo,n._path,r,!0)},t}(Wr);function u8(){return new a8}var l8=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(vi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DM(this._value,this._key)._apply(new LM(this._value,this._key)._apply(n))},t}(Wr);function c8(e,t){return wh("equalTo","key",t,!0),new l8(e,t)}function Dr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=de(e);try{for(var a=Dt(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}LK(yi);VK(yi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f8="FIREBASE_DATABASE_EMULATOR_HOST",TE={},MM=!1;function h8(e,t,n,r){e.repoInfo_=new gT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function FM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||di("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=EE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=NW[f8]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=EE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new of(of.OWNER):new $W(e.name,e.options,t);wM("Invalid Firebase Database URL",a),me(a.path)||di("Database URL must point to the root of a Firebase Database (not including a child path).");var g=p8(l,e,p,new BW(e.name,n));return new g8(g,e)}function d8(e,t){var n=TE[t];(!n||n[e.key]!==e)&&di("Database "+t+"("+e.repoInfo_+") has already been deleted."),IM(e),delete n[e.key]}function p8(e,t,n,r){var i=TE[t.name];i||(i={},TE[t.name]=i);var s=i[e.toURLString()];return s&&di("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new yG(e,MM,n,r),i[e.toURLString()]=s,s}function v8(e){MM=e}var g8=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(_G(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new yi(this._repo,Ne())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(d8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&di("Cannot call "+t+" on a deleted database.")},e}();function m8(e,t,n,r){r===void 0&&(r={}),e=de(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&di("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&di('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new of(of.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:sT(r.mockUserToken,e.app.options.projectId);s=new of(a)}h8(i,t,n,s)}function y8(e){e=de(e),e._checkNotDeleted("goOffline"),IM(e._repo)}function _8(e){e=de(e),e._checkNotDeleted("goOnline"),AG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w8={".sv":"timestamp"};function E8(){return w8}function b8(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function I8(e,t,n){var r;if(e=de(e),fr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Pt,a=function(c,h,p){var g=null;c?s.reject(c):(g=new $g(p,new yi(e._repo,e._path),Ve),s.resolve(new T8(h,g)))},l=bE(e,function(){});return PG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S8=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),At("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),At("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),At("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),At("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Ht("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}At("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),jf("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),jf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),At("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new Us(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),jM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),At("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,g){n.call(l.context,new lf(s.database,p),g)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return bE(this._delegate,c,h),n;case"child_added":return OR(this._delegate,c,h),n;case"child_removed":return MR(this._delegate,c,h),n;case"child_changed":return DR(this._delegate,c,h),n;case"child_moved":return LR(this._delegate,c,h),n;default:throw new Error(jn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),hG("Query.off",t,!0),At("Query.off","callback",n,!0),XA("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,FR(this._delegate,t,i)}else FR(this._delegate,t)},e.prototype.get=function(){var t=this;return zG(this._delegate).then(function(n){return new lf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),At("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Pt,c=function(p,g){var m=new lf(s.database,p);n&&n.call(a.context,m,g),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":bE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":OR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":MR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":DR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":LR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(jn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Dr(this._delegate,JG(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Dr(this._delegate,e8(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Dr(this._delegate,n8(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Dr(this._delegate,i8()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Dr(this._delegate,s8()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Dr(this._delegate,u8()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Dr(this._delegate,GG(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Dr(this._delegate,YG(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Dr(this._delegate,WG(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Dr(this._delegate,KG(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Dr(this._delegate,c8(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,At(t,"cancel",i.cancel,!0),i.context=r,XA(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(jn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Us(this.database,new yi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Us=function(e){G(t,e);function t(n,r){var i=e.call(this,n,new Tr(r._repo,r._path,new QL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,ia(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),At("Reference.set","onComplete",r,!0);var i=KT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Ht("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fr("Reference.update",this._delegate._path),At("Reference.update","onComplete",r,!0);var a=qG(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),At("Reference.setWithPriority","onComplete",i,!0);var s=$G(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),At("Reference.remove","onComplete",n,!0);var r=VG(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),At("Reference.transaction","transactionUpdate",n,!1),At("Reference.transaction","onComplete",r,!0),pG("Reference.transaction","applyLocally",i,!0);var a=I8(this._delegate,n,{applyLocally:i}).then(function(l){return new k8(l.committed,new lf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),At("Reference.setPriority","onComplete",r,!0);var i=BG(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),At("Reference.push","onComplete",r,!0);var s=UG(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return fr("Reference.onDisconnect",this._delegate._path),new S8(new jG(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(jM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),m8(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof Us){var n=PR(this._delegate,t.toString());return new Us(this,n)}else{var n=xM(this._delegate,t);return new Us(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=PR(this._delegate,t);return new Us(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),y8(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),_8(this._delegate)},e.ServerValue={TIMESTAMP:E8(),increment:function(t){return b8(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C8=function(){xs.forceDisallow(),yT.forceAllow()},N8=function(){yT.forceDisallow()},A8=function(){return xs.isAvailable()},R8=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},x8=function(e,t){RG(e._delegate._repo,t)},P8=function(e,t){xG(e._delegate._repo,t)},O8=function(e){return e._delegate._repo.dataUpdateCount},D8=function(e,t){return wG(e._delegate._repo,t)};function L8(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;dL(r);var c=new aL("auth-internal",new uL("database-standalone"));return c.setComponent(new cn("auth-internal",function(){return i},"PRIVATE")),{instance:new Cv(FM(t,c,void 0,n,l),t),namespace:s}}var M8=Object.freeze({__proto__:null,forceLongPolling:C8,forceWebSockets:N8,isWebSocketsAvailable:A8,setSecurityDebugCallback:R8,stats:x8,statsIncrementCounter:P8,dataUpdateCount:O8,interceptServerData:D8,initStandalone:L8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F8=Ks;Ks.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ks.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var j8=LL,U8=function(e){var t=Ks.prototype.put;return Ks.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Ks.prototype.put=t}},V8=gT,B8=function(e){return e._delegate._queryIdentifier},$8=function(e){v8(e)},q8=Object.freeze({__proto__:null,DataConnection:F8,RealTimeConnection:j8,hijackHash:U8,ConnectionTarget:V8,queryIdentifier:B8,forceRestClient:$8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z8=Cv.ServerValue;function W8(e){dL(e.SDK_VERSION),e.INTERNAL.registerComponent(new cn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Cv(FM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Us,Query:jM,Database:Cv,DataSnapshot:lf,enableLogging:mL,INTERNAL:M8,ServerValue:z8,TEST_ACCESS:q8}).setMultipleInstances(!0)),e.registerVersion(AW,RW)}W8(te);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IE=function(e,t){return IE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},IE(e,t)};function H8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");IE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var K8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,GT=GT||{},ce=K8||self;function Nv(){}function SE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Th(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function G8(e){return Object.prototype.hasOwnProperty.call(e,F_)&&e[F_]||(e[F_]=++Q8)}var F_="closure_uid_"+(1e9*Math.random()>>>0),Q8=0;function Y8(e,t,n){return e.call.apply(e.bind,arguments)}function X8(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Kt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=Y8:Kt=X8,Kt.apply(null,arguments)}function up(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Xt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function Zo(){this.s=this.s,this.o=this.o}var J8=0;Zo.prototype.s=!1;Zo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),J8!=0)&&G8(this)};Zo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var VM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},BM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Z8(e){e:{for(var t=z2,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function jR(e){return Array.prototype.concat.apply([],arguments)}function QT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Av(e){return/^[\s\xa0]*$/.test(e)}var UR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wn(e,t){return e.indexOf(t)!=-1}function j_(e,t){return e<t?-1:e>t?1:0}var En;e:{var VR=ce.navigator;if(VR){var BR=VR.userAgent;if(BR){En=BR;break e}}En=""}function YT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $M(e){var t={};for(var n in e)t[n]=e[n];return t}var $R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<$R.length;s++)n=$R[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function XT(e){return XT[" "](e),e}XT[" "]=Nv;function e2(e){var t=r2;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var t2=wn(En,"Opera"),Ku=wn(En,"Trident")||wn(En,"MSIE"),zM=wn(En,"Edge"),kE=zM||Ku,WM=wn(En,"Gecko")&&!(wn(En.toLowerCase(),"webkit")&&!wn(En,"Edge"))&&!(wn(En,"Trident")||wn(En,"MSIE"))&&!wn(En,"Edge"),n2=wn(En.toLowerCase(),"webkit")&&!wn(En,"Edge");function HM(){var e=ce.document;return e?e.documentMode:void 0}var Rv;e:{var U_="",V_=function(){var e=En;if(WM)return/rv:([^\);]+)(\)|;)/.exec(e);if(zM)return/Edge\/([\d\.]+)/.exec(e);if(Ku)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(n2)return/WebKit\/(\S+)/.exec(e);if(t2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(V_&&(U_=V_?V_[1]:""),Ku){var B_=HM();if(B_!=null&&B_>parseFloat(U_)){Rv=String(B_);break e}}Rv=U_}var r2={};function i2(){return e2(function(){for(var e=0,t=UR(String(Rv)).split("."),n=UR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=j_(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||j_(s[2].length==0,a[2].length==0)||j_(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var CE;if(ce.document&&Ku){var qR=HM();CE=qR||parseInt(Rv,10)||void 0}else CE=void 0;var o2=CE,s2=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",Nv,t),ce.removeEventListener("test",Nv,t)}catch{}return e}();function sn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};function Uf(e,t){if(sn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(WM){e:{try{XT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:a2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uf.Z.h.call(this)}}Xt(Uf,sn);var a2={2:"touch",3:"pen",4:"mouse"};Uf.prototype.h=function(){Uf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ih="closure_listenable_"+(1e6*Math.random()|0),u2=0;function l2(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++u2,this.ca=this.fa=!1}function qg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zg(e){this.src=e,this.g={},this.h=0}zg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=AE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new l2(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function NE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=VM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function AE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var JT="closure_lm_"+(1e6*Math.random()|0),$_={};function KM(e,t,n,r,i){if(r&&r.once)return QM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)KM(e,t[s],n,r,i);return null}return n=tI(n),e&&e[Ih]?e.N(t,n,Th(r)?!!r.capture:!!r,i):GM(e,t,n,!1,r,i)}function GM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Th(i)?!!i.capture:!!i,l=eI(e);if(l||(e[JT]=l=new zg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=c2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)s2||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(XM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function c2(){function e(n){return t.call(e.src,e.listener,n)}var t=f2;return e}function QM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)QM(e,t[s],n,r,i);return null}return n=tI(n),e&&e[Ih]?e.O(t,n,Th(r)?!!r.capture:!!r,i):GM(e,t,n,!0,r,i)}function YM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)YM(e,t[s],n,r,i);else r=Th(r)?!!r.capture:!!r,n=tI(n),e&&e[Ih]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=AE(s,n,r,i),-1<n&&(qg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=eI(e))&&(t=e.g[t.toString()],e=-1,t&&(e=AE(t,n,r,i)),(n=-1<e?t[e]:null)&&ZT(n))}function ZT(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Ih])NE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(XM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=eI(t))?(NE(n,e),n.h==0&&(n.src=null,t[JT]=null)):qg(e)}}}function XM(e){return e in $_?$_[e]:$_[e]="on"+e}function f2(e,t){if(e.ca)e=!0;else{t=new Uf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ZT(e),e=n.call(r,t)}return e}function eI(e){return e=e[JT],e instanceof zg?e:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function tI(e){return typeof e=="function"?e:(e[q_]||(e[q_]=function(t){return e.handleEvent(t)}),e[q_])}function Mt(){Zo.call(this),this.i=new zg(this),this.P=this,this.I=null}Xt(Mt,Zo);Mt.prototype[Ih]=!0;Mt.prototype.removeEventListener=function(e,t,n,r){YM(this,e,t,n,r)};function Gt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new sn(t,e);else if(t instanceof sn)t.target=t.target||e;else{var i=t;t=new sn(r,e),qM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=lp(a,r,!0,t)&&i}if(a=t.g=e,i=lp(a,r,!0,t)&&i,i=lp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=lp(a,r,!1,t)&&i}Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)qg(n[r]);delete e.g[t],e.h--}}this.I=null};Mt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Mt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function lp(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&NE(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var nI=ce.JSON.stringify;function h2(){var e=ZM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var d2=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=JM.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),JM=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new p2},function(e){return e.reset()}),p2=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function v2(e){ce.setTimeout(function(){throw e},0)}function rI(e,t){RE||g2(),xE||(RE(),xE=!0),ZM.add(e,t)}var RE;function g2(){var e=ce.Promise.resolve(void 0);RE=function(){e.then(m2)}}var xE=!1,ZM=new d2;function m2(){for(var e;e=h2();){try{e.h.call(e.g)}catch(n){v2(n)}var t=JM;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xE=!1}function Wg(e,t){Mt.call(this),this.h=e||1,this.g=t||ce,this.j=Kt(this.kb,this),this.l=Date.now()}Xt(Wg,Mt);Y=Wg.prototype;Y.da=!1;Y.S=null;Y.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gt(this,"tick"),this.da&&(iI(this),this.start()))}};Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iI(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Y.M=function(){Wg.Z.M.call(this),iI(this),delete this.g};function oI(e,t,n){if(typeof e=="function")n&&(e=Kt(e,n));else if(e&&typeof e.handleEvent=="function")e=Kt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function eF(e){e.g=oI(function(){e.g=null,e.i&&(e.i=!1,eF(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var y2=function(e){H8(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:eF(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Zo);function Vf(e){Zo.call(this),this.h=e,this.g={}}Xt(Vf,Zo);var zR=[];function tF(e,t,n,r){Array.isArray(n)||(n&&(zR[0]=n.toString()),n=zR);for(var i=0;i<n.length;i++){var s=KM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function nF(e){YT(e.g,function(t,n){this.g.hasOwnProperty(n)&&ZT(t)},e),e.g={}}Vf.prototype.M=function(){Vf.Z.M.call(this),nF(this)};Vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hg(){this.g=!0}Hg.prototype.Aa=function(){this.g=!1};function _2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function w2(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function _u(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+b2(e,n)+(r?" "+r:"")})}function E2(e,t){e.info(function(){return"TIMEOUT: "+t})}Hg.prototype.info=function(){};function b2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return nI(n)}catch{return t}}var Ta={},WR=null;function Kg(){return WR=WR||new Mt}Ta.Ma="serverreachability";function rF(e){sn.call(this,Ta.Ma,e)}Xt(rF,sn);function Bf(e){var t=Kg();Gt(t,new rF(t))}Ta.STAT_EVENT="statevent";function iF(e,t){sn.call(this,Ta.STAT_EVENT,e),this.stat=t}Xt(iF,sn);function Tn(e){var t=Kg();Gt(t,new iF(t,e))}Ta.Na="timingevent";function oF(e,t){sn.call(this,Ta.Na,e),this.size=t}Xt(oF,sn);function Sh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var Gg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sI(){}sI.prototype.h=null;function HR(e){return e.h||(e.h=e.i())}function aF(){}var kh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function aI(){sn.call(this,"d")}Xt(aI,sn);function uI(){sn.call(this,"c")}Xt(uI,sn);var PE;function Qg(){}Xt(Qg,sI);Qg.prototype.g=function(){return new XMLHttpRequest};Qg.prototype.i=function(){return{}};PE=new Qg;function Ch(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vf(this),this.P=T2,e=kE?125:void 0,this.W=new Wg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uF}function uF(){this.i=null,this.g="",this.h=!1}var T2=45e3,OE={},xv={};Y=Ch.prototype;Y.setTimeout=function(e){this.P=e};function DE(e,t,n){e.K=1,e.v=Xg($i(t)),e.s=n,e.U=!0,lF(e,null)}function lF(e,t){e.F=Date.now(),Nh(e),e.A=$i(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gF(n.h,"t",r),e.C=0,n=e.l.H,e.h=new uF,e.g=MF(e.l,n?t:null,!e.s),0<e.O&&(e.L=new y2(Kt(e.Ia,e,e.g),e.O)),tF(e.V,e.g,"readystatechange",e.gb),t=e.H?$M(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Bf(),_2(e.j,e.u,e.A,e.m,e.X,e.s)}Y.gb=function(e){e=e.target;var t=this.L;t&&Di(e)==3?t.l():this.Ia(e)};Y.Ia=function(e){try{if(e==this.g)e:{var t=Di(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||kE||this.g&&(this.h.h||this.g.ga()||YR(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Bf(3):Bf(2)),Yg(this);var i=this.g.ba();this.N=i;t:if(cF(this)){var s=YR(this.g);e="";var a=s.length,l=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),cf(this);var c="";break t}this.h.i=new ce.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,w2(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Av(h)){var g=h;break t}}g=null}if(i=g)_u(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LE(this,i);else{this.i=!1,this.o=3,Tn(12),Vs(this),cf(this);break e}}this.U?(fF(this,t,c),kE&&this.i&&t==3&&(tF(this.V,this.W,"tick",this.fb),this.W.start())):(_u(this.j,this.m,c,null),LE(this,c)),t==4&&Vs(this),this.i&&!this.I&&(t==4?PF(this.l,this):(this.i=!1,Nh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),Vs(this),cf(this)}}}catch{}finally{}};function cF(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function fF(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=I2(e,n),i==xv){t==4&&(e.o=4,Tn(14),r=!1),_u(e.j,e.m,null,"[Incomplete Response]");break}else if(i==OE){e.o=4,Tn(15),_u(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else _u(e.j,e.m,i,null),LE(e,i);cF(e)&&i!=xv&&i!=OE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Tn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mI(t),t.L=!0,Tn(11))):(_u(e.j,e.m,n,"[Invalid Chunked Response]"),Vs(e),cf(e))}Y.fb=function(){if(this.g){var e=Di(this.g),t=this.g.ga();this.C<t.length&&(Yg(this),fF(this,e,t),this.i&&e!=4&&Nh(this))}};function I2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?xv:(n=Number(t.substring(n,r)),isNaN(n)?OE:(r+=1,r+n>t.length?xv:(t=t.substr(r,n),e.C=r+n,t)))}Y.cancel=function(){this.I=!0,Vs(this)};function Nh(e){e.Y=Date.now()+e.P,hF(e,e.P)}function hF(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Sh(Kt(e.eb,e),t)}function Yg(e){e.B&&(ce.clearTimeout(e.B),e.B=null)}Y.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(E2(this.j,this.A),this.K!=2&&(Bf(),Tn(17)),Vs(this),this.o=2,cf(this)):hF(this,this.Y-e)};function cf(e){e.l.G==0||e.I||PF(e.l,e)}function Vs(e){Yg(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,iI(e.W),nF(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function LE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ME(n.i,e))){if(n.I=e.N,!e.J&&ME(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Lv(n),em(n);else break e;gI(n),Tn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Sh(Kt(n.ab,n),6e3));if(1>=_F(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Bs(n,11)}else if((e.J||n.g==e)&&Lv(n),!Av(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=r.i;!g.g&&(wn(p,"spdy")||wn(p,"quic")||wn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(fI(g,g.h),g.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ke(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=LF(r,r.H?r.la:null,r.W),y.J){wF(r.i,y);var E=y,I=r.K;I&&E.setTimeout(I),E.B&&(Yg(E),Nh(E)),r.g=y}else RF(r);0<n.l.length&&tm(n)}else s[0]!="stop"&&s[0]!="close"||Bs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Bs(n,7):vI(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Bf(4)}catch{}}function S2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(SE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function lI(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(SE(e)||typeof e=="string")BM(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(SE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=S2(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Sl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Sl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Y=Sl.prototype;Y.R=function(){cI(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Y.T=function(){return cI(this),this.g.concat()};function cI(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];oa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],oa(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Y.get=function(e,t){return oa(this.h,e)?this.h[e]:t};Y.set=function(e,t){oa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Y.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function oa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var dF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function k2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function sa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof sa){this.g=t!==void 0?t:e.g,Pv(this,e.j),this.s=e.s,Ov(this,e.i),Dv(this,e.m),this.l=e.l,t=e.h;var n=new $f;n.i=t.i,t.g&&(n.g=new Sl(t.g),n.h=t.h),KR(this,n),this.o=e.o}else e&&(n=String(e).match(dF))?(this.g=!!t,Pv(this,n[1]||"",!0),this.s=ff(n[2]||""),Ov(this,n[3]||"",!0),Dv(this,n[4]),this.l=ff(n[5]||"",!0),KR(this,n[6]||"",!0),this.o=ff(n[7]||"")):(this.g=!!t,this.h=new $f(null,this.g))}sa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qc(t,GR,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(qc(t,GR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(qc(n,n.charAt(0)=="/"?x2:R2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qc(n,O2)),e.join("")};function $i(e){return new sa(e)}function Pv(e,t,n){e.j=n?ff(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ov(e,t,n){e.i=n?ff(t,!0):t}function Dv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function KR(e,t,n){t instanceof $f?(e.h=t,D2(e.h,e.g)):(n||(t=qc(t,P2)),e.h=new $f(t,e.g))}function Ke(e,t,n){e.h.set(t,n)}function Xg(e){return Ke(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function C2(e){return e instanceof sa?$i(e):new sa(e,void 0)}function N2(e,t,n,r){var i=new sa(null,void 0);return e&&Pv(i,e),t&&Ov(i,t),n&&Dv(i,n),r&&(i.l=r),i}function ff(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,A2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function A2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var GR=/[#\/\?@]/g,R2=/[#\?:]/g,x2=/[#\?]/g,P2=/[#\?@]/g,O2=/#/g;function $f(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function es(e){e.g||(e.g=new Sl,e.h=0,e.i&&k2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Y=$f.prototype;Y.add=function(e,t){es(this),this.i=null,e=kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function pF(e,t){es(e),t=kl(e,t),oa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,oa(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&cI(e)))}function vF(e,t){return es(e),t=kl(e,t),oa(e.g.h,t)}Y.forEach=function(e,t){es(this),this.g.forEach(function(n,r){BM(n,function(i){e.call(t,i,r,this)},this)},this)};Y.T=function(){es(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Y.R=function(e){es(this);var t=[];if(typeof e=="string")vF(this,e)&&(t=jR(t,this.g.get(kl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jR(t,e[n])}return t};Y.set=function(e,t){return es(this),this.i=null,e=kl(this,e),vF(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Y.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gF(e,t,n){pF(e,t),0<n.length&&(e.i=null,e.g.set(kl(e,t),QT(n)),e.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function D2(e,t){t&&!e.j&&(es(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pF(this,r),gF(this,i,n))},e)),e.j=t}var L2=function(){function e(t,n){this.h=t,this.g=n}return e}();function mF(e){this.l=e||M2,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var M2=10;function yF(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _F(e){return e.h?1:e.g?e.g.size:0}function ME(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function fI(e,t){e.g?e.g.add(t):e.h=t}function wF(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mF.prototype.cancel=function(){var e,t;if(this.i=EF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=UM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function EF(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=UM(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return QT(e.i)}function hI(){}hI.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};hI.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function F2(){this.g=new hI}function j2(e,t,n){var r=n||"";try{lI(e,function(i,s){var a=i;Th(i)&&(a=nI(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function U2(e,t){var n=new Hg;if(ce.Image){var r=new Image;r.onload=up(cp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=up(cp,n,r,"TestLoadImage: error",!1,t),r.onabort=up(cp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=up(cp,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ah(e){this.l=e.$b||null,this.j=e.ib||!1}Xt(Ah,sI);Ah.prototype.g=function(){return new Jg(this.l,this.j)};Ah.prototype.i=function(e){return function(){return e}}({});function Jg(e,t){Mt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xt(Jg,Mt);var dI=0;Y=Jg.prototype;Y.open=function(e,t){if(this.readyState!=dI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qf(this)};Y.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ce).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rh(this)),this.readyState=dI};Y.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qf(this)),this.g&&(this.readyState=3,qf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bF(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function bF(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Y.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rh(this):qf(this),this.readyState==3&&bF(this)}};Y.Ua=function(e){this.g&&(this.response=this.responseText=e,Rh(this))};Y.Ta=function(e){this.g&&(this.response=e,Rh(this))};Y.ha=function(){this.g&&Rh(this)};function Rh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qf(e)}Y.setRequestHeader=function(e,t){this.v.append(e,t)};Y.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Jg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var V2=ce.JSON.parse;function dt(e){Mt.call(this),this.headers=new Sl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TF,this.K=this.L=!1}Xt(dt,Mt);var TF="",B2=/^https?$/i,$2=["POST","PUT"];Y=dt.prototype;Y.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PE.g(),this.C=this.u?HR(this.u):HR(PE),this.g.onreadystatechange=Kt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){QR(this,s);return}e=n||"";var i=new Sl(this.headers);r&&lI(r,function(s,a){i.set(a,s)}),r=Z8(i.T()),n=ce.FormData&&e instanceof ce.FormData,!(0<=VM($2,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kF(this),0<this.B&&((this.K=q2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.pa,this)):this.A=oI(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){QR(this,s)}};function q2(e){return Ku&&i2()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function z2(e){return e.toLowerCase()=="content-type"}Y.pa=function(){typeof GT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function QR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,IF(e),Zg(e)}function IF(e){e.D||(e.D=!0,Gt(e,"complete"),Gt(e,"error"))}Y.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gt(this,"complete"),Gt(this,"abort"),Zg(this))};Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zg(this,!0)),dt.Z.M.call(this)};Y.Fa=function(){this.s||(this.F||this.v||this.l?SF(this):this.cb())};Y.cb=function(){SF(this)};function SF(e){if(e.h&&typeof GT<"u"&&(!e.C[1]||Di(e)!=4||e.ba()!=2)){if(e.v&&Di(e)==4)oI(e.Fa,0,e);else if(Gt(e,"readystatechange"),Di(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(dF)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!B2.test(s?s.toLowerCase():"")}r=i}if(r)Gt(e,"complete"),Gt(e,"success");else{e.m=6;try{var l=2<Di(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",IF(e)}}finally{Zg(e)}}}}function Zg(e,t){if(e.g){kF(e);var n=e.g,r=e.C[0]?Nv:null;e.g=null,e.C=null,t||Gt(e,"ready");try{n.onreadystatechange=r}catch{}}}function kF(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ce.clearTimeout(e.A),e.A=null)}function Di(e){return e.g?e.g.readyState:0}Y.ba=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}};Y.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),V2(t)}};function YR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TF:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Y.Da=function(){return this.m};Y.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function W2(e){var t="";return YT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function pI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=W2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ke(e,t,n))}function Lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function CF(e){this.za=0,this.l=[],this.h=new Hg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lc("baseRetryDelayMs",5e3,e),this.$a=Lc("retryDelaySeedMs",1e4,e),this.Ya=Lc("forwardChannelMaxRetries",2,e),this.ra=Lc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mF(e&&e.concurrentRequestLimit),this.Ca=new F2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Y=CF.prototype;Y.ma=8;Y.G=1;function vI(e){if(NF(e),e.G==3){var t=e.V++,n=$i(e.F);Ke(n,"SID",e.J),Ke(n,"RID",t),Ke(n,"TYPE","terminate"),xh(e,n),t=new Ch(e,e.h,t,void 0),t.K=2,t.v=Xg($i(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.v.toString(),"")),!n&&ce.Image&&(new Image().src=t.v,n=!0),n||(t.g=MF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nh(t)}DF(e)}Y.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function em(e){e.g&&(mI(e),e.g.cancel(),e.g=null)}function NF(e){em(e),e.u&&(ce.clearTimeout(e.u),e.u=null),Lv(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ce.clearTimeout(e.m),e.m=null)}function z_(e,t){e.l.push(new L2(e.Za++,t)),e.G==3&&tm(e)}function tm(e){yF(e.i)||e.m||(e.m=!0,rI(e.Ha,e),e.C=0)}function H2(e,t){return _F(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Sh(Kt(e.Ha,e,t),OF(e,e.C)),e.C++,!0)}Y.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ch(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=$M(n),qM(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=AF(this,t,r),i=$i(this.F),Ke(i,"RID",e),Ke(i,"CVER",22),this.D&&Ke(i,"X-HTTP-Session-Id",this.D),xh(this,i),this.o&&n&&pI(i,this.o,n),fI(this.i,t),this.Ra&&Ke(i,"TYPE","init"),this.ja?(Ke(i,"$req",r),Ke(i,"SID","null"),t.$=!0,DE(t,i,null)):DE(t,i,r),this.G=2}}else this.G==3&&(e?XR(this,e):this.l.length==0||yF(this.i)||XR(this))};function XR(e,t){var n;t?n=t.m:n=e.V++;var r=$i(e.F);Ke(r,"SID",e.J),Ke(r,"RID",n),Ke(r,"AID",e.U),xh(e,r),e.o&&e.s&&pI(r,e.o,e.s),n=new Ch(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=AF(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fI(e.i,n),DE(n,r,t)}function xh(e,t){e.j&&lI({},function(n,r){Ke(t,r,n)})}function AF(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Kt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{j2(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function RF(e){e.g||e.u||(e.Y=1,rI(e.Ga,e),e.A=0)}function gI(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Sh(Kt(e.Ga,e),OF(e,e.A)),e.A++,!0)}Y.Ga=function(){if(this.u=null,xF(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sh(Kt(this.bb,this),e)}};Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tn(10),em(this),xF(this))};function mI(e){e.B!=null&&(ce.clearTimeout(e.B),e.B=null)}function xF(e){e.g=new Ch(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=$i(e.oa);Ke(t,"RID","rpc"),Ke(t,"SID",e.J),Ke(t,"CI",e.N?"0":"1"),Ke(t,"AID",e.U),xh(e,t),Ke(t,"TYPE","xmlhttp"),e.o&&e.s&&pI(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xg($i(t)),n.s=null,n.U=!0,lF(n,e)}Y.ab=function(){this.v!=null&&(this.v=null,em(this),gI(this),Tn(19))};function Lv(e){e.v!=null&&(ce.clearTimeout(e.v),e.v=null)}function PF(e,t){var n=null;if(e.g==t){Lv(e),mI(e),e.g=null;var r=2}else if(ME(e.i,t))n=t.D,wF(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Kg(),Gt(r,new oF(r,n)),tm(e)}else RF(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&H2(e,t)||r==2&&gI(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Bs(e,5);break;case 4:Bs(e,10);break;case 3:Bs(e,6);break;default:Bs(e,2)}}}function OF(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Bs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Kt(e.jb,e);n||(n=new sa("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Pv(n,"https"),Xg(n)),U2(n.toString(),r)}else Tn(2);e.G=0,e.j&&e.j.va(t),DF(e),NF(e)}Y.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tn(2)):(this.h.info("Failed to ping google.com"),Tn(1))};function DF(e){e.G=0,e.I=-1,e.j&&((EF(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,QT(e.l),e.l.length=0),e.j.ua())}function LF(e,t,n){var r=C2(n);if(r.i!="")t&&Ov(r,t+"."+r.i),Dv(r,r.m);else{var i=ce.location;r=N2(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&YT(e.aa,function(s,a){Ke(r,a,s)}),t=e.D,n=e.sa,t&&n&&Ke(r,t,n),Ke(r,"VER",e.ma),xh(e,r),r}function MF(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new dt(new Ah({ib:!0})):new dt(e.qa),t.L=e.H,t}function FF(){}Y=FF.prototype;Y.xa=function(){};Y.wa=function(){};Y.va=function(){};Y.ua=function(){};Y.Oa=function(){};function Mv(){if(Ku&&!(10<=Number(o2)))throw Error("Environmental error: no available transport.")}Mv.prototype.g=function(e,t){return new nr(e,t)};function nr(e,t){Mt.call(this),this.g=new CF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Av(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Av(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cl(this)}Xt(nr,Mt);nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rI(Kt(e.hb,e,t))),Tn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=LF(e,null,e.W),tm(e)};nr.prototype.close=function(){vI(this.g)};nr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,z_(this.g,t)}else this.v?(t={},t.__data__=nI(e),z_(this.g,t)):z_(this.g,e)};nr.prototype.M=function(){this.g.j=null,delete this.j,vI(this.g),delete this.g,nr.Z.M.call(this)};function jF(e){aI.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Xt(jF,aI);function UF(){uI.call(this),this.status=1}Xt(UF,uI);function Cl(e){this.g=e}Xt(Cl,FF);Cl.prototype.xa=function(){Gt(this.g,"a")};Cl.prototype.wa=function(e){Gt(this.g,new jF(e))};Cl.prototype.va=function(e){Gt(this.g,new UF)};Cl.prototype.ua=function(){Gt(this.g,"b")};Mv.prototype.createWebChannel=Mv.prototype.g;nr.prototype.send=nr.prototype.u;nr.prototype.open=nr.prototype.m;nr.prototype.close=nr.prototype.close;Gg.NO_ERROR=0;Gg.TIMEOUT=8;Gg.HTTP_ERROR=6;sF.COMPLETE="complete";aF.EventType=kh;kh.OPEN="a";kh.CLOSE="b";kh.ERROR="c";kh.MESSAGE="d";Mt.prototype.listen=Mt.prototype.N;dt.prototype.listenOnce=dt.prototype.O;dt.prototype.getLastError=dt.prototype.La;dt.prototype.getLastErrorCode=dt.prototype.Da;dt.prototype.getStatus=dt.prototype.ba;dt.prototype.getResponseJson=dt.prototype.Qa;dt.prototype.getResponseText=dt.prototype.ga;dt.prototype.send=dt.prototype.ea;var K2=function(){return new Mv},G2=function(){return Kg()},W_=Gg,Q2=sF,Y2=Ta,JR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},X2=Ah,fp=aF,J2=dt,Z2={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Yn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return G(t,e),t}(Error),$r=new _a("@firebase/firestore");function FE(){return $r.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($r.logLevel<=_e.DEBUG){var r=t.map(yI);$r.debug.apply($r,ve(["Firestore (8.10.1): "+e],r))}}function ht(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($r.logLevel<=_e.ERROR){var r=t.map(yI);$r.error.apply($r,ve(["Firestore (8.10.1): "+e],r))}}function zf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if($r.logLevel<=_e.WARN){var r=t.map(yI);$r.warn.apply($r,ve(["Firestore (8.10.1): "+e],r))}}function yI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ht(t),new Error(t)}function ae(e,t){e||ee()}function H(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=e7(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function Gu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function BF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ye=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ia(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $F(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ee(),r===void 0?r=t.length-n:r>t.length-n&&ee(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(qF),t7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return t7.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(qF),Qu=function(){function e(t){this.fields=t,t.sort(zr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Gu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Sn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Sn.EMPTY_BYTE_STRING=new Sn("");var n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(e){if(ae(!!e),typeof e=="string"){var t=0,n=n7.exec(e);if(ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yu(e){return typeof e=="string"?Sn.fromBase64String(e):Sn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zF(e){var t=e.mapValue.fields.__previous_value__;return _I(t)?zF(t):t}function Wf(e){var t=Go(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e){return e==null}function Fv(e){return e===0&&1/e==-1/0}function WF(e){return typeof e=="number"&&Number.isInteger(e)&&!Fv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ae.fromString(t))},e.fromName=function(t){return new e(Ae.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ae.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ae.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ae(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_I(e)?4:10:ee()}function gi(e,t){var n=aa(e);if(n!==aa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wf(e).isEqual(Wf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Go(r.timestampValue),a=Go(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Yu(r.bytesValue).isEqual(Yu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=ft(r.doubleValue),a=ft(i.doubleValue);return s===a?Fv(s)===Fv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Gu(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(ZR(s)!==ZR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!gi(s[l],a[l])))return!1;return!0}(e,t);default:return ee()}}function Hf(e,t){return(e.values||[]).find(function(n){return gi(n,t)})!==void 0}function Xu(e,t){var n=aa(e),r=aa(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=ft(i.integerValue||i.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return ex(e.timestampValue,t.timestampValue);case 4:return ex(Wf(e),Wf(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Yu(i),l=Yu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=be(ft(i.latitude),ft(s.latitude));return a!==0?a:be(ft(i.longitude),ft(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Xu(a[c],l[c]);if(h)return h}return be(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var g=be(l[p],h[p]);if(g!==0)return g;var m=Xu(a[l[p]],c[h[p]]);if(m!==0)return m}return be(l.length,h.length)}(e.mapValue,t.mapValue);default:throw ee()}}function ex(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=Go(e),r=Go(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function wI(e){return jE(e)}function jE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Go(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Yu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=jE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+jE(r.fields[c])}return i+"}"}(e.mapValue):ee();var t,n}function jv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function UE(e){return!!e&&"integerValue"in e}function EI(e){return!!e&&"arrayValue"in e}function tx(e){return!!e&&"nullValue"in e}function nx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dp(e){return!!e&&"mapValue"in e}function hf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ia(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=hf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Dp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hf(n)},e.prototype.setAll=function(t){var n=this,r=zr.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=hf(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return gi(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ia(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(hf(this.value))},e}();function HF(e){var t=[];return Ia(e.fields,function(n,r){var i=new zr([n]);if(Dp(r)){var s=HF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new Qu(t)}var Yt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ye.min(),Qn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Qn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Qn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),r7=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new r7(e,t,n,r,i,s,a)}function Ph(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+wI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Sa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Vv(t.startAt)),t.endAt&&(n+="|ub:",n+=Vv(t.endAt)),t.h=n}return t.h}function nm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!f7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!gi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ox(e.startAt,t.startAt)&&ox(e.endAt,t.endAt)}function Uv(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Xn=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return G(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new i7(n,r,i):r==="array-contains"?new a7(n,i):r==="in"?new u7(n,i):r==="not-in"?new l7(n,i):r==="array-contains-any"?new c7(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new o7(n,i):new s7(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Xu(r,this.value)):r!==null&&aa(this.value)===aa(r)&&this.m(Xu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ee()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),i7=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ne.fromName(i.referenceValue),s}return G(t,e),t.prototype.matches=function(n){var r=ne.comparator(n.key,this.key);return this.m(r)},t}(Xn),o7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=KF("in",r),i}return G(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Xn),s7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=KF("not-in",r),i}return G(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Xn);function KF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ne.fromName(r.referenceValue)})}var a7=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return EI(r)&&Hf(r.arrayValue,this.value)},t}(Xn),u7=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Hf(this.value.arrayValue,r)},t}(Xn),l7=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return G(t,e),t.prototype.matches=function(n){if(Hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Hf(this.value.arrayValue,r)},t}(Xn),c7=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return G(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!EI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Hf(r.value.arrayValue,s)})},t}(Xn),Kf=function(e,t){this.position=e,this.before=t};function Vv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return wI(t)}).join(",")}var Ou=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function f7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ix(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ne.comparator(ne.fromName(a.referenceValue),n.key):Xu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ox(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function GF(e,t,n,r,i,s,a,l){return new Gi(e,t,n,r,i,s,a,l)}function Nl(e){return new Gi(e)}function Lp(e){return!Sa(e.limit)&&e.limitType==="F"}function Bv(e){return!Sa(e.limit)&&e.limitType==="L"}function bI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function TI(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function II(e){return e.collectionGroup!==null}function Ju(e){var t=H(e);if(t.p===null){t.p=[];var n=TI(t),r=bI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ou(n)),t.p.push(new Ou(zr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ou(zr.keyField(),c))}}}return t.p}function Er(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=rx(t.path,t.collectionGroup,Ju(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ju(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ou(s.field,a))}var l=t.endAt?new Kf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Kf(t.startAt.position,!t.startAt.before):null;t.T=rx(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function QF(e,t,n){return new Gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oh(e,t){return nm(Er(e),Er(t))&&e.limitType===t.limitType}function YF(e){return Ph(Er(e))+"|lt:"+e.limitType}function VE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+wI(i.value);var i}).join(", ")+"]"),Sa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Vv(t.startAt)),t.endAt&&(n+=", endAt: "+Vv(t.endAt)),"Target("+n+")"}(Er(e))+"; limitType="+e.limitType+")"}function Dh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!ix(n.startAt,Ju(n),r))&&(!n.endAt||!ix(n.endAt,Ju(n),r))}(e,t)}function XF(e){return function(t,n){for(var r=!1,i=0,s=Ju(e);i<s.length;i++){var a=s[i],l=h7(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function h7(e,t,n){var r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Xu(l,c):ee()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fv(t)?"-0":t}}function ZF(e){return{integerValue:""+e}}function ej(e,t){return WF(t)?ZF(t):JF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){this._=void 0};function d7(e,t,n){return e instanceof Zu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ua?nj(e,t):e instanceof la?rj(e,t):function(r,i){var s=tj(r,i),a=sx(s)+sx(r.A);return UE(s)&&UE(r.A)?ZF(a):JF(r.R,a)}(e,t)}function p7(e,t,n){return e instanceof ua?nj(e,t):e instanceof la?rj(e,t):n}function tj(e,t){return e instanceof el?UE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Zu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t}(rm),ua=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(rm);function nj(e,t){for(var n=ij(t),r=function(a){n.some(function(l){return gi(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var la=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(rm);function rj(e,t){for(var n=ij(t),r=function(a){n=n.filter(function(l){return!gi(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var el=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return G(t,e),t}(rm);function sx(e){return ft(e.integerValue||e.doubleValue)}function ij(e){return EI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lh=function(e,t){this.field=e,this.transform=t},v7=function(e,t){this.version=e,this.transformResults=t},rn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Mp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var im=function(){};function g7(e,t,n){e instanceof Mh?function(r,i,s){var a=r.value.clone(),l=lx(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ts?function(r,i,s){if(Mp(r.precondition,i)){var a=lx(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(oj(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function BE(e,t,n){e instanceof Mh?function(r,i,s){if(Mp(r.precondition,i)){var a=r.value.clone(),l=cx(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(ux(i),a).setHasLocalMutations()}}(e,t,n):e instanceof ts?function(r,i,s){if(Mp(r.precondition,i)){var a=cx(r.fieldTransforms,s,i),l=i.data;l.setAll(oj(r)),l.setAll(a),i.convertToFoundDocument(ux(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Mp(r.precondition,i)&&i.convertToNoDocument(ye.min())}(e,t)}function m7(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=tj(s.transform,a||null);l!=null&&(n==null&&(n=Qn.empty()),n.set(s.field,l))}return n||null}function ax(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof ua&&h instanceof ua||c instanceof la&&h instanceof la?Gu(c.elements,h.elements,gi):c instanceof el&&h instanceof el?gi(c.A,h.A):c instanceof Zu&&h instanceof Zu}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ux(e){return e.isFoundDocument()?e.version:ye.min()}var Mh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return G(t,e),t}(im),ts=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return G(t,e),t}(im);function oj(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function lx(e,t,n){var r=new Map;ae(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,p7(a,l,n[i]))}return r}function cx(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,d7(l,c,t))}return r}var ct,Ie,Fh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return G(t,e),t}(im),SI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return G(t,e),t}(im),y7=function(e){this.count=e};function sj(e){switch(e){case D.OK:return ee();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ee()}}function aj(e){if(e===void 0)return ht("GRPC error has no .code"),D.UNKNOWN;switch(e){case ct.OK:return D.OK;case ct.CANCELLED:return D.CANCELLED;case ct.UNKNOWN:return D.UNKNOWN;case ct.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ct.INTERNAL:return D.INTERNAL;case ct.UNAVAILABLE:return D.UNAVAILABLE;case ct.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ct.NOT_FOUND:return D.NOT_FOUND;case ct.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ct.ABORTED:return D.ABORTED;case ct.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ct.DATA_LOSS:return D.DATA_LOSS;default:return ee()}}(Ie=ct||(ct={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function e(t,n){this.comparator=t,this.root=n||mo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new hp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new hp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new hp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new hp(this.root,t,this.comparator,!0)},e}(),hp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),mo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();var t=this.left.check();if(t!==this.right.check())throw ee();return t+(this.isRed()?0:1)},e}();mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1,mo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ee()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new mo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function e(t){this.comparator=t,this.data=new hn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new fx(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new fx(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fx=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),_7=new hn(ne.comparator);function gr(){return _7}var w7=new hn(ne.comparator);function $E(){return w7}var E7=new hn(ne.comparator);function uj(){return E7}var b7=new bt(ne.comparator);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=b7,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var T7=new bt(be);function om(){return T7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,CI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ye.min(),r,om(),gr(),Le())},e}(),CI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Sn.EMPTY_BYTE_STRING,n,Le(),Le(),Le())},e}(),Fp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},lj=function(e,t){this.targetId=e,this.V=t},cj=function(e,t,n,r){n===void 0&&(n=Sn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},hx=function(){function e(){this.S=0,this.D=px(),this.C=Sn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Le(),n=Le(),r=Le();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new CI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=px()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),I7=function(){function e(t){this.W=t,this.G=new Map,this.H=gr(),this.J=dx(),this.Y=new bt(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:ee()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Uv(s))if(r===0){var a=new ne(s.path);this.tt(n,a,Yt.newNoDocument(a,ye.min()))}else ae(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Uv(c.target)){var h=new ne(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Yt.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Le();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new kI(t,r,this.Y,this.H,i);return this.H=gr(),this.J=dx(),this.Y=new bt(be),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new hx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new bt(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new hx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function dx(){return new hn(ne.comparator)}function px(){return new hn(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S7={asc:"ASCENDING",desc:"DESCENDING"},k7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C7=function(e,t){this.databaseId=e,this.I=t};function Gf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fj(e,t){return e.I?t.toBase64():t.toUint8Array()}function N7(e,t){return Gf(e,t.toTimestamp())}function Ot(e){return ae(!!e),ye.fromTimestamp(function(t){var n=Go(t);return new Un(n.seconds,n.nanos)}(e))}function NI(e,t){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hj(e){var t=Ae.fromString(e);return ae(wj(t)),t}function Qf(e,t){return NI(e.databaseId,t.path)}function li(e,t){var n=hj(t);if(n.get(1)!==e.databaseId.projectId)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(pj(n))}function qE(e,t){return NI(e.databaseId,t)}function dj(e){var t=hj(e);return t.length===4?Ae.emptyPath():pj(t)}function Yf(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pj(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function vx(e,t,n){return{name:Qf(e,t),fields:n.value.mapValue.fields}}function vj(e,t,n){var r=li(e,t.name),i=Ot(t.updateTime),s=new Qn({mapValue:{fields:t.fields}}),a=Yt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $v(e,t){var n;if(t instanceof Mh)n={update:vx(e,t.key,t.value)};else if(t instanceof Fh)n={delete:Qf(e,t.key)};else if(t instanceof ts)n={update:vx(e,t.key,t.data),updateMask:O7(t.fieldMask)};else{if(!(t instanceof SI))return ee();n={verify:Qf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Zu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof la)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof el)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ee()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:N7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(e,t.precondition)),n}function gx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?rn.updateTime(Ot(h.updateTime)):h.exists!==void 0?rn.exists(h.exists):rn.none()}(t.currentDocument):rn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,g){var m=null;if("setToServerValue"in g)ae(g.setToServerValue==="REQUEST_TIME"),m=new Zu;else if("appendMissingElements"in g){var y=g.appendMissingElements.values||[];m=new ua(y)}else if("removeAllFromArray"in g){var E=g.removeAllFromArray.values||[];m=new la(E)}else"increment"in g?m=new el(p,g.increment):ee();var I=zr.fromServerFormat(g.fieldPath);return new Lh(I,m)}(e,h)}):[];if(t.update){t.update.name;var i=li(e,t.update.name),s=new Qn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new Qu(p.map(function(g){return zr.fromServerFormat(g)}))}(t.updateMask);return new ts(i,s,a,n,r)}return new Mh(i,s,n,r)}if(t.delete){var l=li(e,t.delete);return new Fh(l,n)}if(t.verify){var c=li(e,t.verify);return new SI(c,n)}return ee()}function gj(e,t){return{documents:[qE(e,t.path)]}}function mj(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=qE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(nx(p.value))return{unaryFilter:{field:ou(p.field),op:"IS_NAN"}};if(tx(p.value))return{unaryFilter:{field:ou(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(nx(p.value))return{unaryFilter:{field:ou(p.field),op:"IS_NOT_NAN"}};if(tx(p.value))return{unaryFilter:{field:ou(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(p.field),op:R7(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:ou(h.field),direction:A7(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Sa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=mx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=mx(t.endAt)),n}function yj(e){var t=dj(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=_j(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new Ou(wu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var c=null;n.limit&&(c=function(g){var m;return Sa(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var h=null;n.startAt&&(h=yx(n.startAt));var p=null;return n.endAt&&(p=yx(n.endAt)),GF(t,i,l,a,c,"F",h,p)}function _j(e){return e?e.unaryFilter!==void 0?[P7(e)]:e.fieldFilter!==void 0?[x7(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return _j(t)}).reduce(function(t,n){return t.concat(n)}):ee():[]}function mx(e){return{before:e.before,values:e.position}}function yx(e){var t=!!e.before,n=e.values||[];return new Kf(n,t)}function A7(e){return S7[e]}function R7(e){return k7[e]}function ou(e){return{fieldPath:e.canonicalString()}}function wu(e){return zr.fromServerFormat(e.fieldPath)}function x7(e){return Xn.create(wu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}function P7(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wu(e.unaryFilter.field);return Xn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wu(e.unaryFilter.field);return Xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wu(e.unaryFilter.field);return Xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wu(e.unaryFilter.field);return Xn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ee()}}function O7(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_x(t)),t=D7(e.get(n),t);return _x(t)}function D7(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function _x(e){return e+""}function Li(e){var t=e.length;if(ae(t>=2),t===2)return ae(e.charAt(0)===""&&e.charAt(1)===""),Ae.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ee(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:ee()}s=a+2}return new Ae(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L7=function(e,t){this.seconds=e,this.nanoseconds=t},Kn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Kn.store="owner",Kn.key="owner";var Mo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Mo.store="mutationQueues",Mo.keyPath="userId";var $e=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$e.store="mutations",$e.keyPath="batchId",$e.userMutationsIndex="userMutationsIndex",$e.userMutationsKeyPath=["userId","batchId"];var tn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,qr(n)]},e.key=function(t,n,r){return[t,qr(n),r]},e}();tn.store="documentMutations",tn.PLACEHOLDER=new tn;var M7=function(e,t){this.path=e,this.readTime=t},F7=function(e,t){this.path=e,this.version=t},et=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};et.store="remoteDocuments",et.readTimeIndex="readTimeIndex",et.readTimeIndexPath="readTime",et.collectionReadTimeIndex="collectionReadTimeIndex",et.collectionReadTimeIndexPath=["parentPath","readTime"];var oi=function(e){this.byteSize=e};oi.store="remoteDocumentGlobal",oi.key="remoteDocumentGlobalKey";var Ln=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Ln.store="targets",Ln.keyPath="targetId",Ln.queryTargetsIndexName="queryTargetsIndex",Ln.queryTargetsKeyPath=["canonicalId","targetId"];var Wt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Wt.store="targetDocuments",Wt.keyPath=["targetId","path"],Wt.documentTargetsIndex="documentTargetsIndex",Wt.documentTargetsKeyPath=["path","targetId"];var Gn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gn.key="targetGlobalKey",Gn.store="targetGlobal";var Gs=function(e,t){this.collectionId=e,this.parent=t};Gs.store="collectionParents",Gs.keyPath=["collectionId","parent"];var ji=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ji.store="clientMetadata",ji.keyPath="clientId";var tl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};tl.store="bundles",tl.keyPath="bundleId";var nl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};nl.store="namedQueries",nl.keyPath="name";var j7=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[Mo.store,$e.store,tn.store,et.store,Ln.store,Kn.store,Gn.store,Wt.store]),[ji.store])),[oi.store])),[Gs.store])),[tl.store,nl.store]),Ej="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bj=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),fn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},B=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),Tj=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new fn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new df(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=AI(i.target.error);r.ft.reject(new df(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new df(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new V7(n)},e}(),rl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ta())===12.2&&ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),Ps(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ta(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=Z2)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new df(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new j(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new df(t,h))},l.onupgradeneeded=function(c){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var g,m,y,E,I;return A(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=w.sent(),g=Tj.open(c.db,t,s?"readonly":"readwrite",r),m=i(g).catch(function(T){return g.abort(T),B.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,g.dt];case 3:return[2,(y.value=(w.sent(),m),y)];case 4:return E=w.sent(),I=E.name!=="FirebaseError"&&a<3,z("SimpleDb","Transaction failed with error:",E.message,"Retrying:",I),c.close(),I?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),U7=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ps(this.Pt.delete())},e}(),df=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return G(t,e),t}(j);function ka(e){return e.name==="IndexedDbTransactionError"}var V7=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ps(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),Ps(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ps(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),Ps(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),Ps(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new B(function(r,i){n.onerror=function(s){var a=AI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new B(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new U7(l),h=n(l.primaryKey,l.value,c);if(h instanceof B){var p=h.catch(function(g){return c.done(),B.reject(g)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return B.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ps(e){return new B(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=AI(r.target.error);n(i)}})}var wx=!1;function AI(e){var t=rl._t(ta());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return wx||(wx=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ex=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return G(t,e),t}(bj);function $n(e,t){var n=H(e);return rl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&g7(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&BE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&BE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ye.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Le())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Gu(this.mutations,t.mutations,function(n,r){return ax(n,r)})&&Gu(this.baseMutations,t.baseMutations,function(n,r){return ax(n,r)})},e}(),B7=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ae(t.mutations.length===r.length);for(var i=uj(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),sm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ye.min()),a===void 0&&(a=ye.min()),l===void 0&&(l=Sn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ij=function(e){this.Lt=e};function zE(e,t){if(t.document)return vj(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ne.fromSegments(t.noDocument.path),r=ol(t.noDocument.readTime),i=Yt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ne.fromSegments(t.unknownDocument.path);return r=ol(t.unknownDocument.version),Yt.newUnknownDocument(s,r)}return ee()}function bx(e,t,n){var r=xI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(g,m){return{name:Qf(g,m.key),fields:m.data.value.mapValue.fields,updateTime:Gf(g,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new et(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=il(t.version);return a=t.hasCommittedMutations,new et(null,new M7(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=il(t.version);return new et(new F7(h,p),null,null,!0,r,i)}return ee()}function xI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sj(e){var t=new Un(e[0],e[1]);return ye.fromTimestamp(t)}function il(e){var t=e.toTimestamp();return new L7(t.seconds,t.nanoseconds)}function ol(e){var t=new Un(e.seconds,e.nanoseconds);return ye.fromTimestamp(t)}function fu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return gx(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return gx(e.Lt,c)}),l=Un.fromMillis(t.localWriteTimeMs);return new RI(t.batchId,l,n,a)}function zc(e){var t,n,r=ol(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?ol(e.lastLimboFreeSnapshotVersion):ye.min();return e.query.documents!==void 0?(ae((n=e.query).documents.length===1),t=Er(Nl(dj(n.documents[0])))):t=function(s){return Er(yj(s))}(e.query),new sm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Sn.fromBase64String(e.resumeToken))}function kj(e,t){var n,r=il(t.snapshotVersion),i=il(t.lastLimboFreeSnapshotVersion);n=Uv(t.target)?gj(e.Lt,t.target):mj(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Ln(t.targetId,Ph(t.target),r,s,t.sequenceNumber,i,n)}function PI(e){var t=yj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?QF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Tx(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:ol(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Tx(t).put({bundleId:(r=n).id,createTime:il(Ot(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Ix(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:PI(i.bundledQuery),readTime:ol(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return Ix(t).put(function(r){return{name:r.name,readTime:il(Ot(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Tx(e){return $n(e,tl.store)}function Ix(e){return $n(e,nl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q7=function(){function e(){this.Bt=new OI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),B.resolve()},e.prototype.getCollectionParents=function(t,n){return B.resolve(this.Bt.getEntries(n))},e}(),OI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new bt(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new bt(Ae.comparator)).toArray()},e}(),z7=function(){function e(){this.qt=new OI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:qr(s)};return Sx(t).put(a)}return B.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[BF(n),""],!1,!0);return Sx(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Li(c.parent))}return r})},e}();function Sx(e){return $n(e,Gs.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ti=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(e,t,n){var r=e.store($e.store),i=e.store(tn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(E,I,w){return l++,w.delete()});s.push(c.next(function(){ae(l===1)}));for(var h=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],y=tn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return B.waitFor(s).next(function(){return h})}function qv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ee();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(41943040,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);var W7=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ae(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return co(t).$t({index:$e.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=hu(t),l=co(t);return l.add({}).next(function(c){ae(typeof c=="number");for(var h=new RI(c,n,r,i),p=function(T,S,N){var P=N.baseMutations.map(function(O){return $v(T.Lt,O)}),M=N.mutations.map(function(O){return $v(T.Lt,O)});return new $e(S,N.batchId,N.localWriteTime.toMillis(),P,M)}(s.R,s.userId,h),g=[],m=new bt(function(T,S){return be(T.canonicalString(),S.canonicalString())}),y=0,E=i;y<E.length;y++){var I=E[y],w=tn.key(s.userId,I.key.path,c);m=m.add(I.key.path.popLast()),g.push(l.put(p)),g.push(a.put(w,tn.PLACEHOLDER))}return m.forEach(function(T){g.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),B.waitFor(g).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return co(t).get(n).next(function(i){return i?(ae(i.userId===r.userId),fu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?B.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return co(t).$t({index:$e.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ae(c.batchId>=i),a=fu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return co(t).$t({index:$e.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return co(t).Nt($e.userMutationsIndex,r).next(function(i){return i.map(function(s){return fu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=tn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return hu(t).$t({range:s},function(l,c,h){var p=l[0],g=l[1],m=l[2],y=Li(g);if(p===r.userId&&n.path.isEqual(y))return co(t).get(m).next(function(E){if(!E)throw ee();ae(E.userId===r.userId),a.push(fu(r.R,E))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new bt(be),s=[];return n.forEach(function(a){var l=tn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=hu(t).$t({range:c},function(p,g,m){var y=p[0],E=p[1],I=p[2],w=Li(E);y===r.userId&&a.path.isEqual(w)?i=i.add(I):m.done()});s.push(h)}),B.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=tn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new bt(be);return hu(t).$t({range:l},function(h,p,g){var m=h[0],y=h[1],E=h[2],I=Li(y);m===r.userId&&i.isPrefixOf(I)?I.length===s&&(c=c.add(E)):g.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(co(t).get(a).next(function(l){if(l===null)throw ee();ae(l.userId===r.userId),i.push(fu(r.R,l))}))}),B.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Cj(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),B.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return B.resolve();var i=IDBKeyRange.lowerBound(tn.prefixForUser(n.userId)),s=[];return hu(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=Li(a[1]);s.push(h)}else c.done()}).next(function(){ae(s.length===0)})})},e.prototype.containsKey=function(t,n){return Nj(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Aj(t).get(this.userId).next(function(r){return r||new Mo(n.userId,-1,"")})},e}();function Nj(e,t,n){var r=tn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return hu(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],g=l[1];l[2],p===t&&g===i&&(a=!0),h.done()}).next(function(){return a})}function co(e){return $n(e,$e.store)}function hu(e){return $n(e,tn.store)}function Aj(e){return $n(e,Mo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zv=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),H7=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new zv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ye.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return su(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ae(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return su(t).$t(function(l,c){var h=zc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return B.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return su(t).$t(function(r,i){var s=zc(i);n(s)})},e.prototype.Xt=function(t){return Cx(t).get(Gn.key).next(function(n){return ae(n!==null),n})},e.prototype.Zt=function(t,n){return Cx(t).put(Gn.key,n)},e.prototype.te=function(t,n){return su(t).put(kj(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Ph(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return su(t).$t({range:i,index:Ln.queryTargetsIndexName},function(a,l,c){var h=zc(l);nm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=yo(t);return n.forEach(function(l){var c=qr(l.path);s.push(a.put(new Wt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),B.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=yo(t);return B.forEach(n,function(a){var l=qr(a.path);return B.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=yo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=yo(t),s=Le();return i.$t({range:r,Ft:!0},function(a,l,c){var h=Li(a[1]),p=new ne(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=qr(n.path),i=IDBKeyRange.bound([r],[BF(r)],!1,!0),s=0;return yo(t).$t({index:Wt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return su(t).get(n).next(function(r){return r?zc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(e){return $n(e,Ln.store)}function Cx(e){return $n(e,Gn.store)}function yo(e){return $n(e,Wt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(e){return R(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==Ej)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=be(n,i);return a===0?be(r,s):a}var K7=function(){function e(t){this.ne=t,this.buffer=new bt(Nx),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Nx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),G7=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ka(i=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ca(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Q7=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return B.resolve(Yn.o);var i=new K7(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(kx)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),kx):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),FE()<=_e.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-g)+"ms"),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),Y7=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new Q7(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return dp(t,r)},e.prototype.removeReference=function(t,n,r){return dp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return dp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return Aj(r).Ot(function(a){return Nj(r,a,i).next(function(l){return l&&(s=!0),B.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),yo(t).delete([0,qr(l.path)])})});s.push(h)}}).next(function(){return B.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return dp(t,n)},e.prototype.we=function(t,n){var r,i=yo(t),s=Yn.o;return i.$t({index:Wt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==Yn.o&&n(new ne(Li(r)),s),s=p,r=h):s=Yn.o}).next(function(){s!==Yn.o&&n(new ne(Li(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function dp(e,t){return yo(e).put(function(n,r){return new Wt(0,qr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Al=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ia(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return $F(this.inner)},e}(),Rj=function(){function e(){this.changes=new Al(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ye.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Yt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?B.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),X7=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return vo(t).put(pp(n),r)},e.prototype.removeEntry=function(t,n){var r=vo(t),i=pp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return vo(t).get(pp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return vo(t).get(pp(n)).next(function(i){return{document:r.ye(n,i),size:qv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=gr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=gr(),s=new hn(ne.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,qv(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return B.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return vo(t).$t({range:i},function(l,c,h){for(var p=ne.fromSegments(l);a&&ne.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=gr(),a=n.path.length+1,l={};if(r.isEqual(ye.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=xI(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=et.collectionReadTimeIndex}return vo(t).$t(l,function(g,m,y){if(g.length===a){var E=zE(i.R,m);n.path.isPrefixOf(E.key.path)?Dh(n,E)&&(s=s.insert(E.key,E)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new J7(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Ax(t).get(oi.key).next(function(n){return ae(!!n),n})},e.prototype.me=function(t,n){return Ax(t).put(oi.key,n)},e.prototype.ye=function(t,n){if(n){var r=zE(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ye.min()))return r}return Yt.newInvalidDocument(t)},e}(),J7=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Al(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new bt(function(l,c){return be(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=bx(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var g=qv(p);s+=g-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=bx(r.Ie.R,Yt.newNoDocument(l,ye.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),B.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(Rj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){return $n(e,oi.store)}function vo(e){return $n(e,et.store)}function pp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z7=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ae(r<i&&r>=0&&i<=11);var a=new Tj("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Kn.store)}(t),function(c){c.createObjectStore(Mo.store,{keyPath:Mo.keyPath}),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0}),c.createObjectStore(tn.store)}(t),Rx(t),function(c){c.createObjectStore(et.store)}(t));var l=B.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Wt.store),c.deleteObjectStore(Ln.store),c.deleteObjectStore(Gn.store)}(t),Rx(t)),l=l.next(function(){return function(c){var h=c.store(Gn.store),p=new Gn(0,0,ye.min().toTimestamp(),0);return h.put(Gn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store($e.store).Nt().next(function(p){c.deleteObjectStore($e.store),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0});var g=h.store($e.store),m=p.map(function(y){return g.put(y)});return B.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(ji.store,{keyPath:ji.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(oi.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(et.store);h.createIndex(et.readTimeIndex,et.readTimeIndexPath,{unique:!1}),h.createIndex(et.collectionReadTimeIndex,et.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(tl.store,{keyPath:tl.keyPath})})(t),function(c){c.createObjectStore(nl.store,{keyPath:nl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(et.store).$t(function(r,i){n+=qv(i)}).next(function(){var r=new oi(n);return t.store(oi.store).put(oi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Mo.store),i=t.store($e.store);return r.Nt().next(function(s){return B.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt($e.userMutationsIndex,l).next(function(c){return B.forEach(c,function(h){ae(h.userId===a.userId);var p=fu(n.R,h);return Cj(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Wt.store),r=t.store(et.store);return t.store(Gn.store).get(Gn.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Ae(a),h=function(p){return[0,qr(p)]}(c);s.push(n.get(h).next(function(p){return p?B.resolve():function(g){return n.put(new Wt(0,qr(g),i.highestListenSequenceNumber))}(c)}))}).next(function(){return B.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Gs.store,{keyPath:Gs.keyPath});var r=n.store(Gs.store),i=new OI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:qr(c)})}};return n.store(et.store).$t({Ft:!0},function(a,l){var c=new Ae(a);return s(c.popLast())}).next(function(){return n.store(tn.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=Li(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Ln.store);return r.$t(function(i,s){var a=zc(s),l=kj(n.R,a);return r.put(l)})},e}();function Rx(e){e.createObjectStore(Wt.store,{keyPath:Wt.keyPath}).createIndex(Wt.documentTargetsIndex,Wt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.queryTargetsIndexName,Ln.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store)}var H_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",e9=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new j(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y7(this,i),this.Le=n+"main",this.R=new Ij(c),this.Be=new rl(this.Le,11,new Z7(this.R)),this.qe=new H7(this.referenceDelegate,this.R),this.Ut=new z7,this.Ue=function(g,m){return new X7(g,m)}(this.R,this.Ut),this.Ke=new $7,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,H_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Yn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return vp(n).put(new ji(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ka(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Mc(t).get(Kn.key).next(function(r){return B.resolve(n.tn(r))})},e.prototype.en=function(t){return vp(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=$n(l,ji.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),g=h.filter(function(m){return p.indexOf(m)===-1});return B.forEach(g,function(m){return c.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?B.resolve(!0):Mc(t).get(Kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,H_);return!1}}return!(!n.networkEnabled||!n.inForeground)||vp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Kn.store,ji.store],function(r){var i=new Ex(r,Yn.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return vp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return W7.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,j7,function(l){return s=new Ex(l,i.Ne?i.Ne.next():Yn.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw ht("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(D.FAILED_PRECONDITION,Ej);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Mc(t).get(Kn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(D.FAILED_PRECONDITION,H_)})},e.prototype.Ze=function(t){var n=new Kn(this.clientId,this.allowTabSynchronization,Date.now());return Mc(t).put(Kn.key,n)},e.yt=function(){return rl.yt()},e.prototype.Xe=function(t){var n=this,r=Mc(t);return r.get(Kn.key).next(function(i){return n.tn(i)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(Kn.key)):B.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(ht("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),M3()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return ht("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ht("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Mc(e){return $n(e,Kn.store)}function vp(e){return $n(e,ji.store)}function DI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var t9=function(e,t){this.progress=e,this.wn=t},xj=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):II(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ne(n)).next(function(r){var i=$E();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=$E();return this.Ut.getCollectionParents(t,s).next(function(l){return B.forEach(l,function(c){var h=function(p,g){return new Gi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var g=p[h],m=0,y=g.mutations;m<y.length;m++){var E=y[m],I=E.key,w=i.get(I);w==null&&(w=Yt.newInvalidDocument(I),i=i.insert(I,w)),BE(E,w,g.localWriteTime),w.isFoundDocument()||(i=i.remove(I))}})}).next(function(){return i.forEach(function(l,c){Dh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Le(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof ts&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(g){return g.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),n9=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Le(),i=Le(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Pj=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Lp(n)||Bv(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(FE()<=_e.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),VE(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new bt(XF(t));return n.forEach(function(i,s){Dh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return FE()<=_e.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",VE(n)),this.Sn.getDocumentsMatchingQuery(t,n,ye.min())},e}(),r9=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new hn(be),this.Fn=new Al(function(s){return Ph(s)},nm),this.$n=ye.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new xj(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(e,t,n,r){return new r9(e,t,n,r)}function Dj(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=H(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new xj(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],g=[],m=Le(),y=0,E=c;y<E.length;y++){var I=E[y];p.push(I.batchId);for(var w=0,T=I.mutations;w<T.length;w++){var S=T[w];m=m.add(S.key)}}for(var N=0,P=h;N<P.length;N++){var M=P[N];g.push(M.batchId);for(var O=0,W=M.mutations;O<W.length;O++){var U=W[O];m=m.add(U.key)}}return i.pn(l,m).next(function(Q){return{Ln:Q,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function i9(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,g=p.keys(),m=B.resolve();return g.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(E){var I=c.docVersions.get(y);ae(I!==null),E.version.compareTo(I)<0&&(p.applyToRemoteDocument(E,c),E.isValidDocument()&&h.addEntry(E,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Lj(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function o9(e,t){var n=H(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var m=i.get(g);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,g)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var E=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(g,E),function(I,w,T){return ae(w.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,E,p)&&l.push(n.qe.updateTargetData(s,E))}}});var c=gr();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(Mj(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ye.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return B.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function Mj(e,t,n,r,i){var s=Le();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=gr();return n.forEach(function(c,h){var p=a.get(c),g=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ye.min())?(t.removeEntry(c,g),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,g),l=l.insert(c,h)):z("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function s9(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function sl(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,B.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new sm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function al(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=H(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ka(a=l.sent()))throw a;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Wv(e,t,n){var r=H(e),i=ye.min(),s=Le();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=H(l),g=p.Fn.get(h);return g!==void 0?B.resolve(p.kn.get(g)):p.qe.getTargetData(c,h)}(r,a,Er(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ye.min(),n?s:Le())}).next(function(l){return{documents:l,Bn:s}})})}function Fj(e,t){var n=H(e),r=H(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function jj(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=H(r),l=gr(),c=xI(s),h=vo(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:et.readTimeIndex,range:p},function(g,m){var y=zE(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:Sj(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function a9(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=vo(i),a=ye.min();return s.$t({index:et.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=Sj(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function u9(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return A(this,function(E){switch(E.label){case 0:for(i=H(e),s=Le(),a=gr(),l=uj(),c=0,h=n;c<h.length;c++)p=h[c],g=t.qn(p.metadata.name),p.document&&(s=s.add(g)),a=a.insert(g,t.Un(p)),l=l.insert(g,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,sl(i,function(I){return Er(Nl(Ae.fromString("__bundle__/docs/"+I)))}(r))];case 1:return y=E.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return Mj(I,m,a,ye.min(),l).next(function(w){return m.apply(I),w}).next(function(w){return i.qe.removeMatchingKeysForTargetId(I,y.targetId).next(function(){return i.qe.addMatchingKeys(I,s,y.targetId)}).next(function(){return i.Mn.En(I,w)}).next(function(){return w})})})]}})})}function l9(e,t,n){return n===void 0&&(n=Le()),R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,sl(e,Er(PI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=H(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Ot(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(Sn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c9=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return B.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),B.resolve()},e.prototype.getNamedQuery=function(t,n){return B.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:PI(r.bundledQuery),readTime:Ot(r.readTime)}}(n)),B.resolve()},e}(),LI=function(){function e(){this.Wn=new bt(Nt.Gn),this.zn=new bt(Nt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Nt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Nt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ne(new Ae([])),i=new Nt(r,t),s=new Nt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ne(new Ae([])),r=new Nt(n,t),i=new Nt(n,t+1),s=Le();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Nt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Nt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ne.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||ne.comparator(t.key,n.key)},e}(),f9=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new bt(Nt.Gn)}return e.prototype.checkEmpty=function(t){return B.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new RI(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Nt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return B.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return B.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return B.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return B.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return B.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),B.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new bt(be);return n.forEach(function(s){var a=new Nt(s,0),l=new Nt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),B.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));var a=new Nt(new ne(s),0),l=new bt(be);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),B.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ae(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return B.forEach(n.mutations,function(s){var a=new Nt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Nt(n,0),i=this.rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,B.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),h9=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new hn(ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return B.resolve(r?r.document.clone():Yt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=gr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Yt.newInvalidDocument(s))}),B.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=gr(),s=new ne(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,g=h.readTime;if(!n.path.isPrefixOf(c.path))break;g.compareTo(r)<=0||Dh(n,p)&&(i=i.insert(p.key,p.clone()))}return B.resolve(i)},e.prototype.fs=function(t,n){return B.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new d9(this)},e.prototype.getSize=function(t){return B.resolve(this.size)},e}(),d9=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),B.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Rj),p9=function(){function e(t){this.persistence=t,this.ds=new Al(function(n){return Ph(n)},nm),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ws=0,this._s=new LI,this.targetCount=0,this.ys=zv.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),B.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return B.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return B.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),B.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),B.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new zv(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,B.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),B.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,B.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),B.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return B.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return B.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),B.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),B.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),B.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return B.resolve(r)},e.prototype.containsKey=function(t,n){return B.resolve(this._s.containsKey(n))},e}(),v9=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Yn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new p9(this),this.Ut=new q7,this.Ue=function(i,s){return new h9(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new Ij(n),this.Ke=new c9(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new f9(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("MemoryPersistence","Starting transaction:",t);var s=new g9(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return B.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),g9=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return G(t,e),t}(bj),m9=function(){function e(t){this.persistence=t,this.As=new LI,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ee()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),B.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),B.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),B.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.vs,function(i){var s=ne.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return B.or([function(){return B.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Bt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e,t){return"firestore_clients_"+e+"_"+t}function Px(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function K_(e,t){return"firestore_targets_"+e+"_"+t}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var Ox=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(ht("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),G_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),s?new e(t,i.state,r):(ht("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Dx=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=om(),a=0;i&&a<r.activeTargetIds.length;++a)i=WF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(ht("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),y9=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(ht("SharedClientState","Failed to parse online state: "+t),null)},e}(),WE=function(){function e(){this.activeTargetIds=om()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Q_=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(be),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=xx(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new WE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,g,m=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(xx(this.persistenceKey,i)))&&(a=Dx.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)g=p[h],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(K_(this.persistenceKey,t));if(r){var i=G_.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(K_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(g){var m=Yn.o;if(g!=null)try{var y=JSON.parse(g);ae(typeof y=="number"),m=y}catch(E){ht("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(r.newValue))!==Yn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Ox(this.currentUser,t,n,r),s=Px(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=Px(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=K_(this.persistenceKey,t),s=new G_(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Dx.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ox.Vs(new Bt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return G_.Vs(i,n)},e.prototype.js=function(t){return y9.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=om();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),Uj=function(){function e(){this.li=new WE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new WE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),_9=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Lx=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),w9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},E9=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),b9=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return G(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new J2;c.listenOnce(Q2.COMPLETE,function(){try{switch(c.getLastErrorCode()){case W_.NO_ERROR:var p=c.getResponseJson();z("Connection","XHR received:",JSON.stringify(p)),a(p);break;case W_.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),l(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case W_.HTTP_ERROR:var g=c.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',g,"response text:",c.getResponseText()),g>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(E){var I=E.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(I)>=0?I:D.UNKNOWN}(m.status);l(new j(y,m.message))}else l(new j(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new j(D.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=K2(),a=G2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new X2({})),this.ki(l.initMessageHeaders,r),aT()||iL()||O3()||D3()||L3()||uT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");z("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,g=!1,m=new E9({Ei:function(E){g?z("Connection","Not sending because WebChannel is closed:",E):(p||(z("Connection","Opening WebChannel transport."),h.open(),p=!0),z("Connection","WebChannel sending:",E),h.send(E))},Ti:function(){return h.close()}}),y=function(E,I,w){E.listen(I,function(T){try{w(T)}catch(S){setTimeout(function(){throw S},0)}})};return y(h,fp.EventType.OPEN,function(){g||z("Connection","WebChannel transport opened.")}),y(h,fp.EventType.CLOSE,function(){g||(g=!0,z("Connection","WebChannel transport closed"),m.Vi())}),y(h,fp.EventType.ERROR,function(E){g||(g=!0,zf("Connection","WebChannel transport errored:",E),m.Vi(new j(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,fp.EventType.MESSAGE,function(E){var I;if(!g){var w=E.data[0];ae(!!w);var T=w,S=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(S){z("Connection","WebChannel received error:",S);var N=S.status,P=function(O){var W=ct[O];if(W!==void 0)return aj(W)}(N),M=S.message;P===void 0&&(P=D.INTERNAL,M="Unknown error status: "+N+" with message "+S.message),g=!0,m.Vi(new j(P,M)),h.close()}else z("Connection","WebChannel received:",w),m.Si(w)}}),y(a,Y2.STAT_EVENT,function(E){E.stat===JR.PROXY?z("Connection","Detected buffering proxy"):E.stat===JR.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return z("RestConnection","Received: ",l),l},function(l){throw zf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=w9[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(){return typeof window<"u"?window:null}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){return new C7(e,!0)}var MI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Bj=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new MI(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(ht(n.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new j(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),T9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return G(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:ee()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(w,T){return w.I?(ae(T===void 0||typeof T=="string"),Sn.fromBase64String(T||"")):(ae(T===void 0||T instanceof Uint8Array),Sn.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(w){var T=w.code===void 0?D.UNKNOWN:aj(w.code);return new j(T,w.message||"")}(m);l=new cj(c,h,p,g||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=li(s,c.document.name),p=Ot(c.document.updateTime);var m=new Qn({mapValue:{fields:c.document.fields}}),y=(g=Yt.newFoundDocument(h,p,m),c.targetIds||[]),E=c.removedTargetIds||[];l=new Fp(y,E,g.key,g)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=li(s,c.document),p=c.readTime?Ot(c.readTime):ye.min(),m=Yt.newNoDocument(h,p),g=c.removedTargetIds||[],l=new Fp([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=li(s,c.document),p=c.removedTargetIds||[],l=new Fp([],p,h,null);else{if(!("filter"in a))return ee();a.filter;var I=a.filter;I.targetId,c=I.count||0,h=new y7(c),p=I.targetId,l=new lj(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ye.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?Ot(a.readTime):ye.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Yf(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Uv(c)?{documents:gj(s,c)}:{query:mj(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=fj(s,a.resumeToken):a.snapshotVersion.compareTo(ye.min())>0&&(l.readTime=Gf(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ee()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Yf(this.R),r.removeTarget=n,this.cr(r)},t}(Bj),I9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return G(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ae(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ae(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Ot(c.updateTime):Ot(h);return p.isEqual(ye.min())&&(p=Ot(h)),new v7(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Ot(n.commitTime);return this.listener.Tr(i,r)}return ae(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Yf(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return $v(r.R,s)})};this.cr(i)},t}(Bj),S9=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return G(t,e),t.prototype.br=function(){if(this.Rr)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),k9=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(ht(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),C9=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return ns(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return R(this,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return(h=H(c)).Or.add(4),[4,Rl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Uh(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new k9(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!ns(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Rl(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function am(e,t){var n=H(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),UI(n)?jI(n):Pl(n).er()&&FI(n,t))}function Xf(e,t){var n=H(e),r=Pl(n);n.$r.delete(t),r.er()&&$j(n,t),n.$r.size===0&&(r.er()?r.ir():ns(n)&&n.Br.set("Unknown"))}function FI(e,t){e.qr.U(t.targetId),Pl(e).mr(t)}function $j(e,t){e.qr.U(t),Pl(e).yr(t)}function jI(e){e.qr=new I7({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Pl(e).start(),e.Br.Sr()}function UI(e){return ns(e)&&!Pl(e).tr()&&e.$r.size>0}function ns(e){return H(e).Or.size===0}function qj(e){e.qr=void 0}function N9(e){return R(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,r){FI(e,n)}),[2]})})}function A9(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){return qj(e),UI(e)?(e.Br.Nr(t),jI(e)):e.Br.set("Unknown"),[2]})})}function R9(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof cj&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return R(this,void 0,void 0,function(){var h,p,g,m;return A(this,function(y){switch(y.label){case 0:h=c.cause,p=0,g=c.targetIds,y.label=1;case 1:return p<g.length?(m=g[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Hv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Fp?e.qr.X(t):t instanceof lj?e.qr.rt(t):e.qr.et(t),n.isEqual(ye.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Lj(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),$j(l,p);var m=new sm(g.target,p,1,g.sequenceNumber);FI(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Hv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Hv(e,t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!ka(t))throw t;return e.Or.add(1),[4,Rl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Lj(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Uh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function zj(e,t){return t().catch(function(n){return Hv(e,n,t)})}function xl(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=H(e),n=Qo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return ns(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,s9(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=Qo(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Hv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Wj(t)&&Hj(t),[2]}})})}function Wj(e){return ns(e)&&!Qo(e).tr()&&e.Fr.length>0}function Hj(e){Qo(e).start()}function x9(e){return R(this,void 0,void 0,function(){return A(this,function(t){return Qo(e).Ar(),[2]})})}function P9(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=Qo(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function O9(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=B7.from(r,t,n),[4,zj(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,xl(e)];case 2:return s.sent(),[2]}})})}function D9(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&Qo(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return sj(a=i.code)&&a!==D.ABORTED?(s=r.Fr.shift(),Qo(r).sr(),[4,zj(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,xl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wj(e)&&Hj(e),[2]}})})}function HE(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=H(e),t?(n.Or.delete(2),[4,Uh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Rl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Pl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=H(n);return s.br(),new T9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:N9.bind(null,e),Ri:A9.bind(null,e),_r:R9.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),UI(e)?jI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),qj(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Qo(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=H(n);return s.br(),new I9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:x9.bind(null,e),Ri:D9.bind(null,e),Ir:P9.bind(null,e),Tr:O9.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,xl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(z("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var L9=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ol(e,t){if(ht("AsyncQueue",t+": "+e),ka(e))return new j(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kj=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ne.comparator(n.key,r.key)}:function(n,r){return ne.comparator(n.key,r.key)},this.keyedMap=$E(),this.sortedSet=new hn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Mx=function(){function e(){this.Qr=new hn(ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ee():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Kv=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,Kj.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),M9=function(){this.Wr=void 0,this.listeners=[]},F9=function(){this.queries=new Al(function(e){return YF(e)},Oh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new M9),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Ol(l,"Initialization of query '"+VE(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&$I(n),[2]}})})}function BI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){return n=H(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function j9(e,t){for(var n=H(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&$I(n)}function U9(e,t,n){var r=H(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function $I(e){e.Gr.forEach(function(t){t.next()})}var qI=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Kv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Kv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),V9=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Fx=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return li(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?vj(this.R,t.document,!1):Yt.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Ot(t)},e}(),B9=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=Gj(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new Fx(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],g=(n.get(p)||Le()).add(l);n.set(p,g)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,u9(this.localStore,new Fx(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,l9(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new t9(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qj=function(e){this.key=e},Yj=function(e){this.key=e},Xj=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Le(),this.mutatedKeys=Le(),this.lo=XF(t),this.fo=new Kj(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Mx,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Lp(this.query)&&s.size===this.query.limit?s.last():null,p=Bv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var E=s.get(m),I=Dh(r.query,y)?y:null,w=!!E&&r.mutatedKeys.has(E.key),T=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),S=!1;E&&I?E.data.isEqual(I.data)?w!==T&&(i.track({type:3,doc:I}),S=!0):r.yo(E,I)||(i.track({type:2,doc:I}),S=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(c=!0)):!E&&I?(i.track({type:0,doc:I}),S=!0):E&&!I&&(i.track({type:1,doc:E}),S=!0,(h||p)&&(c=!0)),S&&(I?(l=l.add(I),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Lp(this.query)||Bv(this.query))for(;l.size>this.query.limit;){var g=Lp(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(m,y){var E=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return E(m)-E(y)}(p.type,g.type)||i.lo(p.doc,g.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Kv(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Mx,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Le(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Yj(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new Qj(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Le();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Kv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),$9=function(e,t,n){this.query=e,this.targetId=t,this.view=n},q9=function(e){this.key=e,this.bo=!1},z9=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Al(function(l){return YF(l)},Oh),this.Vo=new Map,this.So=new Set,this.Do=new hn(ne.comparator),this.Co=new Map,this.No=new LI,this.xo={},this.ko=new Map,this.Fo=zv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function W9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=GI(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,sl(n.localStore,Er(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,zI(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&am(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function zI(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return e.Oo=function(g,m,y){return function(E,I,w,T){return R(this,void 0,void 0,function(){var S,N,P;return A(this,function(M){switch(M.label){case 0:return S=I.view._o(w),S.Nn?[4,Wv(E.localStore,I.query,!1).then(function(O){var W=O.documents;return I.view._o(W,S)})]:[3,2];case 1:S=M.sent(),M.label=2;case 2:return N=T&&T.targetChanges.get(I.targetId),P=I.view.applyChanges(S,E.isPrimaryClient,N),[2,(KE(E,I.targetId,P.To),P.snapshot)]}})})}(e,g,m,y)},[4,Wv(e.localStore,t,!0)];case 1:return i=p.sent(),s=new Xj(t,i.Bn),a=s._o(i.documents),l=CI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),KE(e,n,c.To),h=new $9(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function H9(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Oh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,al(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Xf(n.remoteStore,r.targetId),ul(n,r.targetId)}).catch(Ca)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ul(n,r.targetId),[4,al(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function K9(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=QI(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,g=H(c),m=Un.now(),y=h.reduce(function(E,I){return E.add(I.key)},Le());return g.persistence.runTransaction("Locally write mutations","readwrite",function(E){return g.Mn.pn(E,y).next(function(I){p=I;for(var w=[],T=0,S=h;T<S.length;T++){var N=S[T],P=m7(N,p.get(N.key));P!=null&&w.push(new ts(N.key,P,HF(P.value.mapValue),rn.exists(!0)))}return g._n.addMutationBatch(E,m,w,h)})}).then(function(E){return E.applyToLocalDocumentSet(p),{batchId:E.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var g=c.xo[c.currentUser.toKey()];g||(g=new hn(be)),g=g.insert(h,p),c.xo[c.currentUser.toKey()]=g}(r,i.batchId,n),[4,Qi(r,i.changes)];case 3:return l.sent(),[4,xl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Ol(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Jj(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=H(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,o9(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ae(l.bo):s.removedDocuments.size>0&&(ae(l.bo),l.bo=!1))}),[4,Qi(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ca(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function jx(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=H(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].zr(a)&&(c=!0)}),c&&$I(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function G9(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new hn(ne.comparator)).insert(s,Yt.newNoDocument(s,ye.min())),l=Le().add(s),c=new kI(ye.min(),new Map,new bt(be),a,l),[4,Jj(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),KI(r),[3,4];case 2:return[4,al(r.localStore,t,!1).then(function(){return ul(r,t,n)}).catch(Ca)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function Q9(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,i9(n.localStore,t)];case 2:return i=s.sent(),HI(n,r,null),WI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qi(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ca(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Y9(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=H(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(g){return ae(g!==null),p=g.keys(),c._n.removeMutationBatch(h,g)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),HI(r,t,n),WI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Qi(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ca(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function X9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:ns((n=H(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=H(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=Ol(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function WI(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function HI(e,t,n){var r=H(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ul(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||Zj(e,a)})}function Zj(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Xf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),KI(e))}function KE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Qj?(e.No.addReference(s.key,t),J9(e,s)):s instanceof Yj?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Zj(e,s.key)):ee()}}function J9(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),KI(e))}function KI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ne(Ae.fromString(t)),r=e.Fo.next();e.Co.set(r,new q9(n)),e.Do=e.Do.insert(n,r),am(e.remoteStore,new sm(Er(Nl(n.path)),r,2,Yn.o))}}function Qi(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r=H(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var g=n9.Pn(h.targetId,p);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return R(this,void 0,void 0,function(){var p,g,m,y,E,I,w,T,S;return A(this,function(N){switch(N.label){case 0:p=H(c),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return B.forEach(h,function(M){return B.forEach(M.bn,function(O){return p.persistence.referenceDelegate.addReference(P,M.targetId,O)}).next(function(){return B.forEach(M.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,M.targetId,O)})})})})];case 2:return N.sent(),[3,4];case 3:if(!ka(g=N.sent()))throw g;return z("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,y=h;m<y.length;m++)E=y[m],I=E.targetId,E.fromCache||(w=p.kn.get(I),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T),p.kn=p.kn.insert(I,S));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Z9(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,Dj(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new j(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Qi(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function eQ(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Le().add(r.key);var i=Le(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function tQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Wv((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&KE(n,t.targetId,i.To),i)]}})})}function nQ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,jj((t=H(e)).localStore).then(function(r){return Qi(t,r)})]})})}function rQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=H(l),p=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,c).next(function(m){return m?h.Mn.pn(g,m):B.resolve(null)})})}((i=H(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,xl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(HI(i,t,r||null),WI(i,t),function(l,c){H(H(l)._n).Gt(c)}(i.localStore,t)):ee(),a.label=4;case 4:return[4,Qi(i,s)];case 5:return a.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function iQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return GI(n=H(e)),QI(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ux(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,HE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],am(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return ul(n,m),al(n.localStore,m,!0)}),Xf(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,Ux(n,c)];case 5:return p.sent(),function(g){var m=H(g);m.Co.forEach(function(y,E){Xf(m.remoteStore,E)}),m.No.ts(),m.Co=new Map,m.Do=new hn(ne.comparator)}(n),n.$o=!1,[4,HE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function Ux(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m,y,E,I,w;return A(this,function(T){switch(T.label){case 0:r=H(e),i=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,sl(r.localStore,Er(p[0]))]:[3,7]):[3,13];case 2:h=T.sent(),g=0,m=p,T.label=3;case 3:return g<m.length?(y=m[g],E=r.Po.get(y),[4,tQ(r,E)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,Fj(r.localStore,c)];case 8:return w=T.sent(),[4,sl(r.localStore,w)];case 9:return h=T.sent(),[4,zI(r,eU(w),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(h),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function eU(e){return GF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function oQ(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function sQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return(i=H(e)).$o?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jj(i.localStore)];case 3:return s=l.sent(),a=kI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Qi(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,al(i.localStore,t,!0)];case 6:return l.sent(),ul(i,t,r),[3,8];case 7:ee(),l.label=8;case 8:return[2]}})})}function aQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:if(!(r=GI(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(z("SyncEngine","Adding an already active target "+a),[3,5]):[4,Fj(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,sl(r.localStore,l)];case 3:return c=y.sent(),[4,zI(r,eU(l),c.targetId,!1)];case 4:y.sent(),am(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(E){return A(this,function(I){switch(I.label){case 0:return r.Vo.has(E)?[4,al(r.localStore,E,!1).then(function(){Xf(r.remoteStore,E),ul(r,E)}).catch(Ca)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,g=n,y.label=7;case 7:return p<g.length?(m=g[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function GI(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G9.bind(null,t),t.vo._r=j9.bind(null,t.eventManager),t.vo.Mo=U9.bind(null,t.eventManager),t}function QI(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Q9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y9.bind(null,t),t}function uQ(e,t,n){var r=H(e);(function(i,s,a){return R(this,void 0,void 0,function(){var l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(E,I){var w=H(E),T=Ot(I.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",function(S){return w.Ke.getBundleMetadata(S,I.id)}).then(function(S){return!!S&&S.createTime.compareTo(T)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}}(l)))];case 4:return a._updateProgress(Gj(l)),c=new B9(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return g=y.sent(),[4,Qi(i,g.wn,void 0)];case 12:return y.sent(),[4,function(E,I){var w=H(E);return w.persistence.runTransaction("Save bundle","readwrite",function(T){return w.Ke.saveBundleMetadata(T,I)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(g.progress),[3,15];case 14:return zf("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var tU=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Oj(this.persistence,new Pj,t.initialUser,this.R)},e.prototype.qo=function(t){return new v9(m9.bs,this.R)},e.prototype.Bo=function(t){return new Uj},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),nU=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return G(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,a9(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,QI(this.Qo.syncEngine)];case 4:return i.sent(),[4,xl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Oj(this.persistence,new Pj,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new G7(r,n.asyncQueue)},t.prototype.qo=function(n){var r=DI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new e9(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Vj(),jp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Uj},t}(tU),lQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return G(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Q_?(this.sharedClientState.syncEngine={ui:rQ.bind(null,r),ai:sQ.bind(null,r),hi:aQ.bind(null,r),fn:oQ.bind(null,r),ci:nQ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,iQ(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Vj();if(!Q_.yt(r))throw new j(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=DI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Q_(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(nU),GE=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return jx(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Z9.bind(null,this.syncEngine),[4,HE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new F9},e.prototype.createDatastore=function(t){var n,r=jh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new b9(n));return function(s,a,l){return new S9(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return jx(l.syncEngine,c,0)},a=Lx.yt()?new Lx:new _9,new C9(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new z9(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=H(t),z("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Rl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),cQ=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new fn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new V9(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),fQ=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:return l=H(s),c=Yf(l.R)+"/documents",h={documents:a.map(function(E){return Qf(l.R,E)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),g=new Map,p.forEach(function(E){var I=function(w,T){return"found"in T?function(S,N){ae(!!N.found),N.found.name,N.found.updateTime;var P=li(S,N.found.name),M=Ot(N.found.updateTime),O=new Qn({mapValue:{fields:N.found.fields}});return Yt.newFoundDocument(P,M,O)}(w,T):"missing"in T?function(S,N){ae(!!N.missing),ae(!!N.readTime);var P=li(S,N.missing),M=Ot(N.readTime);return Yt.newNoDocument(P,M)}(w,T):ee()}(l.R,E);g.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(E){var I=g.get(E.toString());ae(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Fh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ne.fromPath(s);n.mutations.push(new SI(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,l,c;return A(this,function(h){switch(h.label){case 0:return a=H(i),l=Yf(a.R)+"/documents",c={writes:s.map(function(p){return $v(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ee();n=ye.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?rn.updateTime(n):rn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new j(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),hQ=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new MI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new fQ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Sa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!sj(n)}return!1},e}(),dQ=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Bt.UNAUTHENTICATED,this.clientId=VF.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return R(i,void 0,void 0,function(){return A(this,function(a){switch(a.label){case 0:return z("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Ol(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,Dj(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function iU(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,YI(e)];case 1:return n=i.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return R(this,void 0,void 0,function(){var c,h;return A(this,function(p){switch(p.label){case 0:return(c=H(a)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=ns(c),c.Or.add(3),[4,Rl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,Uh(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function YI(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,rU(e,new tU)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function lm(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,iU(e,new GE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Bx(e){return YI(e).then(function(t){return t.persistence})}function XI(e){return YI(e).then(function(t){return t.localStore})}function $x(e){return lm(e).then(function(t){return t.remoteStore})}function JI(e){return lm(e).then(function(t){return t.syncEngine})}function ll(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,lm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=W9.bind(null,t.syncEngine),n.onUnlisten=H9.bind(null,t.syncEngine),n)]}})})}function qx(e,t,n){var r=this;n===void 0&&(n={});var i=new fn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new um({next:function(E){c.enqueueAndForget(function(){return BI(l,y)});var I=E.docs.has(h);!I&&E.fromCache?g.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&p&&p.source==="server"?g.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),y=new qI(Nl(h.path),m,{includeMetadataChanges:!0,so:!0});return VI(l,y)},[4,ll(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function zx(e,t,n){var r=this;n===void 0&&(n={});var i=new fn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new um({next:function(E){c.enqueueAndForget(function(){return BI(l,y)}),E.fromCache&&p.source==="server"?g.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),y=new qI(h,m,{includeMetadataChanges:!0,so:!0});return VI(l,y)},[4,ll(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var pQ=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Gv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Wx=new Map,oU=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Hx=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Bt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),vQ=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),gQ=function(){function e(t){var n=this;this.currentUser=Bt.UNAUTHENTICATED,this.oc=new fn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){z("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(z("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ae(typeof i.accessToken=="string"),new oU(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new Bt(t)},e}(),mQ=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),yQ=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new mQ(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Bt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e,t,n){if(!n)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function eS(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sU(e,t,n,r){if(t===!0&&r===!0)throw new j(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Kx(e){if(!ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Gx(e){if(ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ee()}function Ce(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cm(e);throw new j(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Qx(e,t){if(t<=0)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yx=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Jf=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yx({}),this._settingsFrozen=!1,t instanceof Gv?(this._databaseId=t,this._credentials=new Hx):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gv(r.options.projectId)}(t),this._credentials=new gQ(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yx(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Hx;switch(n.type){case"gapi":var r=n.client;return ae(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yQ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Wx.get(t))&&(z("ComponentProvider","Removing Datastore"),Wx.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Je=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Vn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Fo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Nl(i))||this)._path=i,s.type="collection",s}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Je(this.firestore,null,new ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),ZI("collection","path",t),e instanceof Jf)return Gx(n=Ae.fromString.apply(Ae,ve([t],r))),new Fo(e,null,n);if(!(e instanceof Je||e instanceof Fo))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gx(n=Ae.fromString.apply(Ae,ve([e.path],r)).child(Ae.fromString(t))),new Fo(e.firestore,null,n)}function Up(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),arguments.length===1&&(t=VF.u()),ZI("doc","path",t),e instanceof Jf)return Kx(n=Ae.fromString.apply(Ae,ve([t],r))),new Je(e,null,new ne(n));if(!(e instanceof Je||e instanceof Fo))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kx(n=e._path.child(Ae.fromString.apply(Ae,ve([t],r)))),new Je(e.firestore,e instanceof Fo?e.converter:null,new ne(n))}function uU(e,t){return e=de(e),t=de(t),(e instanceof Je||e instanceof Fo)&&(t instanceof Je||t instanceof Fo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lU(e,t){return e=de(e),t=de(t),e instanceof Vn&&t instanceof Vn&&e.firestore===t.firestore&&Oh(e._query,t._query)&&e.converter===t.converter}var _Q=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new MI(this,"async_queue_retry"),this.Ic=function(){var r=jp();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new fn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ka(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=L9.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ee()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function cl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var wQ=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),EQ=-1,at=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new _Q,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return G(t,e),t.prototype._terminate=function(){return this._firestoreClient||cU(this),this._firestoreClient.terminate()},t}(Jf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e){return e._firestoreClient||cU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new pQ(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dQ(e._credentials,e._queue,r)}function Xx(e,t,n){var r=this,i=new fn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,rU(e,n)];case 1:return a.sent(),[4,iU(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Jx(e){if(e._initialized||e._terminated)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ca=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Sn.fromBase64String(t))}catch(n){throw new j(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Sn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Na=function(e){this._methodName=e},fm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),bQ=/^__.*__$/,TQ=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new Mh(t,this.data,n,this.fieldTransforms)},e}(),fU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ts(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var dU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Qv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(hU(this.Nc)&&bQ.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),IQ=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||jh(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new dU({Nc:t,methodName:n,qc:r,path:zr.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Aa(e){var t=e._freezeSettings(),n=jh(e._databaseId);return new IQ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);iS("Data must be an object, but it was:",a,r);var l,c,h=gU(r,a);if(s.merge)l=new Qu(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],g=0,m=s.mergeFields;g<m.length;g++){var y=QE(t,m[g],n);if(!a.contains(y))throw new j(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");yU(p,y)||p.push(y)}l=new Qu(p),c=a.fieldTransforms.filter(function(E){return l.covers(E.field)})}else l=null,c=a.fieldTransforms;return new TQ(new Qn(h),l,c)}var tS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Na);function pU(e,t,n){return new dU({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var SQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){return new Lh(n.path,new Zu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Na),kQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=pU(this,n,!0),i=this.Kc.map(function(a){return Ra(a,r)}),s=new ua(i);return new Lh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Na),CQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=pU(this,n,!0),i=this.Kc.map(function(a){return Ra(a,r)}),s=new la(i);return new Lh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Na),NQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=new el(n.R,ej(n.R,this.Qc));return new Lh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Na);function nS(e,t,n,r){var i=e.Uc(1,t,n);iS("Data must be an object, but it was:",i,r);var s=[],a=Qn.empty();Ia(r,function(c,h){var p=oS(t,c,n);h=de(h);var g=i.Oc(p);if(h instanceof tS)s.push(p);else{var m=Ra(h,g);m!=null&&(s.push(p),a.set(p,m))}});var l=new Qu(s);return new fU(a,l,i.fieldTransforms)}function rS(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[QE(t,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(QE(t,s[h])),c.push(s[h+1]);for(var p=[],g=Qn.empty(),m=l.length-1;m>=0;--m)if(!yU(p,l[m])){var y=l[m],E=c[m];E=de(E);var I=a.Oc(y);if(E instanceof tS)p.push(y);else{var w=Ra(E,I);w!=null&&(p.push(y),g.set(y,w))}}var T=new Qu(p);return new fU(g,T,a.fieldTransforms)}function vU(e,t,n,r){return r===void 0&&(r=!1),Ra(n,e.Uc(r?4:3,t))}function Ra(e,t){if(mU(e=de(e)))return iS("Unsupported field value:",t,e),gU(e,t);if(e instanceof Na)return function(n,r){if(!hU(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Ra(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=de(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ej(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Un.fromDate(n);return{timestampValue:Gf(r.R,i)}}if(n instanceof Un)return i=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Gf(r.R,i)};if(n instanceof fm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ca)return{bytesValue:fj(r.R,n._byteString)};if(n instanceof Je){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:NI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+cm(n))}(e,t)}function gU(e,t){var n={};return $F(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ia(e,function(r,i){var s=Ra(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof fm||e instanceof ca||e instanceof Je||e instanceof Na)}function iS(e,t,n){if(!mU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=cm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function QE(e,t,n){if((t=de(t))instanceof ci)return t._internalPath;if(typeof t=="string")return oS(e,t);throw Qv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var AQ=new RegExp("[~\\*/\\[\\]]");function oS(e,t,n){if(t.search(AQ)>=0)throw Qv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(ci.bind.apply(ci,ve([void 0],t.split("."))))()._internalPath}catch{throw Qv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Qv(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new j(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function yU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Je(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new RQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Yv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),RQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Zf);function Yv(e,t){return typeof t=="string"?oS(e,t):t instanceof ci?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Ui=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return G(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Yv("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Zf),pf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Ui),_o=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $s(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new pf(r._firestore,r._userDataWriter,i.key,i,new $s(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new pf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new $s(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new pf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new $s(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:xQ(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function xQ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function _U(e,t){return e instanceof Ui&&t instanceof Ui?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _o&&t instanceof _o&&e._firestore===t._firestore&&lU(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(e){if(Bv(e)&&e.explicitOrderBy.length===0)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vh=function(){};function fo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var PQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return G(t,e),t.prototype._apply=function(n){var r=Aa(n.firestore),i=function(s,a,l,c,h,p,g){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){rP(g,p);for(var y=[],E=0,I=g;E<I.length;E++){var w=I[E];y.push(nP(c,s,w))}m={arrayValue:{values:y}}}else m=nP(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||rP(g,p),m=vU(l,"where",g,p==="in"||p==="not-in");var T=Xn.create(h,p,m);return function(S,N){if(N.g()){var P=TI(S);if(P!==null&&!P.isEqual(N.field))throw new j(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+N.field.toString()+"'");var M=bI(S);M!==null&&bU(S,N.field,M)}var O=function(W,U){for(var Q=0,x=W.filters;Q<x.length;Q++){var wi=x[Q];if(U.indexOf(wi.op)>=0)return wi.op}return null}(S,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(O!==null)throw O===N.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+N.op.toString()+"' filter."):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+N.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Gi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Vh),OQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return G(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ou(s,a);return function(c,h){if(bI(c)===null){var p=TI(c);p!==null&&bU(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Vn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Gi(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Vh),Zx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return G(t,e),t.prototype._apply=function(n){return new Vn(n.firestore,n.converter,QF(n._query,this.Hc,this.Jc))},t}(Vh),eP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=EU(n,this.type,this.Yc,this.Xc);return new Vn(n.firestore,n.converter,function(i,s){return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Vh),tP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=EU(n,this.type,this.Yc,this.Xc);return new Vn(n.firestore,n.converter,function(i,s){return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Vh);function EU(e,t,n,r){if(n[0]=de(n[0]),n[0]instanceof Zf)return function(s,a,l,c,h){if(!c)throw new j(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=Ju(s);g<m.length;g++){var y=m[g];if(y.field.isKeyField())p.push(jv(a,c.key));else{var E=c.data.field(y.field);if(_I(E))throw new j(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var I=y.field.canonicalString();throw new j(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(E)}}return new Kf(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Aa(e.firestore);return function(s,a,l,c,h,p){var g=s.explicitOrderBy;if(h.length>g.length)throw new j(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var E=h[y];if(g[y].field.isKeyField()){if(typeof E!="string")throw new j(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof E);if(!II(s)&&E.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+E+"' contains a slash.");var I=s.path.child(Ae.fromString(E));if(!ne.isDocumentKey(I))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var w=new ne(I);m.push(jv(a,w))}else{var T=vU(l,c,E);m.push(T)}}return new Kf(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function nP(e,t,n){if(typeof(n=de(n))=="string"){if(n==="")throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!II(t)&&n.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ae.fromString(n));if(!ne.isDocumentKey(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jv(e,new ne(r))}if(n instanceof Je)return jv(e,n._key);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cm(n)+".")}function rP(e,t){if(!Array.isArray(e)||e.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bU(e,t,n){if(!n.isEqual(t))throw new j(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sS=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ee()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ia(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new fm(ft(t.latitude),ft(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=zF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Go(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ae.fromString(t);ae(wj(r));var i=new Gv(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||ht("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var DQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new ca(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Je(this.firestore,null,r)},t}(sS),LQ=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Aa(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=wo(t,this._firestore),s=dm(i.converter,n,r),a=hm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,rn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=wo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof ci?rS(this._dataReader,"WriteBatch.update",l._key,n,r,i):nS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,rn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=wo(t,this._firestore);return this._mutations=this._mutations.concat(new Fh(n._key,rn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e,t){if((e=de(e)).firestore!==t)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new ca(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Je(this.firestore,null,r)},t}(sS);function iP(e,t,n){e=Ce(e,Je);var r=Ce(e.firestore,at),i=dm(e.converter,t,n);return Bh(r,[hm(Aa(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,rn.none())])}function oP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ce(e,Je);var s=Ce(e.firestore,at),a=Aa(s);return Bh(s,[(typeof(t=de(t))=="string"||t instanceof ci?rS(a,"updateDoc",e._key,t,n,r):nS(a,"updateDoc",e._key,t)).toMutation(e._key,rn.exists(!0))])}function TU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=de(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||cl(i[l])||(a=i[l],l++);var c,h,p,g={includeMetadataChanges:a.includeMetadataChanges};if(cl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Je)h=Ce(e.firestore,at),p=Nl(e._key.path),c={next:function(I){i[l]&&i[l](YE(h,e,I))},error:i[l+1],complete:i[l+2]};else{var y=Ce(e,Vn);h=Ce(y.firestore,at),p=y._query;var E=new Qs(h);c={next:function(I){i[l]&&i[l](new _o(h,E,y,I))},error:i[l+1],complete:i[l+2]},wU(e._query)}return function(I,w,T,S){var N=this,P=new um(S),M=new qI(w,P,T);return I.asyncQueue.enqueueAndForget(function(){return R(N,void 0,void 0,function(){var O;return A(this,function(W){switch(W.label){case 0:return O=VI,[4,ll(I)];case 1:return[2,O.apply(void 0,[W.sent(),M])]}})})}),function(){P.Wo(),I.asyncQueue.enqueueAndForget(function(){return R(N,void 0,void 0,function(){var O;return A(this,function(W){switch(W.label){case 0:return O=BI,[4,ll(I)];case 1:return[2,O.apply(void 0,[W.sent(),M])]}})})})}}(xt(h),p,g,c)}function Bh(e,t){return function(n,r){var i=this,s=new fn;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return A(this,function(l){switch(l.label){case 0:return a=K9,[4,JI(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(xt(e),t)}function YE(e,t,n){var r=n.docs.get(t._key),i=new Qs(e);return new Ui(e,i,t._key,r,new $s(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return G(t,e),t.prototype.get=function(n){var r=this,i=wo(n,this._firestore),s=new Qs(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Ui(r._firestore,s,i._key,a._document,new $s(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Aa(t)}return e.prototype.get=function(t){var n=this,r=wo(t,this._firestore),i=new DQ(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ee();var a=s[0];if(a.isFoundDocument())return new Zf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Zf(n._firestore,i,r._key,null,r.converter);throw ee()})},e.prototype.set=function(t,n,r){var i=wo(t,this._firestore),s=dm(i.converter,n,r),a=hm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=wo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof ci?rS(this._dataReader,"Transaction.update",l._key,n,r,i):nS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=wo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){if(typeof Uint8Array>"u")throw new j(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function aP(){if(typeof atob>"u")throw new j(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var IU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return aP(),new e(ca.fromBase64String(t))},e.fromUint8Array=function(t){return sP(),new e(ca.fromUint8Array(t))},e.prototype.toBase64=function(){return aP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return sP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),FQ=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Jx(r=Ce(r,at));var s=xt(r),a=r._freezeSettings(),l=new GE;return Xx(s,l,new nU(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Jx(n=Ce(n,at));var r=xt(n),i=n._freezeSettings(),s=new GE;return Xx(r,s,new lQ(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new fn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return rl.yt()?(c=l+"main",[4,rl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(DI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),aS=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Gv||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||zf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=Ce(i,Jf))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&zf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=Bt.MOCK_USER;else{p=sT(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new j(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bt(m)}i._credentials=new vQ(new oU(p,g))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,Bx(t)];case 1:return r=s.sent(),[4,$x(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=H(a);return l.Or.delete(0),Uh(l)}(i))]}})})})}(xt(Ce(this._delegate,at)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,Bx(t)];case 1:return r=s.sent(),[4,$x(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return(l=H(a)).Or.add(0),[4,Rl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(xt(Ce(this._delegate,at)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&sU("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new fn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=X9,[4,JI(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(xt(Ce(this._delegate,at)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new um(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,g){H(p).Gr.add(g),g.next()},[4,ll(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,g){H(p).Gr.delete(g)},[4,ll(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(xt(n=Ce(n,at)),cl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Xv(this,aU(this._delegate,t))}catch(n){throw yn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ys(this,Up(this._delegate,t))}catch(n){throw yn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new $h(this,function(n,r){if(n=Ce(n,Jf),ZI("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vn(n,null,function(i){return new Gi(Ae.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw yn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new fn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return[4,function(g){return lm(g).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new hQ(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(xt(r),function(s){return i(new MQ(r,s))})}(this._delegate,function(r){return t(new SU(n,r))})},e.prototype.batch=function(){var t=this;return xt(this._delegate),new kU(new LQ(this._delegate,function(n){return Bh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),pm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new IU(new ca(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ys.eu(r,this.firestore,null)},t}(sS);function jQ(e){var t;t=e,$r.setLogLevel(t)}var SU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new pm(t)}return e.prototype.get=function(t){var n=this,r=qs(t);return this._delegate.get(r).then(function(i){return new eh(n._firestore,new Ui(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=qs(t);return r?(eS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=qs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=qs(t);return this._delegate.delete(n),this},e}(),kU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=qs(t);return r?(eS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=qs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=qs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),vm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new pf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new th(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new pm(t),n),i.set(n,s)),s},e}();vm.su=new WeakMap;var Ys=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new pm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Je(n._delegate,r,new ne(t)))},e.eu=function(t,n,r){return new e(n,new Je(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Xv(this.firestore,aU(this._delegate,t))}catch(n){throw yn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=de(t))instanceof Je&&uU(this._delegate,t)},e.prototype.set=function(t,n){n=eS("DocumentReference.set",n);try{return n?iP(this._delegate,t,n):iP(this._delegate,t)}catch(r){throw yn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oP(this._delegate,t):oP.apply(void 0,ve([this._delegate,t,n],r))}catch(s){throw yn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Bh(Ce((t=this._delegate).firestore,at),[new Fh(t._key,rn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=CU(n),s=NU(n,function(a){return new eh(t.firestore,new Ui(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return TU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,Je);var i=Ce(r.firestore,at),s=xt(i),a=new Qs(i);return function(l,c){var h=this,p=new fn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return A(this,function(m){switch(m.label){case 0:return g=function(y,E,I){return R(this,void 0,void 0,function(){var w,T;return A(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(N,P){var M=H(N);return M.persistence.runTransaction("read document","readonly",function(O){return M.Mn.mn(O,P)})}(y,E)];case 1:return(T=S.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new j(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=S.sent(),T=Ol(w,"Failed to get document '"+E+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,XI(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new Ui(i,a,r._key,l,new $s(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,Je);var i=Ce(r.firestore,at);return qx(xt(i),r._key,{source:"server"}).then(function(s){return YE(i,r,s)})}(this._delegate):function(r){r=Ce(r,Je);var i=Ce(r.firestore,at);return qx(xt(i),r._key).then(function(s){return YE(i,r,s)})}(this._delegate)).then(function(r){return new eh(n.firestore,new Ui(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yn(e,t,n){return e.message=e.message.replace(t,n),e}function CU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!cl(r))return r}return{}}function NU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=cl(e[0])?e[0]:cl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var eh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ys(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return _U(this._delegate,t._delegate)},e}(),th=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(eh),$h=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new pm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,fo(this._delegate,function(i,s,a){var l=s,c=Yv("where",i);return new PQ(c,l,a)}(t,n,r)))}catch(i){throw yn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,fo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Yv("orderBy",r);return new OQ(a,s)}(t,n)))}catch(r){throw yn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,fo(this._delegate,function(n){return Qx("limit",n),new Zx("limit",n,"F")}(t)))}catch(n){throw yn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,fo(this._delegate,function(n){return Qx("limitToLast",n),new Zx("limitToLast",n,"L")}(t)))}catch(n){throw yn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eP("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw yn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eP("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw yn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tP("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw yn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tP("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw yn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lU(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,Vn);var i=Ce(r.firestore,at),s=xt(i),a=new Qs(i);return function(l,c){var h=this,p=new fn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return A(this,function(m){switch(m.label){case 0:return g=function(y,E,I){return R(this,void 0,void 0,function(){var w,T,S,N,P;return A(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,Wv(y,E,!0)];case 1:return P=M.sent(),w=new Xj(E,P.Bn),T=w._o(P.documents),S=w.applyChanges(T,!1),I.resolve(S.snapshot),[3,3];case 2:return N=M.sent(),P=Ol(N,"Failed to execute query '"+E+" against cache"),I.reject(P),[3,3];case 3:return[2]}})})},[4,XI(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new _o(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,Vn);var i=Ce(r.firestore,at),s=xt(i),a=new Qs(i);return zx(s,r._query,{source:"server"}).then(function(l){return new _o(i,a,r,l)})}(this._delegate):function(r){r=Ce(r,Vn);var i=Ce(r.firestore,at),s=xt(i),a=new Qs(i);return wU(r._query),zx(s,r._query).then(function(l){return new _o(i,a,r,l)})}(this._delegate)).then(function(r){return new XE(n.firestore,new _o(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=CU(n),s=NU(n,function(a){return new XE(t.firestore,new _o(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return TU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),UQ=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new th(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),XE=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new $h(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new th(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new UQ(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new th(r._firestore,i))})},e.prototype.isEqual=function(t){return _U(this._delegate,t._delegate)},e}(),Xv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ys(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ys(this.firestore,n===void 0?Up(this._delegate):Up(this._delegate,n))}catch(r){throw yn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ce(i.firestore,at),l=Up(i),c=dm(i.converter,s);return Bh(a,[hm(Aa(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,rn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Ys(r.firestore,i)})},t.prototype.isEqual=function(n){return uU(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(vm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}($h);function qs(e){return Ce(e,Je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VQ=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(ci.bind.apply(ci,ve([void 0],t)))}return e.documentId=function(){return new e(zr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=de(t))instanceof ci&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),BQ=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new SQ("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new tS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new kQ("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new CQ("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new NQ("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(e){return function(t,n){var r=xt(t=Ce(t,at)),i=new wQ;return function(s,a,l,c){var h=this,p=function(g,m){return function(y,E){return new cQ(y,E)}(function(y,E){if(y instanceof Uint8Array)return Vx(y,E);if(y instanceof ArrayBuffer)return Vx(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof g=="string"?new TextEncoder().encode(g):g),m)}(l,jh(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return A(this,function(m){switch(m.label){case 0:return g=uQ,[4,JI(s)];case 1:return g.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function qQ(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return l=function(h,p){var g=H(h);return g.persistence.runTransaction("Get named query","readonly",function(m){return g.Ke.getNamedQuery(m,p)})},[4,XI(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(xt(t=Ce(t,at)),n).then(function(i){return i?new Vn(t,null,i.query):null})).then(function(i){return i?new $h(r,i):null})}var zQ={Firestore:aS,GeoPoint:fm,Timestamp:Un,Blob:IU,Transaction:SU,WriteBatch:kU,DocumentReference:Ys,DocumentSnapshot:eh,Query:$h,QueryDocumentSnapshot:th,QuerySnapshot:XE,CollectionReference:Xv,FieldPath:VQ,FieldValue:BQ,setLogLevel:jQ,CACHE_SIZE_UNLIMITED:EQ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(e){(function(t,n){t.INTERNAL.registerComponent(new cn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},zQ)))})(e,function(t,n){return new aS(t,new at(t,n),new FQ)}),e.registerVersion("@firebase/firestore","2.4.1")}WQ(te);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(e){e.prototype.loadBundle=$Q,e.prototype.namedQuery=qQ}HQ(aS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Du=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function KQ(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function GQ(e,t,n){var r=KQ(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!uP[l])return new Du("internal","internal");r=uP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Du(r,i,s)}var QQ=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YQ="type.googleapis.com/google.protobuf.Int64Value",XQ="type.googleapis.com/google.protobuf.UInt64Value";function lP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var JQ=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return lP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case YQ:case XQ:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?lP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Du("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var cP=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new JQ,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new QQ(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y,E,I;return A(this,function(w){switch(w.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=w.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=ZQ(c),p=h.timer,g=h.promise,[4,Promise.race([fP(p,this.postJSON(i,s,a)),g,fP(p,this.cancelAllRequests)])];case 2:if(m=w.sent(),!m)throw new Du("cancelled","Firebase Functions instance was deleted.");if(y=GQ(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Du("internal","Response is not valid JSON object.");if(E=m.json.data,typeof E>"u"&&(E=m.json.result),typeof E>"u")throw new Du("internal","Response is missing data field.");return I=this.serializer.decode(E),[2,{data:I}]}})})},e}();function fP(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eY="functions";function tY(e,t){var n={Functions:cP};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new cP(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new cn(eY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var nY="@firebase/functions",rY="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tY(te,fetch.bind(self));te.registerVersion(nY,rY);function iY(e){return Array.prototype.slice.call(e)}function AU(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function gm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),AU(r).then(s,a)});return i.request=r,i}function oY(e,t,n){var r=gm(e,t,n);return r.then(function(i){if(i)return new nh(i,r.request)})}function Dl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function uS(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return gm(this[t],i,arguments)})})}function mm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function RU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return oY(this[t],i,arguments)})})}function xa(e){this._index=e}Dl(xa,"_index",["name","keyPath","multiEntry","unique"]);uS(xa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);RU(xa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function nh(e,t){this._cursor=e,this._request=t}Dl(nh,"_cursor",["direction","key","primaryKey","value"]);uS(nh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(nh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),AU(t._request).then(function(r){if(r)return new nh(r,t._request)})})})});function _i(e){this._store=e}_i.prototype.createIndex=function(){return new xa(this._store.createIndex.apply(this._store,arguments))};_i.prototype.index=function(){return new xa(this._store.index.apply(this._store,arguments))};Dl(_i,"_store",["name","keyPath","indexNames","autoIncrement"]);uS(_i,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);RU(_i,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);mm(_i,"_store",IDBObjectStore,["deleteIndex"]);function qh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}qh.prototype.objectStore=function(){return new _i(this._tx.objectStore.apply(this._tx,arguments))};Dl(qh,"_tx",["objectStoreNames","mode"]);mm(qh,"_tx",IDBTransaction,["abort"]);function ym(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new qh(n)}ym.prototype.createObjectStore=function(){return new _i(this._db.createObjectStore.apply(this._db,arguments))};Dl(ym,"_db",["name","version","objectStoreNames"]);mm(ym,"_db",IDBDatabase,["deleteObjectStore","close"]);function _m(e){this._db=e}_m.prototype.transaction=function(){return new qh(this._db.transaction.apply(this._db,arguments))};Dl(_m,"_db",["name","version","objectStoreNames"]);mm(_m,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[_i,xa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=iY(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[xa,_i].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function lS(e,t,n){var r=gm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new ym(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new _m(s)})}function Y_(e){return gm(indexedDB,"deleteDatabase",[e])}var sY="@firebase/installations",xU="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU=1e4,OU="w:"+xU,DU="FIS_v2",aY="https://firebaseinstallations.googleapis.com/v1",uY=60*60*1e3,lY="installations",cY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho,fY=(ho={},ho["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ho["not-registered"]="Firebase Installation is not registered.",ho["installation-not-found"]="Firebase Installation not found.",ho["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ho["app-offline"]="Could not process request. Application offline.",ho["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ho),qi=new Ki(lY,cY,fY);function LU(e){return e instanceof wl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e){var t=e.projectId;return aY+"/projects/"+t+"/installations"}function MU(e){return{token:e.token,requestStatus:2,expiresIn:hY(e.expiresIn),creationTime:Date.now()}}function fS(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,qi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function FU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jU(e,t){var n=t.refreshToken,r=FU(e);return r.append("Authorization",dY(n)),r}function hS(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function hY(e){return Number(e.replace("s","000"))}function dY(e){return DU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return r=cS(e),i=FU(e),s={fid:n,authVersion:DU,appId:e.appId,sdkVersion:OU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,hS(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:MU(c.authToken)},[2,h];case 3:return[4,fS("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(e){var t=btoa(String.fromCharCode.apply(String,ve([],zt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gY=/^[cdef][\w-]{21}$/,JE="";function mY(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=yY(e);return gY.test(n)?n:JE}catch{return JE}}function yY(e){var t=vY(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl=new Map;function VU(e,t){var n=Ll(e);BU(n,t),EY(n,t)}function _Y(e,t){$U();var n=Ll(e),r=fl.get(n);r||(r=new Set,fl.set(n,r)),r.add(t)}function wY(e,t){var n=Ll(e),r=fl.get(n);r&&(r.delete(t),r.size===0&&fl.delete(n),qU())}function BU(e,t){var n,r,i=fl.get(e);if(i)try{for(var s=Dt(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function EY(e,t){var n=$U();n&&n.postMessage({key:e,fid:t}),qU()}var zs=null;function $U(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=function(e){BU(e.data.key,e.data.fid)}),zs}function qU(){fl.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bY="firebase-installations-database",TY=1,fa="firebase-installations-store",X_=null;function dS(){return X_||(X_=lS(bY,TY,function(e){switch(e.oldVersion){case 0:e.createObjectStore(fa)}})),X_}function Jv(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return n=Ll(e),[4,dS()];case 1:return r=l.sent(),i=r.transaction(fa,"readwrite"),s=i.objectStore(fa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&VU(e,t.fid),[2,t]}})})}function pS(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=Ll(e),[4,dS()];case 1:return n=i.sent(),r=n.transaction(fa,"readwrite"),[4,r.objectStore(fa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function zh(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=Ll(e),[4,dS()];case 1:return r=c.sent(),i=r.transaction(fa,"readwrite"),s=i.objectStore(fa),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&VU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,zh(e,function(s){var a=IY(s),l=SY(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==JE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function IY(e){var t=e||{fid:mY(),registrationStatus:0};return zU(t)}function SY(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(qi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=kY(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:CY(e)}:{installationEntry:t}}function kY(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,pY(e,t)];case 1:return n=i.sent(),[2,Jv(e,n)];case 2:return r=i.sent(),LU(r)&&r.customData.serverCode===409?[4,pS(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Jv(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function CY(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,hP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,UU(100)];case 3:return s.sent(),[4,hP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,vS(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function hP(e){return zh(e,function(t){if(!t)throw qi.create("installation-not-found");return zU(t)})}function zU(e){return NY(e)?{fid:e.fid,registrationStatus:0}:e}function NY(e){return e.registrationStatus===1&&e.registrationTime+PU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g;return A(this,function(m){switch(m.label){case 0:return i=RY(n,t),s=jU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:OU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,hS(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),g=MU(p),[2,g];case 3:return[4,fS("Generate Auth Token",h)];case 4:throw m.sent()}})})}function RY(e,t){var n=t.fid;return cS(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,zh(e.appConfig,function(l){if(!WU(l))throw qi.create("not-registered");var c=l.authToken;if(!t&&OY(c))return l;if(c.requestStatus===1)return n=xY(e,t),l;if(!navigator.onLine)throw qi.create("app-offline");var h=LY(l);return n=PY(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function xY(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,dP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,UU(100)];case 3:return i.sent(),[4,dP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,gS(e,t)]:[2,r]}})})}function dP(e){return zh(e,function(t){if(!WU(t))throw qi.create("not-registered");var n=t.authToken;return MY(n)?ie(ie({},t),{authToken:{requestStatus:0}}):t})}function PY(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,AY(e,t)];case 1:return n=s.sent(),i=ie(ie({},t),{authToken:n}),[4,Jv(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),LU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,pS(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ie(ie({},t),{authToken:{requestStatus:0}}),[4,Jv(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function WU(e){return e!==void 0&&e.registrationStatus===2}function OY(e){return e.requestStatus===2&&!DY(e)}function DY(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+uY}function LY(e){var t={requestStatus:1,requestTime:Date.now()};return ie(ie({},e),{authToken:t})}function MY(e){return e.requestStatus===1&&e.requestTime+PU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,vS(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):gS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,UY(e.appConfig)];case 1:return r.sent(),[4,gS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function UY(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,vS(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=BY(e,t),r=jU(e,t),i={method:"DELETE",headers:r},[4,hS(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,fS("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function BY(e,t){var n=t.fid;return cS(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,zh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw qi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw qi.create("app-offline");case 3:return[4,VY(t,n)];case 4:return r.sent(),[4,pS(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(e,t){var n=e.appConfig;return _Y(n,t),function(){wY(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(e){var t,n;if(!e||!e.options)throw J_("App Configuration");if(!e.name)throw J_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Dt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw J_(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function J_(e){return qi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(e){var t="installations";e.INTERNAL.registerComponent(new cn(t,function(n){var r=n.getProvider("app").getImmediate(),i=zY(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return FY(a)},getToken:function(c){return jY(a,c)},delete:function(){return $Y(a)},onIdChange:function(c){return qY(a,c)}};return l},"PUBLIC")),e.registerVersion(sY,xU)}WY(te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,HY=(yt={},yt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yt["only-available-in-window"]="This method is available in a Window context.",yt["only-available-in-sw"]="This method is available in a service worker context.",yt["permission-default"]="The notification permission was not granted and dismissed instead.",yt["permission-blocked"]="The notification permission was not granted and blocked instead.",yt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",yt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",yt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",yt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",yt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",yt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",yt["token-update-no-token"]="FCM returned no token when updating the user to push.",yt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",yt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",yt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",yt["invalid-vapid-key"]="The public VAPID key must be a string.",yt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",yt),De=new Ki("messaging","Messaging",HY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY="/firebase-messaging-sw.js",GY="/firebase-cloud-messaging-push-scope",Zv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",QY="https://fcmregistrations.googleapis.com/v1",HU="FCM_MSG",YY="FirebaseMessaging: ",XY="google.c.a.e",KU="google.c.a.c_id",JY="google.c.a.ts",ZY="google.c.a.c_l",eX=1e3,tX=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ha;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ha||(ha={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ve([],zt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_="fcm_token_details_db",rX=5,pP="fcm_token_object_Store";function iX(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(Z_))return[2,null];a.label=2;case 2:return r=null,[4,lS(Z_,rX,function(l){return R(s,void 0,void 0,function(){var c,h,p,p,p,g;return A(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(pP)?(c=l.transaction.objectStore(pP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(g=p.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Ni(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ni(p.auth),p256dh:Ni(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ni(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ni(p.auth),p256dh:Ni(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ni(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Y_(Z_)];case 4:return a.sent(),[4,Y_("fcm_vapid_details_db")];case 5:return a.sent(),[4,Y_("undefined")];case 6:return a.sent(),[2,oX(r)?r:null]}})})}function oX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sX="firebase-messaging-database",aX=1,da="firebase-messaging-store",ew=null;function mS(){return ew||(ew=lS(sX,aX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(da)}})),ew}function eg(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=_S(e),[4,mS()];case 1:return n=s.sent(),[4,n.transaction(da).objectStore(da).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,iX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,yS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function yS(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=_S(e),[4,mS()];case 1:return r=s.sent(),i=r.transaction(da,"readwrite"),[4,i.objectStore(da).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function uX(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=_S(e),[4,mS()];case 1:return n=i.sent(),r=n.transaction(da,"readwrite"),[4,r.objectStore(da).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function _S(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,ES(e)];case 1:n=h.sent(),r=QU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(wS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),De.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,De.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw De.create("token-subscribe-no-token");return[2,s.token]}})})}function cX(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,ES(e)];case 1:n=h.sent(),r=QU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(wS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),De.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,De.create("token-update-failed",{errorInfo:c});if(!s.token)throw De.create("token-update-no-token");return[2,s.token]}})})}function GU(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,ES(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(wS(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,De.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),De.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function wS(e){var t=e.projectId;return QY+"/projects/"+t+"/registrations"}function ES(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function QU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Zv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fX=7*24*60*60*1e3;function ZE(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,dX(t,n)];case 1:return r=l.sent(),[4,eg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Ni(r.getKey("auth")),p256dh:Ni(r.getKey("p256dh"))},i?[3,3]:[2,vP(e,s)];case 3:if(pX(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,GU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,vP(e,s)];case 8:return Date.now()>=i.createTime+fX?[2,hX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function vf(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,eg(e)];case 1:return n=i.sent(),n?[4,GU(e,n.token)]:[3,4];case 2:return i.sent(),[4,uX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function hX(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,cX(t,e)];case 1:return r=a.sent(),i=ie(ie({},e),{token:r,createTime:Date.now()}),[4,yS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,vf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function vP(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,lX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,yS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function dX(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nX(t)})]}})})}function pX(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return gX(t,e),mX(t,e),yX(t,e),t}function gX(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function mX(e,t){t.data&&(e.data=t.data)}function yX(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e){return typeof e=="object"&&!!e&&KU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _X=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw De.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,eg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Zv,i.label=2;case 2:return[2,ZE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return vf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw De.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw De.create("only-available-in-window")},e.prototype.onMessage=function(){throw De.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw De.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=EX(t),n?[4,XU()]:(console.debug(YY+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),TX(r)?[2,IX(r,n)]:(i=!1,n.notification?[4,SX(wX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=vX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,gP(eX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,vf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,eg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,vf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,ZE(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Zv)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[HU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=kX(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,bX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,gP(tX)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=ha.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function wX(e){var t,n=ie({},e.notification);return n.data=(t={},t[HU]=e,t),n}function EX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function bX(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,XU()];case 1:t=c.sent();try{for(n=Dt(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function TX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function IX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ha.PUSH_RECEIVED;try{for(var i=Dt(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function XU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function SX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function kX(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(YU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===ha.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(AX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,YU(r)&&r[XY]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,ZE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Zv),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(KY,{scope:GY})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),De.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,vf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?De.create("permission-blocked"):De.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");if(this.swRegistration)throw De.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw De.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw De.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=NX(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[KU],message_name:n[ZY],message_time:n[JY],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function NX(e){switch(e){case ha.NOTIFICATION_CLICKED:return"notification_open";case ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function AX(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(e){var t,n;if(!e||!e.options)throw tw("App Configuration Object");if(!e.name)throw tw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Dt(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw tw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function tw(e){return De.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xX="messaging";function PX(e){var t=e.getProvider("app").getImmediate(),n=RX(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!JU())throw De.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new _X(s):new CX(s)}var OX={isSupported:JU};te.INTERNAL.registerComponent(new cn(xX,PX,"PUBLIC").setServiceProps(OX));function JU(){return self&&"ServiceWorkerGlobalScope"in self?LX():DX()}function DX(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function LX(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU="firebasestorage.googleapis.com",e4="storageBucket",MX=2*60*1e3,FX=10*60*1e3,pt=function(e){G(t,e);function t(n,r){var i=e.call(this,nw(n),"Firebase Storage: "+r+" ("+nw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return nw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(wl);function nw(e){return"storage/"+e}function bS(){var e="An unknown error occurred, please check the error payload for server response.";return new pt("unknown",e)}function jX(e){return new pt("object-not-found","Object '"+e+"' does not exist.")}function UX(e){return new pt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VX(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt("unauthenticated",e)}function BX(){return new pt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function $X(e){return new pt("unauthorized","User does not have permission to access '"+e+"'.")}function qX(){return new pt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function t4(){return new pt("canceled","User canceled the upload/download.")}function zX(e){return new pt("invalid-url","Invalid URL '"+e+"'.")}function WX(e){return new pt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function HX(){return new pt("no-default-bucket","No default bucket found. Did you set the '"+e4+"' property when initializing the app?")}function n4(){return new pt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function KX(){return new pt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function GX(){return new pt("no-download-url","The given file does not have any download URLs.")}function Lu(e){return new pt("invalid-argument",e)}function r4(){return new pt("app-deleted","The Firebase app was deleted.")}function i4(e){return new pt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gf(e,t){return new pt("invalid-format","String does not match format '"+e+"': "+t)}function gp(e){throw new pt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function o4(e,t){switch(e){case hr.RAW:return new rw(s4(t));case hr.BASE64:case hr.BASE64URL:return new rw(a4(e,t));case hr.DATA_URL:return new rw(XX(t),JX(t))}throw bS()}function s4(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function YX(e){var t;try{t=decodeURIComponent(e)}catch{throw gf(hr.DATA_URL,"Malformed data URL.")}return s4(t)}function a4(e,t){switch(e){case hr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw gf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case hr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw gf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=QX(t)}catch{throw gf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var u4=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw gf(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=ZX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function XX(e){var t=new u4(e);return t.base64?a4(hr.BASE64,t.rest):YX(t.rest)}function JX(e){var t=new u4(e);return t.contentType}function ZX(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eJ={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iw(e){switch(e){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;case"error":return _n.ERROR;default:return _n.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Xs.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Xs.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw gp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw gp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw gp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw gp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function nJ(){return new tJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ=function(){function e(){}return e.prototype.createConnection=function(){return nJ()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw WX(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(Q){Q.path_=decodeURIComponent(Q.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+g+"/"+p+"/b/"+i+"/o"+m,"i"),E={bucket:1,path:3},I=n===ZU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp("^https?://"+I+"/"+i+"/"+w,"i"),S={bucket:1,path:2},N=[{regex:l,indices:c,postModify:s},{regex:y,indices:E,postModify:h},{regex:T,indices:S,postModify:h}],P=0;P<N.length;P++){var M=N[P],O=M.regex.exec(t);if(O){var W=O[M.indices.bucket],U=O[M.indices.path];U||(U=""),r=new e(W,U),M.postModify(r);break}}if(r==null)throw zX(t);return r},e}(),iJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];c||(c=!0,t.apply(null,E))}function p(E){i=setTimeout(function(){i=null,e(g,l())},E)}function g(E){for(var I=[],w=1;w<arguments.length;w++)I[w-1]=arguments[w];if(!c){if(E){h.call.apply(h,ve([null,E],I));return}var T=l()||s;if(T){h.call.apply(h,ve([null,E],I));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,p(S)}}var m=!1;function y(E){m||(m=!0,!c&&(i!==null?(E||(a=2),clearTimeout(i),p(0)):E||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function sJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(e){return e!==void 0}function uJ(e){return typeof e=="function"}function lJ(e){return typeof e=="object"&&!Array.isArray(e)}function wm(e){return typeof e=="string"||e instanceof String}function mP(e){return TS()&&e instanceof Blob}function TS(){return typeof Blob<"u"}function eb(e,t,n,r){if(r<t)throw Lu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Lu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function l4(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cJ=function(){function e(t,n,r,i,s,a,l,c,h,p,g){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=g,this.promise_=new Promise(function(y,E){m.resolve_=y,m.reject_=E,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new mp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===Xs.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===Xs.ABORT;i(!1,new mp(!1,null,p));return}var g=t.successCodes_.indexOf(h)!==-1;i(!0,new mp(g,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());aJ(h)?a(h):a()}catch(g){l(g)}else if(c!==null){var p=bS();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?r4():t4();l(p)}else{var p=qX();l(p)}}this.canceled_?r(!1,new mp(!1,null,!0)):this.backoffId_=oJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),mp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function fJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function hJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function dJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pJ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vJ(e,t,n,r,i,s){var a=l4(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return dJ(c,t),fJ(c,n),hJ(c,s),pJ(c,r),new cJ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(TS())return new Blob(e);throw new pt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function yJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IS=function(){function e(t,n){var r=0,i="";mP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(mP(this.data_)){var r=this.data_,i=yJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(TS()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(mJ.apply(null,r))}else{var i=t.map(function(c){return wm(c)?o4(hr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(e){var t;try{t=JSON.parse(e)}catch{return null}return lJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function wJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function c4(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(e,t){return t}var vn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||EJ}return e}(),yp=null;function bJ(e){return!wm(e)||e.length<2?e:c4(e)}function Em(){if(yp)return yp;var e=[];e.push(new vn("bucket")),e.push(new vn("generation")),e.push(new vn("metageneration")),e.push(new vn("name","fullPath",!0));function t(s,a){return bJ(a)}var n=new vn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new vn("size");return i.xform=r,e.push(i),e.push(new vn("timeCreated")),e.push(new vn("updated")),e.push(new vn("md5Hash",null,!0)),e.push(new vn("cacheControl",null,!0)),e.push(new vn("contentDisposition",null,!0)),e.push(new vn("contentEncoding",null,!0)),e.push(new vn("contentLanguage",null,!0)),e.push(new vn("contentType",null,!0)),e.push(new vn("metadata","customMetadata",!0)),yp=e,yp}function TJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new dr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function IJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return TJ(r,e),r}function f4(e,t,n){var r=SS(t);if(r===null)return null;var i=r;return IJ(e,i,n)}function SJ(e,t,n){var r=SS(t);if(r===null||!wm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,g="/b/"+s(h)+"/o/"+s(p),m=rs(g,n),y=l4({alt:"media",token:c});return m+y});return l[0]}function kS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yP="prefixes",_P="items";function kJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yP])for(var i=0,s=n[yP];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new dr(t,l));r.prefixes.push(c)}if(n[_P])for(var h=0,p=n[_P];h<p.length;h++){var g=p[h],c=e._makeStorageReference(new dr(t,g.name));r.items.push(c)}return r}function CJ(e,t,n){var r=SS(n);if(r===null)return null;var i=r;return kJ(e,t,i)}var Yi=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(e){if(!e)throw bS()}function bm(e,t){function n(r,i){var s=f4(e,i,t);return fi(s!==null),s}return n}function NJ(e,t){function n(r,i){var s=CJ(e,t,i);return fi(s!==null),s}return n}function AJ(e,t){function n(r,i){var s=f4(e,i,t);return fi(s!==null),SJ(s,i,e.host)}return n}function Ml(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=BX():i=VX():n.getStatus()===402?i=UX(e.bucket):n.getStatus()===403?i=$X(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Tm(e){var t=Ml(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=jX(e.path)),s.serverResponse=i.serverResponse,s}return n}function h4(e,t,n){var r=t.fullServerUrl(),i=rs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Yi(i,s,bm(e,n),a);return l.errorHandler=Tm(t),l}function RJ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=rs(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new Yi(l,c,NJ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Ml(t),p}function xJ(e,t,n){var r=t.fullServerUrl(),i=rs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Yi(i,s,AJ(e,n),a);return l.errorHandler=Tm(t),l}function PJ(e,t,n,r){var i=t.fullServerUrl(),s=rs(i,e.host),a="PATCH",l=kS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new Yi(s,a,bm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=Tm(t),p}function OJ(e,t){var n=t.fullServerUrl(),r=rs(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new Yi(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=Tm(t),l}function DJ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function d4(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=DJ(null,t)),r}function LJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var N="",P=0;P<2;P++)N=N+Math.random().toString().slice(2);return N}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=d4(t,r,i),p=kS(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=IS.getBlob(g,r,m);if(y===null)throw n4();var E={name:h.fullPath},I=rs(s,e.host),w="POST",T=e.maxUploadRetryTime,S=new Yi(I,w,bm(e,n),T);return S.urlParams=E,S.headers=a,S.body=y.uploadData(),S.errorHandler=Ml(t),S}var tg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function CS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{fi(!1)}var r=t||["active"];return fi(!!n&&r.indexOf(n)!==-1),n}function MJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=d4(t,r,i),l={name:a.fullPath},c=rs(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=kS(a,n),m=e.maxUploadRetryTime;function y(I){CS(I);var w;try{w=I.getResponseHeader("X-Goog-Upload-URL")}catch{fi(!1)}return fi(wm(w)),w}var E=new Yi(c,h,y,m);return E.urlParams=l,E.headers=p,E.body=g,E.errorHandler=Ml(t),E}function FJ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=CS(h,["active","final"]),g=null;try{g=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fi(!1)}g||fi(!1);var m=Number(g);return fi(!isNaN(m)),new tg(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new Yi(n,a,s,l);return c.headers=i,c.errorHandler=Ml(t),c}var wP=256*1024;function jJ(e,t,n,r,i,s,a,l){var c=new tg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw KX();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var g=c.current,m=g+p,y=p===h?"upload, finalize":"upload",E={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},I=r.slice(g,m);if(I===null)throw n4();function w(P,M){var O=CS(P,["active","final"]),W=c.current+p,U=r.size(),Q;return O==="final"?Q=bm(t,s)(P,M):Q=null,new tg(W,U,O==="final",Q)}var T="POST",S=t.maxUploadRetryTime,N=new Yi(n,T,w,S);return N.headers=E,N.body=I.uploadData(),N.progressCallback=l||null,N.errorHandler=Ml(e),N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UJ=function(){function e(t,n,r){var i=uJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p4=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Em(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=MJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=FJ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=wP*this._chunkMultiplier,r=new tg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=jJ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=wP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=h4(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=LJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=t4(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=iw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new UJ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(iw(this._state)){case _n.SUCCESS:au(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:var n=this._reject;au(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=iw(this._state);switch(n){case _n.RUNNING:case _n.PAUSED:t.next&&au(t.next.bind(t,this.snapshot))();break;case _n.SUCCESS:t.complete&&au(t.complete.bind(t))();break;case _n.CANCELED:case _n.ERROR:t.error&&au(t.error.bind(t,this._error))();break;default:t.error&&au(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=function(){function e(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new dr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return c4(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_J(this._location.path);if(t===null)return null;var n=new dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw i4(t)},e}();function VJ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new p4(e,new IS(t),n)}function BJ(e){var t={prefixes:[],items:[]};return v4(e,t).then(function(){return t})}function v4(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,g4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,v4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function g4(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&eb("options.maxResults",1,1e3,t.maxResults),n=t||{},r=RJ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function $J(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=h4(e.storage,e._location,Em()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function qJ(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=PJ(e.storage,e._location,t,Em()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function zJ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=xJ(e.storage,e._location,Em()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw GX();return r})]}})})}function WJ(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=OJ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function m4(e,t){var n=wJ(e._location.path,t),r=new dr(e._location.bucket,n);return new Im(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e){return/^[A-Za-z]+:\/\//.test(e)}function HJ(e,t){return new Im(e,t)}function y4(e,t){if(e instanceof Sm){var n=e;if(n._bucket==null)throw HX();var r=new Im(n,n._bucket);return t!=null?y4(r,t):r}else return t!==void 0?m4(e,t):e}function KJ(e,t){if(t&&tb(t)){if(e instanceof Sm)return HJ(e,t);throw Lu("To use ref(service, url), the first argument must be a Storage instance.")}else return y4(e,t)}function EP(e,t){var n=t==null?void 0:t[e4];return n==null?null:dr.makeFromBucketSpec(n,e)}function GJ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:sT(i,e.app.options.projectId))}var Sm=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=ZU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MX,this._maxUploadRetryTime=FX,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=EP(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=EP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){eb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){eb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Im(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new iJ(r4());var s=vJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(e,t,n){return e=de(e),VJ(e,t,n)}function YJ(e){return e=de(e),$J(e)}function XJ(e,t){return e=de(e),qJ(e,t)}function JJ(e,t){return e=de(e),g4(e,t)}function ZJ(e){return e=de(e),BJ(e)}function eZ(e){return e=de(e),zJ(e)}function tZ(e){return e=de(e),WJ(e)}function bP(e,t){return e=de(e),KJ(e,t)}function nZ(e,t){return m4(e,t)}function rZ(e,t,n,r){r===void 0&&(r={}),GJ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _p=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TP=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new _p(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new _p(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new _p(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new _p(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),IP=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new rh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new rh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=nZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new TP(QJ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=hr.RAW),this._throwIfRoot("putString");var i=o4(n,t),s=ie({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new TP(new p4(this._delegate,new IS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return ZJ(this._delegate).then(function(n){return new IP(n,t.storage)})},e.prototype.list=function(t){var n=this;return JJ(this._delegate,t||void 0).then(function(r){return new IP(r,n.storage)})},e.prototype.getMetadata=function(){return YJ(this._delegate)},e.prototype.updateMetadata=function(t){return XJ(this._delegate,t)},e.prototype.getDownloadURL=function(){return eZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),tZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw i4(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(tb(t))throw Lu("ref() expected a child path but got a URL, use refFromURL instead.");return new rh(bP(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!tb(t))throw Lu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dr.makeFromUrl(t,this._delegate.host)}catch{throw Lu("refFromUrl() expected a valid full URL but got an invalid one.")}return new rh(bP(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),rZ(this._delegate,t,n,r)},e}(),oZ="@firebase/storage",sZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ="storage";function uZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new iZ(r,new Sm(r,i,s,new rJ,n,te.SDK_VERSION));return a}function lZ(e){var t={TaskState:_n,TaskEvent:eJ,StringFormat:hr,Storage:Sm,Reference:rh};e.INTERNAL.registerComponent(new cn(aZ,uZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(oZ,sZ)}lZ(te);var cZ="@firebase/performance",_4="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w4=_4,fZ="FB-PERF-TRACE-START",hZ="FB-PERF-TRACE-STOP",nb="FB-PERF-TRACE-MEASURE",E4="_wt_",b4="_fp",T4="_fcp",I4="_fid",S4="@firebase/performance/config",k4="@firebase/performance/configexpire",dZ="performance",C4="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,pZ=(Ut={},Ut["trace started"]="Trace {$traceName} was started before.",Ut["trace stopped"]="Trace {$traceName} is not running.",Ut["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ut["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ut["no window"]="Window is not available.",Ut["no app id"]="App id is not available.",Ut["no project id"]="Project id is not available.",Ut["no api key"]="Api key is not available.",Ut["invalid cc log"]="Attempted to queue invalid cc event",Ut["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ut["RC response not ok"]="RC response is not ok",Ut["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ut["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ut["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ut["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ut),en=new Ki(dZ,C4,pZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi=new _a(C4);zi.logLevel=_e.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow,N4,an=function(){function e(t){if(this.window=t,!t)throw en.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(zi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):dh()?!0:(zi.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return ow===void 0&&(ow=new e(N4)),ow},e}();function vZ(e){N4=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e,t){var n=e.length-t.length;if(n<0||n>1)throw en.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw,Et=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=SP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=SP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw en.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw en.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw en.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return sw===void 0&&(sw=new e),sw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A4;function gZ(){var e=Et.getInstance().installationsService.getId();return e.then(function(t){A4=t}),e}function NS(){return A4}function mZ(){var e=Et.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Mu||(Mu={}));var yZ=["firebase_","google_","ga_"],_Z=new RegExp("^[a-zA-Z]\\w*$"),wZ=40,EZ=100;function bZ(){var e=an.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function R4(){var e=an.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Mu.VISIBLE;case"hidden":return Mu.HIDDEN;default:return Mu.UNKNOWN}}function TZ(){var e=an.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function IZ(e){if(e.length===0||e.length>wZ)return!1;var t=yZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(_Z)}function SZ(e){return e.length!==0&&e.length<=EZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kZ="0.0.1",CZ={loggingEnabled:!0},NZ="FIREBASE_INSTALLATIONS_AUTH";function AZ(e){var t=RZ();return t?(kP(t),Promise.resolve()):OZ(e).then(kP).then(function(n){return xZ(n)},function(){})}function RZ(){var e=an.getInstance().localStorage;if(e){var t=e.getItem(k4);if(!(!t||!DZ(t))){var n=e.getItem(S4);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function xZ(e){var t=an.getInstance().localStorage;!e||!t||(t.setItem(S4,JSON.stringify(e)),t.setItem(k4,String(Date.now()+Et.getInstance().configTimeToLive*60*60*1e3)))}var PZ="Could not fetch config, will use default configs";function OZ(e){return mZ().then(function(t){var n=Et.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Et.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:NZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Et.getInstance().getAppId(),app_version:w4,sdk_version:kZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw en.create("RC response not ok")})}).catch(function(){zi.info(PZ)})}function kP(e){if(!e)return e;var t=Et.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=CZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=CP(t.tracesSamplingRate),t.logNetworkAfterSampling=CP(t.networkRequestsSamplingRate),e}function DZ(e){return Number(e)>Date.now()}function CP(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AS=1,aw;function x4(){return AS=2,aw=aw||MZ(),aw}function LZ(){return AS===3}function MZ(){return FZ().then(function(){return gZ()}).then(function(e){return AZ(e)}).then(function(){return NP()},function(){return NP()})}function FZ(){var e=an.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function NP(){AS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=10*1e3,jZ=5.5*1e3,P4=3,UZ=1e3,ng=P4,jo=[],AP=!1;function VZ(){AP||(km(jZ),AP=!0)}function km(e){setTimeout(function(){if(ng!==0){if(!jo.length)return km(RS);BZ()}},e)}function BZ(){var e=jo.splice(0,UZ),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Et.getInstance().logSource,log_event:t};$Z(n,e).catch(function(){jo=ve(ve([],e),jo),ng--,zi.info("Tries left: "+ng+"."),km(RS)})}function $Z(e,t){return qZ(e).then(function(n){return n.ok||zi.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=RS;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(jo=ve(ve([],t),jo),zi.info("Retry transport request later.")),ng=P4,km(i)})}function qZ(e){var t=Et.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function zZ(e){if(!e.eventTime||!e.message)throw en.create("invalid cc log");jo=ve(ve([],jo),[e])}function WZ(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);zZ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw;function O4(e,t){uw||(uw=WZ(KZ)),uw(e,t)}function wp(e){var t=Et.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||an.getInstance().requiredApisAvailable()&&(e.isAuto&&R4()!==Mu.VISIBLE||(LZ()?lw(e):x4().then(function(){return lw(e)},function(){return lw(e)})))}function lw(e){if(NS()){var t=Et.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return O4(e,1)},0)}}function HZ(e){var t=Et.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return O4(e,0)},0)}}function KZ(e,t){return t===0?GZ(e):QZ(e)}function GZ(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:D4(),network_request_metric:t};return JSON.stringify(n)}function QZ(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:D4(),trace_metric:t};return JSON.stringify(r)}function D4(){return{google_app_id:Et.getInstance().getAppId(),app_instance_id:NS(),web_app_info:{sdk_version:w4,page_url:an.getInstance().getUrl(),service_worker_status:bZ(),visibility_state:R4(),effective_connection_type:TZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YZ=100,XZ="_",JZ=[b4,T4,I4];function ZZ(e,t){return e.length===0||e.length>YZ?!1:t&&t.startsWith(E4)&&JZ.indexOf(e)>-1||!e.startsWith(XZ)}function eee(e){var t=Math.floor(e);return t<e&&zi.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=an.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=fZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=hZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||nb+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw en.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw en.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),wp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw en.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw en.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ie({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}wp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(ZZ(t,this.name))this.counters[t]=eee(n);else throw en.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=IZ(t),i=SZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw en.create("invalid attribute name",{attributeName:t});if(!i)throw en.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ie({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=an.getInstance().getUrl();if(i){var s=new e(E4+i,!0),a=Math.floor(an.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(g){return g.name===l});h&&h.startTime&&s.putMetric(b4,Math.floor(h.startTime*1e3));var p=n.find(function(g){return g.name===c});p&&p.startTime&&s.putMetric(T4,Math.floor(p.startTime*1e3)),r&&s.putMetric(I4,Math.floor(r*1e3))}wp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);wp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=an.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};HZ(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tee=5e3;function xP(){NS()&&(setTimeout(function(){return ree()},0),setTimeout(function(){return nee()},0),setTimeout(function(){return iee()},0))}function nee(){for(var e=an.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];RP(i)}e.setupObserver("resource",RP)}function ree(){var e=an.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){mf.createOobTrace(t,n),r=void 0},tee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),mf.createOobTrace(t,n,i))})}else mf.createOobTrace(t,n)}function iee(){for(var e=an.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];PP(i)}e.setupObserver("measure",PP)}function PP(e){var t=e.name;t.substring(0,nb.length)!==nb&&mf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oee=function(){function e(t){this.app=t,an.getInstance().requiredApisAvailable()&&lT().then(function(n){n&&(VZ(),x4().then(xP,xP))}).catch(function(n){zi.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new mf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Et.getInstance().instrumentationEnabled},set:function(t){Et.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Et.getInstance().dataCollectionEnabled},set:function(t){Et.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var see="[DEFAULT]";function aee(e){var t=function(n,r){if(n.name!==see)throw en.create("FB not default");if(typeof window>"u")throw en.create("no window");return vZ(window),Et.getInstance().firebaseAppInstance=n,Et.getInstance().installationsService=r,new oee(n)};e.INTERNAL.registerComponent(new cn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(cZ,_4)}aee(te);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uee="firebase_id",lee="origin",cee=60*1e3,fee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L4="https://www.googletagmanager.com/gtag/js",un;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(un||(un={}));var rb;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(rb||(rb={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return i&&i.global?(e(un.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ie(ie({},r),{send_to:s}),e(un.EVENT,n,a),l.label=3;case 3:return[2]}})})}function dee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(un.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(un.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function pee(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(un.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(un.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function vee(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(un.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(un.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function gee(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt=new _a("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(e,t){var n=document.createElement("script");n.src=L4+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function yee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function _ee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h;return A(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(g){return g.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),qt.error(h),[3,8];case 8:return e(un.CONFIG,i,s),[2]}})})}function wee(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h,p,g,m,y;return A(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=E.sent(),c=function(I){var w=l.find(function(S){return S.measurementId===I}),T=w&&t[w.appId];if(T)s.push(T);else return s=[],"break"},h=0,p=a;h<p.length&&(g=p[h],m=c(g),m!=="break");h++);E.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return E.sent(),e(un.EVENT,r,i||{}),[3,5];case 4:return y=E.sent(),qt.error(y),[3,5];case 5:return[2]}})})}function Eee(e,t,n,r){function i(s,a,l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==un.EVENT?[3,2]:[4,wee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==un.CONFIG?[3,4]:[4,_ee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(un.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),qt.error(c),[3,7];case 7:return[2]}})})}return i}function bee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Eee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Tee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(L4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr,Iee=(Lr={},Lr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Lr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Lr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Lr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Lr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Lr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Lr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Lr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Lr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Lr),mr=new Ki("analytics","Analytics",Iee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var See=30,kee=1e3,Cee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=kee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),M4=new Cee;function Nee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Aee(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Nee(r)},s=fee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw mr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Ree(e,t,n){return t===void 0&&(t=M4),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return A(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw mr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw mr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Oee,setTimeout(function(){return R(h,void 0,void 0,function(){return A(this,function(g){return c.abort(),[2]})})},n!==void 0?n:cee),[2,F4({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function F4(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=M4),R(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,xee(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return qt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Aee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!Pee(p)){if(r.deleteThrottleMetadata(a),l)return qt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return g=Number(p.customData.httpStatus)===503?rE(s,r.intervalMillis,See):rE(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,m),qt.debug("Calling attemptFetch again in "+g+" millis"),[2,F4(e,m,n,r)];case 7:return[2]}})})}function xee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(mr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Pee(e){if(!(e instanceof wl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Oee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return dh()?[3,1]:(qt.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,lT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),qt.warn(mr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Lee(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:return a=Ree(e),a.then(function(E){n[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&qt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+E.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(E){return qt.error(E)}),t.push(a),l=Dee().then(function(E){if(E)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],Tee()||mee(s,h.measurementId),i("js",new Date),g=(m={},m[lee]="firebase",m.update=!0,m),p!=null&&(g[uee]=p),i(un.CONFIG,h.measurementId,g),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci={},OP=[],DP={},Vp="dataLayer",j4="gtag",LP,Fc,ib=!1;function Mee(e){if(ib)throw mr.create("already-initialized");e.dataLayerName&&(Vp=e.dataLayerName),e.gtagName&&(j4=e.gtagName)}function Fee(){var e=[];if(uT()&&e.push("This is a browser extension environment."),sL()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=mr.create("invalid-analytics-context",{errorInfo:t});qt.warn(n.message)}}function jee(e,t){Fee();var n=e.options.appId;if(!n)throw mr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)qt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw mr.create("no-api-key");if(Ci[n]!=null)throw mr.create("already-exists",{id:n});if(!ib){yee(Vp);var r=bee(Ci,OP,DP,Vp,j4),i=r.wrappedGtag,s=r.gtagCore;Fc=i,LP=s,ib=!0}Ci[n]=Lee(e,OP,DP,t,LP,Vp);var a={app:e,logEvent:function(l,c,h){hee(Fc,Ci[n],l,c,h).catch(function(p){return qt.error(p)})},setCurrentScreen:function(l,c){dee(Fc,Ci[n],l,c).catch(function(h){return qt.error(h)})},setUserId:function(l,c){pee(Fc,Ci[n],l,c).catch(function(h){return qt.error(h)})},setUserProperties:function(l,c){vee(Fc,Ci[n],l,c).catch(function(h){return qt.error(h)})},setAnalyticsCollectionEnabled:function(l){gee(Ci[n],l).catch(function(c){return qt.error(c)})},INTERNAL:{delete:function(){return delete Ci[n],Promise.resolve()}}};return a}var Uee="@firebase/analytics",Vee="0.6.18",MP="analytics";function Bee(e){e.INTERNAL.registerComponent(new cn(MP,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return jee(r,i)},"PUBLIC").setServiceProps({settings:Mee,EventName:rb,isSupported:$ee})),e.INTERNAL.registerComponent(new cn("analytics-internal",t,"PRIVATE")),e.registerVersion(Uee,Vee);function t(n){try{var r=n.getProvider(MP).getImmediate();return{logEvent:r.logEvent}}catch(i){throw mr.create("interop-component-reg-failed",{reason:i})}}}Bee(te);function $ee(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(uT())return[2,!1];if(!sL())return[2,!1];if(!dh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,lT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qee=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,zee=(gn={},gn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",gn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",gn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",gn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",gn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",gn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",gn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",gn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",gn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",gn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',gn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',gn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",gn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",gn),pr=new Ki("remoteconfig","Remote Config",zee);function Wee(e,t){return e instanceof wl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kee=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,E,I,w,T,S,N,P;return A(this,function(M){switch(M.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=M.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Hee()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),g=new Promise(function(O,W){t.signal.addEventListener(function(){var U=new Error("The operation was aborted.");U.name="AbortError",W(U)})}),M.label=2;case 2:return M.trys.push([2,5,,6]),[4,Promise.race([p,g])];case 3:return M.sent(),[4,p];case 4:return m=M.sent(),[3,6];case 5:throw y=M.sent(),E="fetch-client-network",y.name==="AbortError"&&(E="fetch-timeout"),pr.create(E,{originalErrorMessage:y.message});case 6:if(I=m.status,w=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];N=void 0,M.label=7;case 7:return M.trys.push([7,9,,10]),[4,m.json()];case 8:return N=M.sent(),[3,10];case 9:throw P=M.sent(),pr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:T=N.entries,S=N.state,M.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?I=500:S==="NO_CHANGE"?I=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(T={}),I!==304&&I!==200)throw pr.create("fetch-status",{httpStatus:I});return[2,{status:I,eTag:w,config:T}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qee=!1,Yee="",FP=0,Xee=["1","true","t","yes","y","on"],cw=function(){function e(t,n){n===void 0&&(n=Yee),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?Qee:Xee.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return FP;var t=Number(this._value);return isNaN(t)&&(t=FP),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jee=60*1e3,Zee=12*60*60*1e3,ete=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Jee,minimumFetchIntervalMillis:Zee},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=_e.DEBUG;break;case"silent":this._logger.logLevel=_e.SILENT;break;default:this._logger.logLevel=_e.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new Gee,setTimeout(function(){return R(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=Wee(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return tte(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new cw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new cw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new cw("static"))},e}();function tte(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ie(ie({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e,t){var n=e.target.error||void 0;return pr.create(t,{originalErrorMessage:n&&n.message})}var Rs="app_namespace_store",nte="firebase_remote_config",rte=1;function ite(){return new Promise(function(e,t){var n=indexedDB.open(nte,rte);n.onerror=function(r){t(Bp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Rs,{keyPath:"compositeKey"})}}})}var ote=function(){function e(t,n,r,i){i===void 0&&(i=ite()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Rs],"readonly"),c=l.objectStore(Rs),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(g){a(Bp(g,"storage-get"))},p.onsuccess=function(g){var m=g.target.result;s(m?m.value:void 0)}}catch(g){a(pr.create("storage-get",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Rs],"readwrite"),h=c.objectStore(Rs),p=i.createCompositeKey(t);try{var g=h.put({compositeKey:p,value:n});g.onerror=function(m){l(Bp(m,"storage-set"))},g.onsuccess=function(){a()}}catch(m){l(pr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Rs],"readwrite"),c=l.objectStore(Rs),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(g){a(Bp(g,"storage-delete"))},p.onsuccess=function(){s()}}catch(g){a(pr.create("storage-delete",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ste=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(pr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ute(e){if(!(e instanceof wl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var lte=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,ate(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!ute(a))throw a;return l={throttleEndTimeMillis:Date.now()+rE(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),jP="@firebase/remote-config",cte="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(e){e.INTERNAL.registerComponent(new cn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(jP,cte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw pr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw pr.create("registration-project-id");if(!h)throw pr.create("registration-api-key");if(!p)throw pr.create("registration-app-id");i=i||"firebase";var g=new ote(p,s.name,i),m=new ste(g),y=new _a(jP);y.logLevel=_e.ERROR;var E=new Kee(a,e.SDK_VERSION,i,c,h,p),I=new lte(E,g),w=new qee(I,g,m,y),T=new ete(s,w,m,g,y);return T.ensureInitialized(),T}}fte(te);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,hte=(Mr={},Mr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Mr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Mr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Mr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Mr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Mr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Mr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Mr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Mr["recaptcha-error"]="ReCAPTCHA error.",Mr),Jn=new Ki("appCheck","AppCheck",hte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U4=new Map,dte={activated:!1,tokenObservers:[]},pte={enabled:!1};function kn(e){return U4.get(e)||dte}function hi(e,t){U4.set(e,t)}function xS(){return pte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V4="https://content-firebaseappcheck.googleapis.com/v1beta",vte="exchangeRecaptchaToken",gte="exchangeDebugToken",UP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Pt,[4,yte(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Pt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function yte(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return self.grecaptcha}function B4(e){if(!kn(e).activated)throw Jn.create("use-before-activation",{appName:e.name})}function _te(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function wte(e){return bg.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e,t){var n=e.url,r=e.body;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return A(this,function(E){switch(E.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=E.sent(),[3,4];case 3:throw c=E.sent(),Jn.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw Jn.create("fetch-status-error",{httpStatus:l.status});E.label=5;case 5:return E.trys.push([5,7,,8]),[4,l.json()];case 6:return h=E.sent(),[3,8];case 7:throw p=E.sent(),Jn.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(g=h.ttl.match(/^([\d.]+)(s)$/),!g||!g[2]||isNaN(Number(g[1])))throw Jn.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(g[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function Ete(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:V4+"/projects/"+r+"/apps/"+i+":"+vte+"?key="+s,body:{recaptcha_token:t}}}function bte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:V4+"/projects/"+r+"/apps/"+i+":"+gte+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tte="firebase-app-check-database",Ite=1,ih="firebase-app-check-store",q4="debug-token",Ep=null;function z4(){return Ep||(Ep=new Promise(function(e,t){try{var n=indexedDB.open(Tte,Ite);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(Jn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ih,{keyPath:"compositeKey"})}}}catch(r){t(Jn.create("storage-open",{originalErrorMessage:r.message}))}}),Ep)}function Ste(e){return H4(K4(e))}function kte(e,t){return W4(K4(e),t)}function Cte(e){return W4(q4,e)}function Nte(){return H4(q4)}function W4(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,z4()];case 1:return n=a.sent(),r=n.transaction(ih,"readwrite"),i=r.objectStore(ih),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(Jn.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function H4(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,z4()];case 1:return t=s.sent(),n=t.transaction(ih,"readonly"),r=n.objectStore(ih),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(Jn.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function K4(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=new _a("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!dh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Ste(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Cm.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function BP(e,t){return dh()?kte(e,t).catch(function(n){Cm.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Rte(){return R(this,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Nte()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=_te(),Cte(t).catch(function(r){return Cm.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(){var e=xS();return e.enabled}function Pte(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){if(e=xS(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Ote(){var e=F3();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=xS();t.enabled=!0;var n=new Pt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Rte())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dte={error:"UNKNOWN_ERROR"};function rg(e,t,n){return n===void 0&&(n=!1),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return A(this,function(y){switch(y.label){case 0:return B4(e),r=kn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&oh(a)&&(i=a,hi(e,ie(ie({},r),{token:i})),$P(e,{token:i.token})),y.label=2;case 2:return!n&&i&&oh(i)?[2,{token:i.token}]:xte()?(c=$4,h=bte,p=[e],[4,Pte()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,BP(e,l)];case 5:return y.sent(),hi(e,ie(ie({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return g=y.sent(),Cm.error(g),s=g,[3,9];case 9:return i?[3,10]:(m=Mte(s),[3,12]);case 10:return m={token:i.token},hi(e,ie(ie({},r),{token:i})),[4,BP(e,i)];case 11:y.sent(),y.label=12;case 12:return $P(e,m),[2,m]}})})}function G4(e,t,n,r,i){var s=kn(e),a={next:r,error:i,type:n},l=ie(ie({},s),{tokenObservers:ve(ve([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=Lte(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&oh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&oh(p)&&r({token:p.token})}).catch(function(){});hi(e,l)}function PS(e,t){var n=kn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),hi(e,ie(ie({},n),{tokenObservers:r}))}function Lte(e,t){var n=this;return new mte(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=kn(e),r.token?[3,2]:[4,rg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,rg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=kn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},UP.RETRIAL_MIN_WAIT,UP.RETRIAL_MAX_WAIT)}function $P(e,t){for(var n=kn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function oh(e){return e.expireTimeMillis-Date.now()>0}function Mte(e){return{token:wte(Dte),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fte="https://www.google.com/recaptcha/api.js";function jte(e,t){var n=kn(e),r=new Pt;hi(e,ie(ie({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=VP();return a?a.ready(function(){qP(e,t,a,i),r.resolve(a)}):Vte(function(){var l=VP();if(!l)throw new Error("no recaptcha");l.ready(function(){qP(e,t,l,i),r.resolve(l)})}),r.promise}function Ute(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return B4(e),t=kn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=kn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function qP(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=kn(e);hi(e,ie(ie({},s),{reCAPTCHAState:ie(ie({},s.reCAPTCHAState),{widgetId:i})}))}function Vte(e){var t=document.createElement("script");t.src=""+Fte,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Jn.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ute(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),Jn.create("recaptcha-error");case 4:return[2,$4(Ete(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,jte(t,this._siteKey).catch(function(){})},e}(),sb=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:if(!this._app)throw Jn.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=B3(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ie(ie({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(e,t,n,r){var i=kn(e);if(i.activated)throw Jn.create("already-activated",{appName:e.name});var s=ie(ie({},i),{activated:!0});s.cachedTokenPromise=Ate(e).then(function(a){return a&&oh(a)&&hi(e,ie(ie({},kn(e)),{token:a})),a}),typeof t=="string"?s.provider=new ob(t):t instanceof ob||t instanceof sb?s.provider=t:s.provider=new sb({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,hi(e,s),s.provider.initialize(e,n)}function $te(e,t){var n=kn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),hi(e,ie(ie({},n),{isTokenAutoRefreshEnabled:t}))}function qte(e,t,n){return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,rg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function zte(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),G4(e,t,"EXTERNAL",s,a),function(){return PS(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(e,t){return{app:e,activate:function(n,r){return Bte(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return $te(e,n)},getToken:function(n){return qte(e,t,n)},onTokenChanged:function(n,r,i){return zte(e,t,n,r)},INTERNAL:{delete:function(){for(var n=kn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];PS(e,s.next)}return Promise.resolve()}}}}function Hte(e,t){return{getToken:function(n){return rg(e,t,n)},addTokenListener:function(n){return G4(e,t,"INTERNAL",n)},removeTokenListener:function(n){return PS(e,n)}}}var Kte="@firebase/app-check",Gte="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qte="appCheck",zP="app-check-internal";function Yte(e){e.INTERNAL.registerComponent(new cn(Qte,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Wte(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:ob,CustomProvider:sb}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(zP);i.initialize()})),e.INTERNAL.registerComponent(new cn(zP,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Hte(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Kte,Gte)}Yte(te);Ote();var Xte="firebase",Q4="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */te.registerVersion(Xte,Q4,"app");te.SDK_VERSION=Q4;var Jte="firebase",Zte="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);te.registerVersion(Jte,Zte);const ene="AIzaSyDM8mIKG75bihhtAtwpEpCAcH5FA9Zm2IM",tne={apiKey:ene,authDomain:"resume-bbd43.firebaseapp.com",databaseURL:"https://resume-bbd43-default-rtdb.firebaseio.com",projectId:"resume-bbd43",storageBucket:"resume-bbd43.appspot.com",messagingSenderId:"899941858131",appId:"1:899941858131:web:44e23ae6642e4ccb36ffa6",measurementId:"G-17LKMEH19D"},nne=te.initializeApp(tne),rne=nne.firestore(),ine=e=>{const[t,n]=V.useState({name:"",email:"",message:""}),[r,i]=V.useState(!1),{setPageLocation:s}=V.useContext(ya),{theme:a}=V.useContext(Hi),l=V.useRef();V.useEffect(()=>(window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)),[]);const c=()=>{window.pageYOffset+window.innerHeight>=l.current.offsetTop+125&&s("contact")};function h(I){for(var w="",T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S=10,N=0;N<I;N++)w+=T.charAt(Math.floor(Math.random()*S));return w}const p=I=>{n(w=>({...w,[I.target.name]:I.target.value}))};function g(I){var w=new Date,T=t.name+"-"+w.getTime(),S=String(w.getMonth()+1)+"-"+String(w.getDate())+"-"+String(w.getFullYear()),N=()=>{var O;return w.getMinutes()<10?O="0"+w.getUTCMinutes():O=String(w.getUTCMinutes()),O},P=String(w.getHours())+":"+N()+"."+String(w.getSeconds()),M=h(10);rne.collection("messages").doc(T).set({name:t.name,email:t.email,message:t.message,date:S,time:P,timezone:w.getTimezoneOffset(),id:M}).then(()=>{console.log("Great news! Message sent successfully!")}).catch(O=>{console.error("Krikey! Error sending message: ",O)}),r||i(!0)}function m(){i(!1)}let y={margin:"auto",display:"block",padding:"2px 25px",outline:"none",background:"rgba(255, 71, 70, 1)",color:"white",fontWeight:"bold",fontSize:"1.4em",width:"100%",border:"0pt solid white",fontFamily:"Cabin"},E={margin:"auto",display:"block",padding:"5px 25px",outline:"none",background:"white",border:"1pt solid rgba(255,71,70)",color:"black",fontSize:"1.2em",borderRadius:"25px",fontFamily:"Cabin"};return k.jsxs("div",{className:"container",id:"contact-container",ref:l,style:{marginTop:"4%"},children:[k.jsx("div",{children:k.jsxs("p",{style:{textAlign:"center",display:"none"},children:["Schedule an appointment",k.jsx("a",{style:{},href:"https://calendly.com/sleighs",target:"blank",children:"here"})]})}),r?k.jsxs("div",{className:"msg",style:{textAlign:"center"},children:[k.jsx("br",{}),k.jsx("p",{style:{fontSize:"1.2em"},children:"Message sent!"}),k.jsx("button",{className:"new-message-btn",style:E,onClick:I=>{m()},children:"New Message"})]}):k.jsxs("form",{className:"contact-form",children:[k.jsxs("div",{style:{display:""},className:"form-group contact-form__input-container",children:[k.jsx("label",{name:"inputName",className:"form-text",style:{display:"none"},children:"Name"}),k.jsx("input",{type:"text",className:`contact__input contact__input-${a}`,id:"name-input",placeholder:"Name",name:"name",value:t.name,onChange:I=>{p(I)},style:{zIndex:10}})]}),k.jsxs("div",{className:`form-group contact-form__input-container form-group-${a}`,children:[k.jsx("label",{name:"inputEmail",className:"form-text",style:{display:"none"},children:"Email"}),k.jsx("input",{type:"email",className:`contact__input contact__input-${a}`,id:"email-input",placeholder:"Email","aria-describedby":"emailHelp",value:t.email,name:"email",onChange:I=>{p(I)},style:{zIndex:10}})]}),k.jsxs("div",{className:`form-group contact-form__input-container  form-group-${a}`,children:[k.jsx("label",{name:"inputMessage",className:"form-text",style:{display:"none"},children:"Message"}),k.jsx("textarea",{type:"text",className:`form-msg contact__input contact__input-${a}`,id:"message-input",placeholder:"Message",name:"message",value:t.message,onChange:I=>{p(I)},style:{zIndex:10}})]}),k.jsx("input",{type:"submit",className:"input for-control submit",style:y,value:"Send",onClick:I=>{I.preventDefault(),g()}})]})]})};function one(){const{theme:e}=V.useContext(Hi);return k.jsxs("div",{className:`contact__info contact__info-${e}`,children:[k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link1`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"mailto:wsright987@gmail.com",rel:"noreferrer",children:"swrightdev@gmail.com"})]}),k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link2`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-github",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"http://github.com/sleighs",rel:"noreferrer",children:"github.com/sleighs"})]}),k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link3`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-phone-fill",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"tel:609-472-2897",rel:"noreferrer",children:"+1 609 472 2897"})]})]})}const sne=e=>{const t=[{latin:"Audentes fortuna iuvat",english:"Fortune favors the bold",author:"Virgil"},{latin:"Fiat justitia, ruat caelum",english:"Let justice be done, though the heavens fall",author:"Anonymous"},{latin:"Aut viam inveniam aut faciam",english:"I will either find a way or make one",author:"Hannibal"}];let n=t[Math.floor(Math.random()*t.length)];const[r,i]=V.useState(n);return V.useEffect(()=>{console.table(n),i({title:n.latin,text:n.english,author:n==null?void 0:n.author})},[]),k.jsxs("footer",{id:"footer-container",children:[k.jsxs("div",{className:"footer-icons",children:[k.jsx("a",{className:"footer-info-link",style:{marginRight:18},target:"_blank",href:"mailto:wsright987@gmail.com",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"})})}),k.jsx("a",{className:"footer-info-link",style:{marginRight:16,display:"none"},target:"_blank",href:"tel:6094722897",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-phone-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"})})}),k.jsx("a",{className:"footer-info-link",style:{marginRight:16},target:"_blank",href:"http://github.com/sleighs",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-github",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})}),k.jsx("a",{className:"footer-info-link",target:"_blank",href:"https://www.linkedin.com/in/samuelwrightdev/",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-linkedin",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"})})})]}),k.jsxs("div",{className:"footer-text",children:[k.jsx("p",{style:{display:"",fontFamily:"Cabin",fontSize:".7em",padding:"5px 0px 7px 0px"},children:" SAMUEL WRIGHT ©2024 "}),k.jsx("p",{id:"proverb",style:{display:"none",padding:"5px 0px 7px 0px"},title:`"${r==null?void 0:r.title}" ${r!=null&&r.author?"-"+r.author:""}`,children:`${r==null?void 0:r.text}`})]})]})};function ane(){const{lightbulb:e,changeTheme:t}=V.useContext(Hi);return k.jsx("div",{className:"theme-toggle",onClick:t,children:e?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-lightbulb-off-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M2 6c0-.572.08-1.125.23-1.65l8.558 8.559A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm10.303 4.181L3.818 1.697a6 6 0 0 1 8.484 8.484zM5 14.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1-.5-.5zM2.354 1.646a.5.5 0 1 0-.708.708l12 12a.5.5 0 0 0 .708-.708l-12-12z"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-lightbulb",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"})})})}function une(e){const{pageLocation:t,setPageLocation:n}=V.useContext(ya),{theme:r}=V.useContext(Hi),[i,s]=V.useState(!1),[a,l]=V.useState(0),c=m=>{document.getElementById(m).scrollIntoView({behavior:"smooth",block:"start"})},h=()=>{const m=window.pageYOffset;l(m)};V.useEffect(()=>(window.addEventListener("scroll",h,{passive:!0}),()=>{window.removeEventListener("scroll",h)}),[]);const p={boxShadow:r==="dark"&&a>775?"0px 0px 1px 1px rgba(255, 255, 255, 0.1)":""},g=window.innerWidth<=550;return k.jsxs("nav",{className:`navigation navigation-${r}`,style:p,children:[k.jsxs("div",{className:"main-nav",children:[k.jsx("div",{className:"nav-location",children:k.jsxs("div",{className:"nav-location__title",children:[k.jsx("span",{className:"nav-location__title-red",style:{display:"none"},children:`${t}`}),k.jsx("span",{className:"nav-location__title2",style:{display:"none"},children:" // "}),k.jsx("span",{className:"nav-location__title",onClick:()=>{c("home"),n("home")},children:g?"":"samuelwright.dev"})]})}),k.jsx("button",{className:`hamburger hamburger-${r}`,onClick:()=>{s(!i)},children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:k.jsx("path",{fillRule:"evenodd",d:`
                M3 5a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1 
                1 0 01-1-1z 
                
                M3 10a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1
                1 0 01-1-1z  
                
                M3 15a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1 
                1 0 01-1-1z`,clipRule:"evenodd"})})}),k.jsx("div",{className:i?"navigation-menu expanded":"navigation-menu",children:k.jsxs("ul",{children:[k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="home"?"nav-link-highlighted main-nav__list-item":"nav-link-normal main-nav__list-item main-nav__list-item-"+r,onClick:()=>{c("home"),n("home"),s(!i)},children:g?"samuelwright.dev":"home"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="about"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("about"),c("about"),s(!i)},children:"about"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="projects"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("projects"),c("projects"),s(!i)},children:"projects"})}),k.jsx("li",{className:"main-nav__list-item-container",style:{display:"none"},children:k.jsx("div",{className:t==="skills"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("skills"),c("skills"),s(!i)},children:"skills"})}),k.jsx("li",{className:"main-nav__list-item-container",style:{display:"none"},children:k.jsx("div",{className:t==="work"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("work"),c("work"),s(!i)},children:"work"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="contact"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("contact"),c("contact"),s(!i)},children:"contact"})})]})})]}),k.jsx(ane,{})]})}var Y4={exports:{}},lne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cne=lne,fne=cne;function X4(){}function J4(){}J4.resetWarningCache=X4;var hne=function(){function e(r,i,s,a,l,c){if(c!==fne){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:J4,resetWarningCache:X4};return n.PropTypes=n,n};Y4.exports=hne();var dne=Y4.exports;const Re=ig(dne);function pne(){const{theme:e}=V.useContext(Hi),{setPageLocation:t}=V.useContext(ya),n=V.useRef();V.useEffect(()=>(window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)),[]);const r=()=>{window.pageYOffset+window.innerHeight>=n.current.offsetTop&&t("home")};return k.jsxs("div",{className:"about-intro about-intro-"+e,ref:n,style:{overflow:"hidden",maxWidth:"100vw"},children:[k.jsx("div",{className:"about-intro__",style:{fontSize:"2.2em"},children:"Hi. I'm Sam."}),k.jsx("div",{className:"about-intro__",style:{fontSize:"2.2em"},children:"I'm a full stack web developer."}),k.jsx("button",{className:"about-intro__button about-intro__button-"+e,onClick:()=>{document.getElementById("about").scrollIntoView({behavior:"smooth"})},style:{fontSize:"1.5em",padding:"0.25em 1.5em",marginTop:"1.75em",backgroundColor:"transparent",border:"5px solid rgb(255, 77, 70)",color:e==="light"?"rgb(255, 77, 70)":"rgb(255, 255, 255)"},children:"View my work"})]})}var OS={};OS.match=wne;OS.parse=Z4;var vne=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,gne=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,mne=/^(?:(min|max)-)?(.+)/,yne=/(em|rem|px|cm|mm|in|pt|pc)?$/,_ne=/(dpi|dpcm|dppx)?$/;function wne(e,t){return Z4(e).some(function(n){var r=n.inverse,i=n.type==="all"||t.type===n.type;if(i&&r||!(i||r))return!1;var s=n.expressions.every(function(a){var l=a.feature,c=a.modifier,h=a.value,p=t[l];if(!p)return!1;switch(l){case"orientation":case"scan":return p.toLowerCase()===h.toLowerCase();case"width":case"height":case"device-width":case"device-height":h=KP(h),p=KP(p);break;case"resolution":h=HP(h),p=HP(p);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":h=WP(h),p=WP(p);break;case"grid":case"color":case"color-index":case"monochrome":h=parseInt(h,10)||1,p=parseInt(p,10)||0;break}switch(c){case"min":return p>=h;case"max":return p<=h;default:return p===h}});return s&&!r||!s&&r})}function Z4(e){return e.split(",").map(function(t){t=t.trim();var n=t.match(vne),r=n[1],i=n[2],s=n[3]||"",a={};return a.inverse=!!r&&r.toLowerCase()==="not",a.type=i?i.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],a.expressions=s.map(function(l){var c=l.match(gne),h=c[1].toLowerCase().match(mne);return{modifier:h[1],feature:h[2],value:c[2]}}),a})}function WP(e){var t=Number(e),n;return t||(n=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=n[1]/n[2]),t}function HP(e){var t=parseFloat(e),n=String(e).match(_ne)[1];switch(n){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function KP(e){var t=parseFloat(e),n=String(e).match(yne)[1];switch(n){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var Ene=OS.match,GP=typeof window<"u"?window.matchMedia:null;function bne(e,t,n){var r=this,i;GP&&!n&&(i=GP.call(window,e)),i?(this.matches=i.matches,this.media=i.media,i.addListener(l)):(this.matches=Ene(e,t),this.media=e),this.addListener=s,this.removeListener=a,this.dispose=c;function s(h){i&&i.addListener(h)}function a(h){i&&i.removeListener(h)}function l(h){r.matches=h.matches,r.media=h.media}function c(){i&&i.removeListener(l)}}function Tne(e,t,n){return new bne(e,t,n)}var Ine=Tne;const Sne=ig(Ine);var kne=/[A-Z]/g,Cne=/^ms-/,fw={};function Nne(e){return"-"+e.toLowerCase()}function eV(e){if(fw.hasOwnProperty(e))return fw[e];var t=e.replace(kne,Nne);return fw[e]=Cne.test(t)?"-"+t:t}function Ane(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}const mn=Re.oneOfType([Re.string,Re.number]),DS={all:Re.bool,grid:Re.bool,aural:Re.bool,braille:Re.bool,handheld:Re.bool,print:Re.bool,projection:Re.bool,screen:Re.bool,tty:Re.bool,tv:Re.bool,embossed:Re.bool},tV={orientation:Re.oneOf(["portrait","landscape"]),scan:Re.oneOf(["progressive","interlace"]),aspectRatio:Re.string,deviceAspectRatio:Re.string,height:mn,deviceHeight:mn,width:mn,deviceWidth:mn,color:Re.bool,colorIndex:Re.bool,monochrome:Re.bool,resolution:mn,type:Object.keys(DS)},{type:Kne,...Rne}=tV,nV={minAspectRatio:Re.string,maxAspectRatio:Re.string,minDeviceAspectRatio:Re.string,maxDeviceAspectRatio:Re.string,minHeight:mn,maxHeight:mn,minDeviceHeight:mn,maxDeviceHeight:mn,minWidth:mn,maxWidth:mn,minDeviceWidth:mn,maxDeviceWidth:mn,minColor:Re.number,maxColor:Re.number,minColorIndex:Re.number,maxColorIndex:Re.number,minMonochrome:Re.number,maxMonochrome:Re.number,minResolution:mn,maxResolution:mn,...Rne},xne={...DS,...nV};var Pne={all:xne,types:DS,matchers:tV,features:nV};const One=e=>`not ${e}`,Dne=(e,t)=>{const n=eV(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?One(n):`(${n}: ${t})`},Lne=e=>e.join(" and "),Mne=e=>{const t=[];return Object.keys(Pne.all).forEach(n=>{const r=e[n];r!=null&&t.push(Dne(n,r))}),Lne(t)},Fne=V.createContext(void 0),jne=e=>e.query||Mne(e),QP=e=>e?Object.keys(e).reduce((n,r)=>(n[eV(r)]=e[r],n),{}):void 0,rV=()=>{const e=V.useRef(!1);return V.useEffect(()=>{e.current=!0},[]),e.current},Une=e=>{const t=V.useContext(Fne),n=()=>QP(e)||QP(t),[r,i]=V.useState(n);return V.useEffect(()=>{const s=n();Ane(r,s)||i(s)},[e,t]),r},Vne=e=>{const t=()=>jne(e),[n,r]=V.useState(t);return V.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Bne=(e,t)=>{const n=()=>Sne(e,t||{},!!t),[r,i]=V.useState(n),s=rV();return V.useEffect(()=>{if(s){const a=n();return i(a),()=>{a&&a.dispose()}}},[e,t]),r},$ne=e=>{const[t,n]=V.useState(e.matches);return V.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},qne=(e,t,n)=>{const r=Une(t),i=Vne(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=Bne(i,r),a=$ne(s),l=rV();return V.useEffect(()=>{l&&n&&n(a)},[a]),V.useEffect(()=>()=>{s&&s.dispose()},[]),a},zne=e=>{const{theme:t}=V.useContext(Hi),n=V.createRef(null),r=qne({query:"(max-width: 768px)"});return k.jsxs("div",{id:"home-container",ref:n,children:[k.jsx(b3,{parentRef:null}),k.jsxs("div",{className:"intro-container intro-container-"+t,id:"home",children:[k.jsx(pne,{}),k.jsx(one,{})]}),k.jsx("div",{className:"section-header",id:"about",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"About"})})}),k.jsx("p",{className:"about__text",style:{width:r?"90%":"65%",height:"fit-content",margin:"5% auto 9% auto",fontSize:r?"1.2em":"1.5em"},children:"With a dedication to a philosophy of lifelong learning, I'm a full stack developer with a strong passion passion for all facets of web development. The blend of creativity, logic, and endless opportunities for discovery fuels my enthusiasm for this field. When I step away from coding, I like to immerse myself in reading, playing guitar, and staying fit."}),k.jsx(T3,{}),k.jsx("div",{className:"section-header section-header-first",id:"projects",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"Projects"})})}),k.jsx("div",{className:"home-projects__container",children:k.jsx(A3,{})}),k.jsx("div",{className:"section-header",id:"contact",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"Contact"})})}),k.jsx(ine,{})]})},Wne=e=>{const{pageLocation:t,setPageLocation:n}=V.useContext(ya),{theme:r}=V.useContext(Hi);return k.jsxs("div",{id:"app",className:`app-${r}`,children:[k.jsx(une,{pageLocation:t,setPageLocation:n}),k.jsx(e3,{children:k.jsx(JD,{path:"/",element:k.jsx(zne,{})})}),k.jsx(sne,{}),k.jsx("div",{className:"app-container hidden"})]})},Hne=document.getElementById("root");mz.render(k.jsx(n3,{children:k.jsx(E3,{children:k.jsx(w3,{children:k.jsx(Wne,{})})})}),Hne);
