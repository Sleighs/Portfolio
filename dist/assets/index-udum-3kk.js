function $6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function UP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VP={exports:{}},ih={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vN=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,z6=Object.prototype.propertyIsEnumerable;function H6(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function W6(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var BP=W6()?Object.assign:function(e,t){for(var n,r=H6(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)q6.call(n,a)&&(r[a]=n[a]);if(vN){i=vN(n);for(var l=0;l<i.length;l++)z6.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},$P={exports:{}},Se={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=BP,cl=60103,qP=60106;Se.Fragment=60107;Se.StrictMode=60108;Se.Profiler=60114;var zP=60109,HP=60110,WP=60112;Se.Suspense=60113;var KP=60115,GP=60116;if(typeof Symbol=="function"&&Symbol.for){var xr=Symbol.for;cl=xr("react.element"),qP=xr("react.portal"),Se.Fragment=xr("react.fragment"),Se.StrictMode=xr("react.strict_mode"),Se.Profiler=xr("react.profiler"),zP=xr("react.provider"),HP=xr("react.context"),WP=xr("react.forward_ref"),Se.Suspense=xr("react.suspense"),KP=xr("react.memo"),GP=xr("react.lazy")}var gN=typeof Symbol=="function"&&Symbol.iterator;function K6(e){return e===null||typeof e!="object"?null:(e=gN&&e[gN]||e["@@iterator"],typeof e=="function"?e:null)}function oh(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YP={};function fl(e,t,n){this.props=e,this.context=t,this.refs=YP,this.updater=n||QP}fl.prototype.isReactComponent={};fl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(oh(85));this.updater.enqueueSetState(this,e,t,"setState")};fl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XP(){}XP.prototype=fl.prototype;function ib(e,t,n){this.props=e,this.context=t,this.refs=YP,this.updater=n||QP}var ob=ib.prototype=new XP;ob.constructor=ib;rb(ob,fl.prototype);ob.isPureReactComponent=!0;var sb={current:null},JP=Object.prototype.hasOwnProperty,ZP={key:!0,ref:!0,__self:!0,__source:!0};function eO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)JP.call(t,r)&&!ZP.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:cl,type:e,key:s,ref:a,props:i,_owner:sb.current}}function G6(e,t){return{$$typeof:cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ab(e){return typeof e=="object"&&e!==null&&e.$$typeof===cl}function Q6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mN=/\/+/g;function t_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q6(""+e.key):t.toString(36)}function wp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case cl:case qP:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+t_(a,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(mN,"$&/")+"/"),wp(i,t,n,"",function(h){return h})):i!=null&&(ab(i)&&(i=G6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+t_(s,l);a+=wp(s,t,n,c,i)}else if(c=K6(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+t_(s,l++),a+=wp(s,t,n,c,i);else if(s==="object")throw t=""+e,Error(oh(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Wd(e,t,n){if(e==null)return e;var r=[],i=0;return wp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Y6(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var tO={current:null};function qi(){var e=tO.current;if(e===null)throw Error(oh(321));return e}var X6={ReactCurrentDispatcher:tO,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:sb,IsSomeRendererActing:{current:!1},assign:rb};Se.Children={map:Wd,forEach:function(e,t,n){Wd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wd(e,function(){t++}),t},toArray:function(e){return Wd(e,function(t){return t})||[]},only:function(e){if(!ab(e))throw Error(oh(143));return e}};Se.Component=fl;Se.PureComponent=ib;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X6;Se.cloneElement=function(e,t,n){if(e==null)throw Error(oh(267,e));var r=rb({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=sb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)JP.call(t,c)&&!ZP.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:cl,type:e.type,key:i,ref:s,props:r,_owner:a}};Se.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:HP,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:zP,_context:e},e.Consumer=e};Se.createElement=eO;Se.createFactory=function(e){var t=eO.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:WP,render:e}};Se.isValidElement=ab;Se.lazy=function(e){return{$$typeof:GP,_payload:{_status:-1,_result:e},_init:Y6}};Se.memo=function(e,t){return{$$typeof:KP,type:e,compare:t===void 0?null:t}};Se.useCallback=function(e,t){return qi().useCallback(e,t)};Se.useContext=function(e,t){return qi().useContext(e,t)};Se.useDebugValue=function(){};Se.useEffect=function(e,t){return qi().useEffect(e,t)};Se.useImperativeHandle=function(e,t,n){return qi().useImperativeHandle(e,t,n)};Se.useLayoutEffect=function(e,t){return qi().useLayoutEffect(e,t)};Se.useMemo=function(e,t){return qi().useMemo(e,t)};Se.useReducer=function(e,t,n){return qi().useReducer(e,t,n)};Se.useRef=function(e){return qi().useRef(e)};Se.useState=function(e){return qi().useState(e)};Se.version="17.0.2";$P.exports=Se;var H=$P.exports;const ub=UP(H),J6=$6({__proto__:null,default:ub},[H]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z6=H,nO=60103;ih.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var yN=Symbol.for;nO=yN("react.element"),ih.Fragment=yN("react.fragment")}var eq=Z6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tq=Object.prototype.hasOwnProperty,nq={key:!0,ref:!0,__self:!0,__source:!0};function rO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)tq.call(t,r)&&!nq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nO,type:e,key:s,ref:a,props:i,_owner:eq.current}}ih.jsx=rO;ih.jsxs=rO;VP.exports=ih;var k=VP.exports,iO={exports:{}},wr={},oO={exports:{}},sO={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,h=null,p=function(){if(c!==null)try{var K=e.unstable_now();c(!0,K),c=null}catch(se){throw setTimeout(p,0),se}};t=function(K){c!==null?setTimeout(t,0,K):(c=K,setTimeout(p,0))},n=function(K,se){h=setTimeout(K,se)},r=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,I=null,E=-1,T=5,S=0;e.unstable_shouldYield=function(){return e.unstable_now()>=S},i=function(){},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5};var R=new MessageChannel,P=R.port2;R.port1.onmessage=function(){if(I!==null){var K=e.unstable_now();S=K+T;try{I(!0,K)?P.postMessage(null):(w=!1,I=null)}catch(se){throw P.postMessage(null),se}}else w=!1},t=function(K){I=K,w||(w=!0,P.postMessage(null))},n=function(K,se){E=g(function(){K(e.unstable_now())},se)},r=function(){m(E),E=-1}}function M(K,se){var pe=K.length;K.push(se);e:for(;;){var qe=pe-1>>>1,pt=K[qe];if(pt!==void 0&&0<U(pt,se))K[qe]=se,K[pe]=pt,pe=qe;else break e}}function O(K){return K=K[0],K===void 0?null:K}function z(K){var se=K[0];if(se!==void 0){var pe=K.pop();if(pe!==se){K[0]=pe;e:for(var qe=0,pt=K.length;qe<pt;){var Tr=2*(qe+1)-1,zr=K[Tr],xe=Tr+1,Xi=K[xe];if(zr!==void 0&&0>U(zr,pe))Xi!==void 0&&0>U(Xi,zr)?(K[qe]=Xi,K[xe]=pe,qe=xe):(K[qe]=zr,K[Tr]=pe,qe=Tr);else if(Xi!==void 0&&0>U(Xi,pe))K[qe]=Xi,K[xe]=pe,qe=xe;else break e}}return se}return null}function U(K,se){var pe=K.sortIndex-se.sortIndex;return pe!==0?pe:K.id-se.id}var Q=[],x=[],yi=1,Tt=null,It=3,Qi=!1,Bn=!1,br=!1;function Ra(K){for(var se=O(x);se!==null;){if(se.callback===null)z(x);else if(se.startTime<=K)z(x),se.sortIndex=se.expirationTime,M(Q,se);else break;se=O(x)}}function Mt(K){if(br=!1,Ra(K),!Bn)if(O(Q)!==null)Bn=!0,t(ns);else{var se=O(x);se!==null&&n(Mt,se.startTime-K)}}function ns(K,se){Bn=!1,br&&(br=!1,r()),Qi=!0;var pe=It;try{for(Ra(se),Tt=O(Q);Tt!==null&&(!(Tt.expirationTime>se)||K&&!e.unstable_shouldYield());){var qe=Tt.callback;if(typeof qe=="function"){Tt.callback=null,It=Tt.priorityLevel;var pt=qe(Tt.expirationTime<=se);se=e.unstable_now(),typeof pt=="function"?Tt.callback=pt:Tt===O(Q)&&z(Q),Ra(se)}else z(Q);Tt=O(Q)}if(Tt!==null)var Tr=!0;else{var zr=O(x);zr!==null&&n(Mt,zr.startTime-se),Tr=!1}return Tr}finally{Tt=null,It=pe,Qi=!1}}var Yi=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){Bn||Qi||(Bn=!0,t(ns))},e.unstable_getCurrentPriorityLevel=function(){return It},e.unstable_getFirstCallbackNode=function(){return O(Q)},e.unstable_next=function(K){switch(It){case 1:case 2:case 3:var se=3;break;default:se=It}var pe=It;It=se;try{return K()}finally{It=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Yi,e.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=It;It=K;try{return se()}finally{It=pe}},e.unstable_scheduleCallback=function(K,se,pe){var qe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,K){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=pe+pt,K={id:yi++,callback:se,priorityLevel:K,startTime:pe,expirationTime:pt,sortIndex:-1},pe>qe?(K.sortIndex=pe,M(x,K),O(Q)===null&&K===O(x)&&(br?r():br=!0,n(Mt,pe-qe))):(K.sortIndex=pt,M(Q,K),Bn||Qi||(Bn=!0,t(ns))),K},e.unstable_wrapCallback=function(K){var se=It;return function(){var pe=It;It=se;try{return K.apply(this,arguments)}finally{It=pe}}}})(sO);oO.exports=sO;var rq=oO.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=H,Ge=BP,Dt=rq;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ng)throw Error($(227));var aO=new Set,gf={};function ha(e,t){Lu(e,t),Lu(e+"Capture",t)}function Lu(e,t){for(gf[e]=t,e=0;e<t.length;e++)aO.add(t[e])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_N=Object.prototype.hasOwnProperty,wN={},EN={};function oq(e){return _N.call(EN,e)?!0:_N.call(wN,e)?!1:iq.test(e)?EN[e]=!0:(wN[e]=!0,!1)}function sq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aq(e,t,n,r){if(t===null||typeof t>"u"||sq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var lb=/[\-:]([a-z])/g;function cb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lb,cb);Gt[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lb,cb);Gt[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lb,cb);Gt[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fb(e,t,n,r){var i=Gt.hasOwnProperty(t)?Gt[t]:null,s=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(aq(t,n,i,r)&&(n=null),r||i===null?oq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var da=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=60103,xs=60106,po=60107,hb=60108,qc=60114,db=60109,pb=60110,rg=60112,zc=60113,Vp=60120,ig=60115,vb=60116,gb=60121,mb=60128,uO=60129,yb=60130,uw=60131;if(typeof Symbol=="function"&&Symbol.for){var kt=Symbol.for;Mc=kt("react.element"),xs=kt("react.portal"),po=kt("react.fragment"),hb=kt("react.strict_mode"),qc=kt("react.profiler"),db=kt("react.provider"),pb=kt("react.context"),rg=kt("react.forward_ref"),zc=kt("react.suspense"),Vp=kt("react.suspense_list"),ig=kt("react.memo"),vb=kt("react.lazy"),gb=kt("react.block"),kt("react.scope"),mb=kt("react.opaque.id"),uO=kt("react.debug_trace_mode"),yb=kt("react.offscreen"),uw=kt("react.legacy_hidden")}var bN=typeof Symbol=="function"&&Symbol.iterator;function mc(e){return e===null||typeof e!="object"?null:(e=bN&&e[bN]||e["@@iterator"],typeof e=="function"?e:null)}var n_;function Fc(e){if(n_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);n_=t&&t[1]||""}return`
`+n_+e}var r_=!1;function Kd(e,t){if(!e||r_)return"";r_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{r_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fc(e):""}function uq(e){switch(e.tag){case 5:return Fc(e.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return e=Kd(e.type,!1),e;case 11:return e=Kd(e.type.render,!1),e;case 22:return e=Kd(e.type._render,!1),e;case 1:return e=Kd(e.type,!0),e;default:return""}}function _u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case xs:return"Portal";case qc:return"Profiler";case hb:return"StrictMode";case zc:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pb:return(e.displayName||"Context")+".Consumer";case db:return(e._context.displayName||"Context")+".Provider";case rg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case ig:return _u(e.type);case gb:return _u(e._render);case vb:t=e._payload,e=e._init;try{return _u(e(t))}catch{}}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function lO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lq(e){var t=lO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gd(e){e._valueTracker||(e._valueTracker=lq(e))}function cO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lw(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function TN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fO(e,t){t=t.checked,t!=null&&fb(e,"checked",t,!1)}function cw(e,t){fO(e,t);var n=Fo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fw(e,t.type,n):t.hasOwnProperty("defaultValue")&&fw(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fw(e,t,n){(t!=="number"||Bp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function cq(e){var t="";return ng.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function hw(e,t){return e=Ge({children:void 0},t),(t=cq(t.children))&&(e.children=t),e}function wu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fo(n)}}function hO(e,t){var n=Fo(t.value),r=Fo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var pw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function dO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qd,pO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==pw.svg||"innerHTML"in e)e.innerHTML=t;else{for(Qd=Qd||document.createElement("div"),Qd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fq=["Webkit","ms","Moz","O"];Object.keys(Hc).forEach(function(e){fq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hc[t]=Hc[e]})});function vO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hc.hasOwnProperty(e)&&Hc[e]?(""+t).trim():t+"px"}function gO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var hq=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gw(e,t){if(t){if(hq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function mw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _b(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yw=null,Eu=null,bu=null;function CN(e){if(e=ah(e)){if(typeof yw!="function")throw Error($(280));var t=e.stateNode;t&&(t=cg(t),yw(e.stateNode,e.type,t))}}function mO(e){Eu?bu?bu.push(e):bu=[e]:Eu=e}function yO(){if(Eu){var e=Eu,t=bu;if(bu=Eu=null,CN(e),t)for(e=0;e<t.length;e++)CN(t[e])}}function wb(e,t){return e(t)}function _O(e,t,n,r,i){return e(t,n,r,i)}function Eb(){}var wO=wb,Ps=!1,i_=!1;function bb(){(Eu!==null||bu!==null)&&(Eb(),yO())}function dq(e,t,n){if(i_)return e(t,n);i_=!0;try{return wO(e,t,n)}finally{i_=!1,bb()}}function yf(e,t){var n=e.stateNode;if(n===null)return null;var r=cg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var _w=!1;if(ji)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){_w=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{_w=!1}function pq(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Wc=!1,$p=null,qp=!1,ww=null,vq={onError:function(e){Wc=!0,$p=e}};function gq(e,t,n,r,i,s,a,l,c){Wc=!1,$p=null,pq.apply(vq,arguments)}function mq(e,t,n,r,i,s,a,l,c){if(gq.apply(this,arguments),Wc){if(Wc){var h=$p;Wc=!1,$p=null}else throw Error($(198));qp||(qp=!0,ww=h)}}function pa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NN(e){if(pa(e)!==e)throw Error($(188))}function yq(e){var t=e.alternate;if(!t){if(t=pa(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return NN(i),e;if(s===r)return NN(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function bO(e){if(e=yq(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function AN(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var TO,Tb,IO,SO,Ew=!1,ei=[],Io=null,So=null,ko=null,_f=new Map,wf=new Map,_c=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bw(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function xN(e,t){switch(e){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":_f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(t.pointerId)}}function wc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e=bw(t,n,r,i,s),t!==null&&(t=ah(t),t!==null&&Tb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _q(e,t,n,r,i){switch(t){case"focusin":return Io=wc(Io,e,t,n,r,i),!0;case"dragenter":return So=wc(So,e,t,n,r,i),!0;case"mouseover":return ko=wc(ko,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _f.set(s,wc(_f.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wf.set(s,wc(wf.get(s)||null,e,t,n,r,i)),!0}return!1}function wq(e){var t=Os(e.target);if(t!==null){var n=pa(t);if(n!==null){if(t=n.tag,t===13){if(t=EO(n),t!==null){e.blockedOn=t,SO(e.lanePriority,function(){Dt.unstable_runWithPriority(e.priority,function(){IO(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ep(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=ah(n),t!==null&&Tb(t),e.blockedOn=n,!1;t.shift()}return!0}function PN(e,t,n){Ep(e)&&n.delete(t)}function Eq(){for(Ew=!1;0<ei.length;){var e=ei[0];if(e.blockedOn!==null){e=ah(e.blockedOn),e!==null&&TO(e);break}for(var t=e.targetContainers;0<t.length;){var n=Cb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&ei.shift()}Io!==null&&Ep(Io)&&(Io=null),So!==null&&Ep(So)&&(So=null),ko!==null&&Ep(ko)&&(ko=null),_f.forEach(PN),wf.forEach(PN)}function Ec(e,t){e.blockedOn===t&&(e.blockedOn=null,Ew||(Ew=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,Eq)))}function kO(e){function t(i){return Ec(i,e)}if(0<ei.length){Ec(ei[0],e);for(var n=1;n<ei.length;n++){var r=ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Io!==null&&Ec(Io,e),So!==null&&Ec(So,e),ko!==null&&Ec(ko,e),_f.forEach(t),wf.forEach(t),n=0;n<_c.length;n++)r=_c[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)wq(n),n.blockedOn===null&&_c.shift()}function Yd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fu={animationend:Yd("Animation","AnimationEnd"),animationiteration:Yd("Animation","AnimationIteration"),animationstart:Yd("Animation","AnimationStart"),transitionend:Yd("Transition","TransitionEnd")},o_={},CO={};ji&&(CO=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function og(e){if(o_[e])return o_[e];if(!fu[e])return e;var t=fu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in CO)return o_[e]=t[n];return e}var NO=og("animationend"),AO=og("animationiteration"),RO=og("animationstart"),xO=og("transitionend"),PO=new Map,Ib=new Map,bq=["abort","abort",NO,"animationEnd",AO,"animationIteration",RO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xO,"transitionEnd","waiting","waiting"];function Sb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ib.set(r,t),PO.set(r,i),ha(i,[r])}}var Tq=Dt.unstable_now;Tq();var je=8;function su(e){if(1&e)return je=15,1;if(2&e)return je=14,2;if(4&e)return je=13,4;var t=24&e;return t!==0?(je=12,t):e&32?(je=11,32):(t=192&e,t!==0?(je=10,t):e&256?(je=9,256):(t=3584&e,t!==0?(je=8,t):e&4096?(je=7,4096):(t=4186112&e,t!==0?(je=6,t):(t=62914560&e,t!==0?(je=5,t):e&67108864?(je=4,67108864):e&134217728?(je=3,134217728):(t=805306368&e,t!==0?(je=2,t):1073741824&e?(je=1,1073741824):(je=8,e))))))}function Iq(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Sq(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,e))}}function Ef(e,t){var n=e.pendingLanes;if(n===0)return je=0;var r=0,i=0,s=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(s!==0)r=s,i=je=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(r=su(c),i=je):(l&=s,l!==0&&(r=su(l),i=je))}else s=n&~a,s!==0?(r=su(s),i=je):l!==0&&(r=su(l),i=je);if(r===0)return 0;if(r=31-jo(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&a)){if(su(t),i<=je)return t;je=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jo(t),i=1<<n,r|=e[n],t&=~i;return r}function OO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=au(24&~t),e===0?zp(10,t):e;case 10:return e=au(192&~t),e===0?zp(8,t):e;case 8:return e=au(3584&~t),e===0&&(e=au(4186112&~t),e===0&&(e=512)),e;case 2:return t=au(805306368&~t),t===0&&(t=268435456),t}throw Error($(358,e))}function au(e){return e&-e}function s_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sg(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-jo(t),e[t]=n}var jo=Math.clz32?Math.clz32:Nq,kq=Math.log,Cq=Math.LN2;function Nq(e){return e===0?32:31-(kq(e)/Cq|0)|0}var Aq=Dt.unstable_UserBlockingPriority,Rq=Dt.unstable_runWithPriority,bp=!0;function xq(e,t,n,r){Ps||Eb();var i=kb,s=Ps;Ps=!0;try{_O(i,e,t,n,r)}finally{(Ps=s)||bb()}}function Pq(e,t,n,r){Rq(Aq,kb.bind(null,e,t,n,r))}function kb(e,t,n,r){if(bp){var i;if((i=(t&4)===0)&&0<ei.length&&-1<RN.indexOf(e))e=bw(null,e,t,n,r),ei.push(e);else{var s=Cb(e,t,n,r);if(s===null)i&&xN(e,r);else{if(i){if(-1<RN.indexOf(e)){e=bw(s,e,t,n,r),ei.push(e);return}if(_q(s,e,t,n,r))return;xN(e,r)}WO(e,t,r,null,n)}}}}function Cb(e,t,n,r){var i=_b(r);if(i=Os(i),i!==null){var s=pa(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=EO(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return WO(e,t,r,i,n),null}var _o=null,Nb=null,Tp=null;function DO(){if(Tp)return Tp;var e,t=Nb,n=t.length,r,i="value"in _o?_o.value:_o.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Tp=i.slice(e,1<r?1-r:void 0)}function Ip(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xd(){return!0}function ON(){return!1}function tr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xd:ON,this.isPropagationStopped=ON,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),t}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ab=tr(hl),sh=Ge({},hl,{view:0,detail:0}),Oq=tr(sh),a_,u_,bc,ag=Ge({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bc&&(bc&&e.type==="mousemove"?(a_=e.screenX-bc.screenX,u_=e.screenY-bc.screenY):u_=a_=0,bc=e),a_)},movementY:function(e){return"movementY"in e?e.movementY:u_}}),DN=tr(ag),Dq=Ge({},ag,{dataTransfer:0}),Lq=tr(Dq),Mq=Ge({},sh,{relatedTarget:0}),l_=tr(Mq),Fq=Ge({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),jq=tr(Fq),Uq=Ge({},hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vq=tr(Uq),Bq=Ge({},hl,{data:0}),LN=tr(Bq),$q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zq[e])?!!t[e]:!1}function Rb(){return Hq}var Wq=Ge({},sh,{key:function(e){if(e.key){var t=$q[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ip(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rb,charCode:function(e){return e.type==="keypress"?Ip(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ip(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kq=tr(Wq),Gq=Ge({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MN=tr(Gq),Qq=Ge({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rb}),Yq=tr(Qq),Xq=Ge({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jq=tr(Xq),Zq=Ge({},ag,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=tr(Zq),t5=[9,13,27,32],xb=ji&&"CompositionEvent"in window,Kc=null;ji&&"documentMode"in document&&(Kc=document.documentMode);var n5=ji&&"TextEvent"in window&&!Kc,LO=ji&&(!xb||Kc&&8<Kc&&11>=Kc),FN=" ",jN=!1;function MO(e,t){switch(e){case"keyup":return t5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hu=!1;function r5(e,t){switch(e){case"compositionend":return FO(t);case"keypress":return t.which!==32?null:(jN=!0,FN);case"textInput":return e=t.data,e===FN&&jN?null:e;default:return null}}function i5(e,t){if(hu)return e==="compositionend"||!xb&&MO(e,t)?(e=DO(),Tp=Nb=_o=null,hu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LO&&t.locale!=="ko"?null:t.data;default:return null}}var o5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o5[e.type]:t==="textarea"}function jO(e,t,n,r){mO(r),t=Hp(t,"onChange"),0<t.length&&(n=new Ab("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gc=null,bf=null;function s5(e){qO(e,0)}function ug(e){var t=pu(e);if(cO(t))return e}function a5(e,t){if(e==="change")return t}var UO=!1;if(ji){var c_;if(ji){var f_="oninput"in document;if(!f_){var VN=document.createElement("div");VN.setAttribute("oninput","return;"),f_=typeof VN.oninput=="function"}c_=f_}else c_=!1;UO=c_&&(!document.documentMode||9<document.documentMode)}function BN(){Gc&&(Gc.detachEvent("onpropertychange",VO),bf=Gc=null)}function VO(e){if(e.propertyName==="value"&&ug(bf)){var t=[];if(jO(t,bf,e,_b(e)),e=s5,Ps)e(t);else{Ps=!0;try{wb(e,t)}finally{Ps=!1,bb()}}}}function u5(e,t,n){e==="focusin"?(BN(),Gc=t,bf=n,Gc.attachEvent("onpropertychange",VO)):e==="focusout"&&BN()}function l5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ug(bf)}function c5(e,t){if(e==="click")return ug(t)}function f5(e,t){if(e==="input"||e==="change")return ug(t)}function h5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:h5,d5=Object.prototype.hasOwnProperty;function Tf(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!d5.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function $N(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qN(e,t){var n=$N(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$N(n)}}function BO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zN(){for(var e=window,t=Bp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bp(e.document)}return t}function Tw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var p5=ji&&"documentMode"in document&&11>=document.documentMode,du=null,Iw=null,Qc=null,Sw=!1;function HN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sw||du==null||du!==Bp(r)||(r=du,"selectionStart"in r&&Tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qc&&Tf(Qc,r)||(Qc=r,r=Hp(Iw,"onSelect"),0<r.length&&(t=new Ab("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=du)))}Sb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Sb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Sb(bq,2);for(var WN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),h_=0;h_<WN.length;h_++)Ib.set(WN[h_],0);Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$O=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function KN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mq(r,t,void 0,e),e.currentTarget=null}function qO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;KN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;KN(i,l,h),s=c}}}if(qp)throw e=ww,qp=!1,ww=null,e}function Ve(e,t){var n=GO(t),r=e+"__bubble";n.has(r)||(HO(t,e,2,!1),n.add(r))}var GN="_reactListening"+Math.random().toString(36).slice(2);function zO(e){e[GN]||(e[GN]=!0,aO.forEach(function(t){$O.has(t)||QN(t,!1,e,null),QN(t,!0,e,null)}))}function QN(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&$O.has(e)){if(e!=="scroll")return;i|=2,s=r}var a=GO(s),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),HO(s,e,i,t),a.add(l))}function HO(e,t,n,r){var i=Ib.get(t);switch(i===void 0?2:i){case 0:i=xq;break;case 1:i=Pq;break;default:i=kb}n=i.bind(null,t,n,e),i=void 0,!_w||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function WO(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Os(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}dq(function(){var h=s,p=_b(n),g=[];e:{var m=PO.get(e);if(m!==void 0){var y=Ab,w=e;switch(e){case"keypress":if(Ip(n)===0)break e;case"keydown":case"keyup":y=Kq;break;case"focusin":w="focus",y=l_;break;case"focusout":w="blur",y=l_;break;case"beforeblur":case"afterblur":y=l_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=DN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Yq;break;case NO:case AO:case RO:y=jq;break;case xO:y=Jq;break;case"scroll":y=Oq;break;case"wheel":y=e5;break;case"copy":case"cut":case"paste":y=Vq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=MN}var I=(t&4)!==0,E=!I&&e==="scroll",T=I?m!==null?m+"Capture":null:m;I=[];for(var S=h,R;S!==null;){R=S;var P=R.stateNode;if(R.tag===5&&P!==null&&(R=P,T!==null&&(P=yf(S,T),P!=null&&I.push(If(S,P,R)))),E)break;S=S.return}0<I.length&&(m=new y(m,w,null,n,p),g.push({event:m,listeners:I}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&!(t&16)&&(w=n.relatedTarget||n.fromElement)&&(Os(w)||w[dl]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Os(w):null,w!==null&&(E=pa(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(I=DN,P="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=MN,P="onPointerLeave",T="onPointerEnter",S="pointer"),E=y==null?m:pu(y),R=w==null?m:pu(w),m=new I(P,S+"leave",y,n,p),m.target=E,m.relatedTarget=R,P=null,Os(p)===h&&(I=new I(T,S+"enter",w,n,p),I.target=R,I.relatedTarget=E,P=I),E=P,y&&w)t:{for(I=y,T=w,S=0,R=I;R;R=tu(R))S++;for(R=0,P=T;P;P=tu(P))R++;for(;0<S-R;)I=tu(I),S--;for(;0<R-S;)T=tu(T),R--;for(;S--;){if(I===T||T!==null&&I===T.alternate)break t;I=tu(I),T=tu(T)}I=null}else I=null;y!==null&&YN(g,m,y,I,!1),w!==null&&E!==null&&YN(g,E,w,I,!0)}}e:{if(m=h?pu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=a5;else if(UN(m))if(UO)M=f5;else{M=l5;var O=u5}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=c5);if(M&&(M=M(e,h))){jO(g,M,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&fw(m,"number",m.value)}switch(O=h?pu(h):window,e){case"focusin":(UN(O)||O.contentEditable==="true")&&(du=O,Iw=h,Qc=null);break;case"focusout":Qc=Iw=du=null;break;case"mousedown":Sw=!0;break;case"contextmenu":case"mouseup":case"dragend":Sw=!1,HN(g,n,p);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":HN(g,n,p)}var z;if(xb)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else hu?MO(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(LO&&n.locale!=="ko"&&(hu||U!=="onCompositionStart"?U==="onCompositionEnd"&&hu&&(z=DO()):(_o=p,Nb="value"in _o?_o.value:_o.textContent,hu=!0)),O=Hp(h,U),0<O.length&&(U=new LN(U,e,null,n,p),g.push({event:U,listeners:O}),z?U.data=z:(z=FO(n),z!==null&&(U.data=z)))),(z=n5?r5(e,n):i5(e,n))&&(h=Hp(h,"onBeforeInput"),0<h.length&&(p=new LN("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=z))}qO(g,t)})}function If(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yf(e,n),s!=null&&r.unshift(If(e,s,i)),s=yf(e,t),s!=null&&r.push(If(e,s,i))),e=e.return}return r}function tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=yf(n,s),c!=null&&a.unshift(If(n,c,l))):i||(c=yf(n,s),c!=null&&a.push(If(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function Wp(){}var d_=null,p_=null;function KO(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function kw(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var XN=typeof setTimeout=="function"?setTimeout:void 0,v5=typeof clearTimeout=="function"?clearTimeout:void 0;function Pb(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Tu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function JN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var v_=0;function g5(e){return{$$typeof:mb,toString:e,valueOf:e}}var lg=Math.random().toString(36).slice(2),wo="__reactFiber$"+lg,Kp="__reactProps$"+lg,dl="__reactContainer$"+lg,ZN="__reactEvents$"+lg;function Os(e){var t=e[wo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dl]||n[wo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=JN(e);e!==null;){if(n=e[wo])return n;e=JN(e)}return t}e=n,n=e.parentNode}return null}function ah(e){return e=e[wo]||e[dl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function cg(e){return e[Kp]||null}function GO(e){var t=e[ZN];return t===void 0&&(t=e[ZN]=new Set),t}var Cw=[],vu=-1;function Go(e){return{current:e}}function $e(e){0>vu||(e.current=Cw[vu],Cw[vu]=null,vu--)}function tt(e,t){vu++,Cw[vu]=e.current,e.current=t}var Uo={},un=Go(Uo),Dn=Go(!1),Ys=Uo;function Mu(e,t){var n=e.type.contextTypes;if(!n)return Uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(e){return e=e.childContextTypes,e!=null}function Gp(){$e(Dn),$e(un)}function eA(e,t,n){if(un.current!==Uo)throw Error($(168));tt(un,t),tt(Dn,n)}function QO(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,_u(t)||"Unknown",i));return Ge({},n,r)}function Sp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uo,Ys=un.current,tt(un,e),tt(Dn,Dn.current),!0}function tA(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=QO(e,t,Ys),r.__reactInternalMemoizedMergedChildContext=e,$e(Dn),$e(un),tt(un,e)):$e(Dn),tt(Dn,n)}var Ob=null,qs=null,m5=Dt.unstable_runWithPriority,Db=Dt.unstable_scheduleCallback,Nw=Dt.unstable_cancelCallback,y5=Dt.unstable_shouldYield,nA=Dt.unstable_requestPaint,Aw=Dt.unstable_now,_5=Dt.unstable_getCurrentPriorityLevel,fg=Dt.unstable_ImmediatePriority,YO=Dt.unstable_UserBlockingPriority,XO=Dt.unstable_NormalPriority,JO=Dt.unstable_LowPriority,ZO=Dt.unstable_IdlePriority,g_={},w5=nA!==void 0?nA:function(){},Ci=null,kp=null,m_=!1,rA=Aw(),tn=1e4>rA?Aw:function(){return Aw()-rA};function Fu(){switch(_5()){case fg:return 99;case YO:return 98;case XO:return 97;case JO:return 96;case ZO:return 95;default:throw Error($(332))}}function eD(e){switch(e){case 99:return fg;case 98:return YO;case 97:return XO;case 96:return JO;case 95:return ZO;default:throw Error($(332))}}function Xs(e,t){return e=eD(e),m5(e,t)}function Sf(e,t,n){return e=eD(e),Db(e,t,n)}function vi(){if(kp!==null){var e=kp;kp=null,Nw(e)}tD()}function tD(){if(!m_&&Ci!==null){m_=!0;var e=0;try{var t=Ci;Xs(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Ci=null}catch(n){throw Ci!==null&&(Ci=Ci.slice(e+1)),Db(fg,vi),n}finally{m_=!1}}}var E5=da.ReactCurrentBatchConfig;function Mr(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qp=Go(null),Yp=null,gu=null,Xp=null;function Lb(){Xp=gu=Yp=null}function Mb(e){var t=Qp.current;$e(Qp),e.type._context._currentValue=t}function nD(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Iu(e,t){Yp=e,Xp=gu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jr=!0),e.firstContext=null)}function gr(e,t){if(Xp!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Xp=e,t=1073741823),t={context:e,observedBits:t,next:null},gu===null){if(Yp===null)throw Error($(308));gu=t,Yp.dependencies={lanes:0,firstContext:t,responders:null}}else gu=gu.next=t;return e._currentValue}var fo=!1;function Fb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function iA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kf(e,t,n,r){var i=e.updateQueue;fo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;if(p!==null){p=p.updateQueue;var g=p.lastBaseUpdate;g!==a&&(g===null?p.firstBaseUpdate=h:g.next=h,p.lastBaseUpdate=c)}}if(s!==null){g=i.baseState,a=0,p=h=c=null;do{l=s.lane;var m=s.eventTime;if((r&l)===l){p!==null&&(p=p.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,w=s;switch(l=t,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){g=y.call(m,g,l);break e}g=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=w.payload,l=typeof y=="function"?y.call(m,g,l):y,l==null)break e;g=Ge({},g,l);break e;case 2:fo=!0}}s.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else m={eventTime:m,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(h=p=m,c=g):p=p.next=m,a|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(!0);p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,lh|=a,e.lanes=a,e.memoizedState=g}}function oA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var iD=new ng.Component().refs;function Jp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hg={isMounted:function(e){return(e=e._reactInternals)?pa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xn(),i=Ao(e),s=Co(r,i);s.payload=t,n!=null&&(s.callback=n),No(e,s),Ro(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xn(),i=Ao(e),s=Co(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),No(e,s),Ro(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xn(),r=Ao(e),i=Co(n,r);i.tag=2,t!=null&&(i.callback=t),No(e,i),Ro(e,r,n)}};function sA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Tf(n,r)||!Tf(i,s):!0}function oD(e,t,n){var r=!1,i=Uo,s=t.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=Ln(t)?Ys:un.current,r=t.contextTypes,s=(r=r!=null)?Mu(e,i):Uo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hg.enqueueReplaceState(t,t.state,null)}function Rw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=iD,Fb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=Ln(t)?Ys:un.current,i.context=Mu(e,s)),kf(e,n,i,r),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Jp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hg.enqueueReplaceState(i,i.state,null),kf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Jd=Array.isArray;function Tc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=r.refs;a===iD&&(a=r.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Zd(e,t){if(e.type!=="textarea")throw Error($(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function sD(e){function t(E,T){if(e){var S=E.lastEffect;S!==null?(S.nextEffect=T,E.lastEffect=T):E.firstEffect=E.lastEffect=T,T.nextEffect=null,T.flags=8}}function n(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=Bo(E,T),E.index=0,E.sibling=null,E}function s(E,T,S){return E.index=S,e?(S=E.alternate,S!==null?(S=S.index,S<T?(E.flags=2,T):S):(E.flags=2,T)):T}function a(E){return e&&E.alternate===null&&(E.flags=2),E}function l(E,T,S,R){return T===null||T.tag!==6?(T=b_(S,E.mode,R),T.return=E,T):(T=i(T,S),T.return=E,T)}function c(E,T,S,R){return T!==null&&T.elementType===S.type?(R=i(T,S.props),R.ref=Tc(E,T,S),R.return=E,R):(R=Rp(S.type,S.key,S.props,null,E.mode,R),R.ref=Tc(E,T,S),R.return=E,R)}function h(E,T,S,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=T_(S,E.mode,R),T.return=E,T):(T=i(T,S.children||[]),T.return=E,T)}function p(E,T,S,R,P){return T===null||T.tag!==7?(T=Nu(S,E.mode,R,P),T.return=E,T):(T=i(T,S),T.return=E,T)}function g(E,T,S){if(typeof T=="string"||typeof T=="number")return T=b_(""+T,E.mode,S),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mc:return S=Rp(T.type,T.key,T.props,null,E.mode,S),S.ref=Tc(E,null,T),S.return=E,S;case xs:return T=T_(T,E.mode,S),T.return=E,T}if(Jd(T)||mc(T))return T=Nu(T,E.mode,S,null),T.return=E,T;Zd(E,T)}return null}function m(E,T,S,R){var P=T!==null?T.key:null;if(typeof S=="string"||typeof S=="number")return P!==null?null:l(E,T,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:return S.key===P?S.type===po?p(E,T,S.props.children,R,P):c(E,T,S,R):null;case xs:return S.key===P?h(E,T,S,R):null}if(Jd(S)||mc(S))return P!==null?null:p(E,T,S,R,null);Zd(E,S)}return null}function y(E,T,S,R,P){if(typeof R=="string"||typeof R=="number")return E=E.get(S)||null,l(T,E,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Mc:return E=E.get(R.key===null?S:R.key)||null,R.type===po?p(T,E,R.props.children,P,R.key):c(T,E,R,P);case xs:return E=E.get(R.key===null?S:R.key)||null,h(T,E,R,P)}if(Jd(R)||mc(R))return E=E.get(S)||null,p(T,E,R,P,null);Zd(T,R)}return null}function w(E,T,S,R){for(var P=null,M=null,O=T,z=T=0,U=null;O!==null&&z<S.length;z++){O.index>z?(U=O,O=null):U=O.sibling;var Q=m(E,O,S[z],R);if(Q===null){O===null&&(O=U);break}e&&O&&Q.alternate===null&&t(E,O),T=s(Q,T,z),M===null?P=Q:M.sibling=Q,M=Q,O=U}if(z===S.length)return n(E,O),P;if(O===null){for(;z<S.length;z++)O=g(E,S[z],R),O!==null&&(T=s(O,T,z),M===null?P=O:M.sibling=O,M=O);return P}for(O=r(E,O);z<S.length;z++)U=y(O,E,z,S[z],R),U!==null&&(e&&U.alternate!==null&&O.delete(U.key===null?z:U.key),T=s(U,T,z),M===null?P=U:M.sibling=U,M=U);return e&&O.forEach(function(x){return t(E,x)}),P}function I(E,T,S,R){var P=mc(S);if(typeof P!="function")throw Error($(150));if(S=P.call(S),S==null)throw Error($(151));for(var M=P=null,O=T,z=T=0,U=null,Q=S.next();O!==null&&!Q.done;z++,Q=S.next()){O.index>z?(U=O,O=null):U=O.sibling;var x=m(E,O,Q.value,R);if(x===null){O===null&&(O=U);break}e&&O&&x.alternate===null&&t(E,O),T=s(x,T,z),M===null?P=x:M.sibling=x,M=x,O=U}if(Q.done)return n(E,O),P;if(O===null){for(;!Q.done;z++,Q=S.next())Q=g(E,Q.value,R),Q!==null&&(T=s(Q,T,z),M===null?P=Q:M.sibling=Q,M=Q);return P}for(O=r(E,O);!Q.done;z++,Q=S.next())Q=y(O,E,z,Q.value,R),Q!==null&&(e&&Q.alternate!==null&&O.delete(Q.key===null?z:Q.key),T=s(Q,T,z),M===null?P=Q:M.sibling=Q,M=Q);return e&&O.forEach(function(yi){return t(E,yi)}),P}return function(E,T,S,R){var P=typeof S=="object"&&S!==null&&S.type===po&&S.key===null;P&&(S=S.props.children);var M=typeof S=="object"&&S!==null;if(M)switch(S.$$typeof){case Mc:e:{for(M=S.key,P=T;P!==null;){if(P.key===M){switch(P.tag){case 7:if(S.type===po){n(E,P.sibling),T=i(P,S.props.children),T.return=E,E=T;break e}break;default:if(P.elementType===S.type){n(E,P.sibling),T=i(P,S.props),T.ref=Tc(E,P,S),T.return=E,E=T;break e}}n(E,P);break}else t(E,P);P=P.sibling}S.type===po?(T=Nu(S.props.children,E.mode,R,S.key),T.return=E,E=T):(R=Rp(S.type,S.key,S.props,null,E.mode,R),R.ref=Tc(E,T,S),R.return=E,E=R)}return a(E);case xs:e:{for(P=S.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(E,T.sibling),T=i(T,S.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else t(E,T);T=T.sibling}T=T_(S,E.mode,R),T.return=E,E=T}return a(E)}if(typeof S=="string"||typeof S=="number")return S=""+S,T!==null&&T.tag===6?(n(E,T.sibling),T=i(T,S),T.return=E,E=T):(n(E,T),T=b_(S,E.mode,R),T.return=E,E=T),a(E);if(Jd(S))return w(E,T,S,R);if(mc(S))return I(E,T,S,R);if(M&&Zd(E,S),typeof S>"u"&&!P)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,_u(E.type)||"Component"))}return n(E,T)}}var Zp=sD(!0),aD=sD(!1),uh={},ii=Go(uh),Cf=Go(uh),Nf=Go(uh);function Ds(e){if(e===uh)throw Error($(174));return e}function xw(e,t){switch(tt(Nf,t),tt(Cf,e),tt(ii,uh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vw(t,e)}$e(ii),tt(ii,t)}function ju(){$e(ii),$e(Cf),$e(Nf)}function uA(e){Ds(Nf.current);var t=Ds(ii.current),n=vw(t,e.type);t!==n&&(tt(Cf,e),tt(ii,n))}function jb(e){Cf.current===e&&($e(ii),$e(Cf))}var et=Go(0);function ev(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ai=null,Eo=null,oi=!1;function uD(e,t){var n=ar(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function lA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Pw(e){if(oi){var t=Eo;if(t){var n=t;if(!lA(e,t)){if(t=Tu(n.nextSibling),!t||!lA(e,t)){e.flags=e.flags&-1025|2,oi=!1,Ai=e;return}uD(Ai,n)}Ai=e,Eo=Tu(t.firstChild)}else e.flags=e.flags&-1025|2,oi=!1,Ai=e}}function cA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ai=e}function ep(e){if(e!==Ai)return!1;if(!oi)return cA(e),oi=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!kw(t,e.memoizedProps))for(t=Eo;t;)uD(e,t),t=Tu(t.nextSibling);if(cA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Eo=Tu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Eo=null}}else Eo=Ai?Tu(e.stateNode.nextSibling):null;return!0}function y_(){Eo=Ai=null,oi=!1}var Su=[];function Ub(){for(var e=0;e<Su.length;e++)Su[e]._workInProgressVersionPrimary=null;Su.length=0}var Yc=da.ReactCurrentDispatcher,dr=da.ReactCurrentBatchConfig,Af=0,at=null,Jt=null,Ut=null,tv=!1,Xc=!1;function xn(){throw Error($(321))}function Vb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Bb(e,t,n,r,i,s){if(Af=s,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?T5:I5,e=n(r,i),Xc){s=0;do{if(Xc=!1,!(25>s))throw Error($(301));s+=1,Ut=Jt=null,t.updateQueue=null,Yc.current=S5,e=n(r,i)}while(Xc)}if(Yc.current=ov,t=Jt!==null&&Jt.next!==null,Af=0,Ut=Jt=at=null,tv=!1,t)throw Error($(300));return e}function Ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?at.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function va(){if(Jt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var t=Ut===null?at.memoizedState:Ut.next;if(t!==null)Ut=t,Jt=e;else{if(e===null)throw Error($(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ut===null?at.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function ti(e,t){return typeof t=="function"?t(e):t}function Ic(e){var t=va(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var h=c.lane;if((Af&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=r):l=l.next=p,at.lanes|=h,lh|=h}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,sr(r,t.memoizedState)||(jr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Sc(e){var t=va(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);sr(s,t.memoizedState)||(jr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fA(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Af&e)===e)&&(t._workInProgressVersionPrimary=r,Su.push(t))),e)return n(t._source);throw Su.push(t),Error($(350))}function lD(e,t,n,r){var i=bn;if(i===null)throw Error($(349));var s=t._getVersion,a=s(t._source),l=Yc.current,c=l.useState(function(){return fA(i,t,n)}),h=c[1],p=c[0];c=Ut;var g=e.memoizedState,m=g.refs,y=m.getSnapshot,w=g.source;g=g.subscribe;var I=at;return e.memoizedState={refs:m,source:t,subscribe:r},l.useEffect(function(){m.getSnapshot=n,m.setSnapshot=h;var E=s(t._source);if(!sr(a,E)){E=n(t._source),sr(p,E)||(h(E),E=Ao(I),i.mutableReadLanes|=E&i.pendingLanes),E=i.mutableReadLanes,i.entangledLanes|=E;for(var T=i.entanglements,S=E;0<S;){var R=31-jo(S),P=1<<R;T[R]|=E,S&=~P}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var E=m.getSnapshot,T=m.setSnapshot;try{T(E(t._source));var S=Ao(I);i.mutableReadLanes|=S&i.pendingLanes}catch(R){T(function(){throw R})}})},[t,r]),sr(y,n)&&sr(w,t)&&sr(g,r)||(e={pending:null,dispatch:null,lastRenderedReducer:ti,lastRenderedState:p},e.dispatch=h=zb.bind(null,at,e),c.queue=e,c.baseQueue=null,p=fA(i,t,n),c.memoizedState=c.baseState=p),p}function cD(e,t,n){var r=va();return lD(r,e,t,n)}function kc(e){var t=Ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},e=e.dispatch=zb.bind(null,at,e),[t.memoizedState,e]}function nv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=at.updateQueue,t===null?(t={lastEffect:null},at.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hA(e){var t=Ls();return e={current:e},t.memoizedState=e}function rv(){return va().memoizedState}function Ow(e,t,n,r){var i=Ls();at.flags|=e,i.memoizedState=nv(1|t,n,void 0,r===void 0?null:r)}function $b(e,t,n,r){var i=va();r=r===void 0?null:r;var s=void 0;if(Jt!==null){var a=Jt.memoizedState;if(s=a.destroy,r!==null&&Vb(r,a.deps)){nv(t,n,s,r);return}}at.flags|=e,i.memoizedState=nv(1|t,n,s,r)}function dA(e,t){return Ow(516,4,e,t)}function iv(e,t){return $b(516,4,e,t)}function fD(e,t){return $b(4,2,e,t)}function hD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dD(e,t,n){return n=n!=null?n.concat([e]):null,$b(4,2,hD.bind(null,t,e),n)}function qb(){}function pD(e,t){var n=va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vD(e,t){var n=va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b5(e,t){var n=Fu();Xs(98>n?98:n,function(){e(!0)}),Xs(97<n?97:n,function(){var r=dr.transition;dr.transition=1;try{e(!1),t()}finally{dr.transition=r}})}function zb(e,t,n){var r=Xn(),i=Ao(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===at||a!==null&&a===at)Xc=tv=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,sr(c,l))return}catch{}finally{}Ro(e,i,r)}}var ov={readContext:gr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useOpaqueIdentifier:xn,unstable_isNewReconciler:!1},T5={readContext:gr,useCallback:function(e,t){return Ls().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:dA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ow(4,2,hD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ow(4,2,e,t)},useMemo:function(e,t){var n=Ls();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ls();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=zb.bind(null,at,e),[r.memoizedState,e]},useRef:hA,useState:kc,useDebugValue:qb,useDeferredValue:function(e){var t=kc(e),n=t[0],r=t[1];return dA(function(){var i=dr.transition;dr.transition=1;try{r(e)}finally{dr.transition=i}},[e]),n},useTransition:function(){var e=kc(!1),t=e[0];return e=b5.bind(null,e[1]),hA(e),[e,t]},useMutableSource:function(e,t,n){var r=Ls();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lD(r,e,t,n)},useOpaqueIdentifier:function(){if(oi){var e=!1,t=g5(function(){throw e||(e=!0,n("r:"+(v_++).toString(36))),Error($(355))}),n=kc(t)[1];return!(at.mode&2)&&(at.flags|=516,nv(5,function(){n("r:"+(v_++).toString(36))},void 0,null)),t}return t="r:"+(v_++).toString(36),kc(t),t},unstable_isNewReconciler:!1},I5={readContext:gr,useCallback:pD,useContext:gr,useEffect:iv,useImperativeHandle:dD,useLayoutEffect:fD,useMemo:vD,useReducer:Ic,useRef:rv,useState:function(){return Ic(ti)},useDebugValue:qb,useDeferredValue:function(e){var t=Ic(ti),n=t[0],r=t[1];return iv(function(){var i=dr.transition;dr.transition=1;try{r(e)}finally{dr.transition=i}},[e]),n},useTransition:function(){var e=Ic(ti)[0];return[rv().current,e]},useMutableSource:cD,useOpaqueIdentifier:function(){return Ic(ti)[0]},unstable_isNewReconciler:!1},S5={readContext:gr,useCallback:pD,useContext:gr,useEffect:iv,useImperativeHandle:dD,useLayoutEffect:fD,useMemo:vD,useReducer:Sc,useRef:rv,useState:function(){return Sc(ti)},useDebugValue:qb,useDeferredValue:function(e){var t=Sc(ti),n=t[0],r=t[1];return iv(function(){var i=dr.transition;dr.transition=1;try{r(e)}finally{dr.transition=i}},[e]),n},useTransition:function(){var e=Sc(ti)[0];return[rv().current,e]},useMutableSource:cD,useOpaqueIdentifier:function(){return Sc(ti)[0]},unstable_isNewReconciler:!1},k5=da.ReactCurrentOwner,jr=!1;function Pn(e,t,n,r){t.child=e===null?aD(t,null,n,r):Zp(t,e.child,n,r)}function pA(e,t,n,r,i){n=n.render;var s=t.ref;return Iu(t,i),r=Bb(e,t,n,r,s,i),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ri(e,t,i)):(t.flags|=1,Pn(e,t,r,i),t.child)}function vA(e,t,n,r,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!Yb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gD(e,t,a,r,i,s)):(e=Rp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,!(i&s)&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Tf,n(i,r)&&e.ref===t.ref)?Ri(e,t,s):(t.flags|=1,e=Bo(a,r),e.ref=t.ref,e.return=t,t.child=e)}function gD(e,t,n,r,i,s){if(e!==null&&Tf(e.memoizedProps,r)&&e.ref===t.ref)if(jr=!1,(s&i)!==0)e.flags&16384&&(jr=!0);else return t.lanes=e.lanes,Ri(e,t,s);return Dw(e,t,n,r,s)}function __(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},np(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},np(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},np(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,np(t,r);return Pn(e,t,i,n),t.child}function mD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function Dw(e,t,n,r,i){var s=Ln(n)?Ys:un.current;return s=Mu(t,s),Iu(t,i),n=Bb(e,t,n,r,s,i),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ri(e,t,i)):(t.flags|=1,Pn(e,t,n,i),t.child)}function gA(e,t,n,r,i){if(Ln(n)){var s=!0;Sp(t)}else s=!1;if(Iu(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),oD(t,n,r),Rw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=gr(h):(h=Ln(n)?Ys:un.current,h=Mu(t,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&aA(t,a,r,h),fo=!1;var m=t.memoizedState;a.state=m,kf(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Dn.current||fo?(typeof p=="function"&&(Jp(t,n,p,r),c=t.memoizedState),(l=fo||sA(t,n,l,r,m,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,rD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Mr(t.type,l),a.props=h,g=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=Ln(n)?Ys:un.current,c=Mu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&aA(t,a,r,c),fo=!1,m=t.memoizedState,a.state=m,kf(t,r,a,i);var w=t.memoizedState;l!==g||m!==w||Dn.current||fo?(typeof y=="function"&&(Jp(t,n,y,r),w=t.memoizedState),(h=fo||sA(t,n,h,r,m,w,c))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),r=!1)}return Lw(e,t,n,r,s,i)}function Lw(e,t,n,r,i,s){mD(e,t);var a=(t.flags&64)!==0;if(!r&&!a)return i&&tA(t,n,!1),Ri(e,t,s);r=t.stateNode,k5.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Zp(t,e.child,null,s),t.child=Zp(t,null,l,s)):Pn(e,t,l,s),t.memoizedState=r.state,i&&tA(t,n,!0),t.child}function mA(e){var t=e.stateNode;t.pendingContext?eA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eA(e,t.context,!1),xw(e,t.containerInfo)}var tp={dehydrated:null,retryLane:0};function yA(e,t,n){var r=t.pendingProps,i=et.current,s=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),tt(et,i&1),e===null?(r.fallback!==void 0&&Pw(t),e=r.children,i=r.fallback,s?(e=_A(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=tp,e):typeof r.unstable_expectedLoadTime=="number"?(e=_A(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=tp,t.lanes=33554432,e):(n=Xb({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=EA(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=tp,r):(n=wA(e,t,r.children,n),t.memoizedState=null,n):s?(r=EA(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=tp,r):(n=wA(e,t,r.children,n),t.memoizedState=null,n)}function _A(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=t):s=Xb(t,i,0,null),n=Nu(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function wA(e,t,n,r){var i=e.child;return e=i.sibling,n=Bo(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function EA(e,t,n,r,i){var s=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return!(s&2)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bo(a,l),e!==null?r=Bo(e,r):(r=Nu(r,s,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function bA(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nD(e.return,t)}function w_(e,t,n,r,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function TA(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Pn(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bA(e,n);else if(e.tag===19)bA(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(et,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ev(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),w_(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ev(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}w_(t,!0,n,null,s,t.lastEffect);break;case"together":w_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lh|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Bo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var yD,Mw,_D,wD;yD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mw=function(){};_D=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ds(ii.current);var s=null;switch(n){case"input":i=lw(e,i),r=lw(e,r),s=[];break;case"option":i=hw(e,i),r=hw(e,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=dw(e,i),r=dw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wp)}gw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ve("scroll",e),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===mb?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};wD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cc(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function C5(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ln(t.type)&&Gp(),null;case 3:return ju(),$e(Dn),$e(un),Ub(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ep(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Mw(t),null;case 5:jb(t);var i=Ds(Nf.current);if(n=t.type,e!==null&&t.stateNode!=null)_D(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error($(166));return null}if(e=Ds(ii.current),ep(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wo]=t,r[Kp]=s,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(e=0;e<jc.length;e++)Ve(jc[e],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":TN(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":SN(r,s),Ve("invalid",r)}gw(n,s),e=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):gf.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ve("scroll",r));switch(n){case"input":Gd(r),IN(r,s,!0);break;case"textarea":Gd(r),kN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wp)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===pw.html&&(e=dO(n)),e===pw.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wo]=t,e[Kp]=r,yD(e,t,!1,!1),t.stateNode=e,a=mw(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<jc.length;i++)Ve(jc[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":TN(e,r),i=lw(e,r),Ve("invalid",e);break;case"option":i=hw(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":SN(e,r),i=dw(e,r),Ve("invalid",e);break;default:i=r}gw(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?gO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pO(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mf(e,c):typeof c=="number"&&mf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ve("scroll",e):c!=null&&fb(e,s,c,a))}switch(n){case"input":Gd(e),IN(e,r,!1);break;case"textarea":Gd(e),kN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?wu(e,!!r.multiple,s,!1):r.defaultValue!=null&&wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wp)}KO(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)wD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));n=Ds(Nf.current),Ds(ii.current),ep(t)?(r=t.stateNode,n=t.memoizedProps,r[wo]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wo]=t,t.stateNode=r)}return null;case 13:return $e(et),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&ep(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||et.current&1?Bt===0&&(Bt=3):((Bt===0||Bt===3)&&(Bt=4),bn===null||!(lh&134217727)&&!(vl&134217727)||ku(bn,rn))),(r||n)&&(t.flags|=4),null);case 4:return ju(),Mw(t),e===null&&zO(t.stateNode.containerInfo),null;case 10:return Mb(t),null;case 17:return Ln(t.type)&&Gp(),null;case 19:if($e(et),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!==0,a=r.rendering,a===null)if(s)Cc(r,!1);else{if(Bt!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(a=ev(e),a!==null){for(t.flags|=64,Cc(r,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(et,et.current&1|2),t.child}e=e.sibling}r.tail!==null&&tn()>$w&&(t.flags|=64,s=!0,Cc(r,!1),t.lanes=33554432)}else{if(!s)if(e=ev(a),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!oi)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*tn()-r.renderingStartTime>$w&&n!==1073741824&&(t.flags|=64,s=!0,Cc(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=tn(),n.sibling=null,t=et.current,tt(et,s?t&1|2:t&1),n):null;case 23:case 24:return Qb(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error($(156,t.tag))}function N5(e){switch(e.tag){case 1:Ln(e.type)&&Gp();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(ju(),$e(Dn),$e(un),Ub(),t=e.flags,t&64)throw Error($(285));return e.flags=t&-4097|64,e;case 5:return jb(e),null;case 13:return $e(et),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return $e(et),null;case 4:return ju(),null;case 10:return Mb(e),null;case 23:case 24:return Qb(),null;default:return null}}function Hb(e,t){try{var n="",r=t;do n+=uq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i}}function Fw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A5=typeof WeakMap=="function"?WeakMap:Map;function ED(e,t,n){n=Co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){av||(av=!0,qw=r),Fw(e,t)},n}function bD(e,t,n){n=Co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return Fw(e,t),r(i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this),Fw(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var R5=typeof WeakSet=="function"?WeakSet:Set;function IA(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){xo(e,n)}else t.current=null}function x5(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Mr(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Pb(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($(163))}function P5(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(xD(n,e),V5(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Mr(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&oA(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}oA(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&KO(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&kO(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function SA(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=vO("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function kA(e,t){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Ob,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)xD(t,n);else{r=t;try{i()}catch(s){xo(r,s)}}n=n.next}while(n!==e)}break;case 1:if(IA(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){xo(t,s)}break;case 5:IA(t);break;case 4:TD(e,t)}}function CA(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function NA(e){return e.tag===5||e.tag===3||e.tag===4}function AA(e){e:{for(var t=e.return;t!==null;){if(NA(t))break e;t=t.return}throw Error($(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error($(161))}n.flags&16&&(mf(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||NA(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?jw(e,n,t):Uw(e,n,t)}function jw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wp));else if(r!==4&&(e=e.child,e!==null))for(jw(e,t,n),e=e.sibling;e!==null;)jw(e,t,n),e=e.sibling}function Uw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uw(e,t,n),e=e.sibling;e!==null;)Uw(e,t,n),e=e.sibling}function TD(e,t){for(var n=t,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error($(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,l=n,c=l;;)if(kA(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(kA(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function E_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[Kp]=r,e==="input"&&r.type==="radio"&&r.name!=null&&fO(n,r),mw(e,i),t=mw(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];a==="style"?gO(n,l):a==="dangerouslySetInnerHTML"?pO(n,l):a==="children"?mf(n,l):fb(n,a,l,t)}switch(e){case"input":cw(n,r);break;case"textarea":hO(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?wu(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?wu(n,!!r.multiple,r.defaultValue,!0):wu(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error($(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,kO(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Gb=tn(),SA(t.child,!0)),RA(t);return;case 19:RA(t);return;case 17:return;case 23:case 24:SA(t,t.memoizedState!==null);return}throw Error($(163))}function RA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new R5),t.forEach(function(r){var i=q5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function O5(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var D5=Math.ceil,sv=da.ReactCurrentDispatcher,Wb=da.ReactCurrentOwner,le=0,bn=null,_t=null,rn=0,Js=0,Vw=Go(0),Bt=0,dg=null,pl=0,lh=0,vl=0,Kb=0,Bw=null,Gb=0,$w=1/0;function gl(){$w=tn()+500}var X=null,av=!1,qw=null,ni=null,Vo=!1,Jc=null,Uc=90,zw=[],Hw=[],Di=null,Zc=0,Ww=null,Cp=-1,Ni=0,Np=0,ef=null,Ap=!1;function Xn(){return le&48?tn():Cp!==-1?Cp:Cp=tn()}function Ao(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return Fu()===99?1:2;if(Ni===0&&(Ni=pl),E5.transition!==0){Np!==0&&(Np=Bw!==null?Bw.pendingLanes:0),e=Ni;var t=4186112&~Np;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Fu(),le&4&&e===98?e=zp(12,Ni):(e=Iq(e),e=zp(e,Ni)),e}function Ro(e,t,n){if(50<Zc)throw Zc=0,Ww=null,Error($(185));if(e=pg(e,t),e===null)return null;sg(e,t,n),e===bn&&(vl|=t,Bt===4&&ku(e,rn));var r=Fu();t===1?le&8&&!(le&48)?Kw(e):(mr(e,n),le===0&&(gl(),vi())):(!(le&4)||r!==98&&r!==99||(Di===null?Di=new Set([e]):Di.add(e)),mr(e,n)),Bw=e}function pg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function mr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-jo(a),c=1<<l,h=s[l];if(h===-1){if(!(c&r)||c&i){h=t,su(c);var p=je;s[l]=10<=p?h+250:6<=p?h+5e3:-1}}else h<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ef(e,e===bn?rn:0),t=je,r===0)n!==null&&(n!==g_&&Nw(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==g_&&Nw(n)}t===15?(n=Kw.bind(null,e),Ci===null?(Ci=[n],kp=Db(fg,tD)):Ci.push(n),n=g_):t===14?n=Sf(99,Kw.bind(null,e)):(n=Sq(t),n=Sf(n,ID.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ID(e){if(Cp=-1,Np=Ni=0,le&48)throw Error($(327));var t=e.callbackNode;if(Qo()&&e.callbackNode!==t)return null;var n=Ef(e,e===bn?rn:0);if(n===0)return null;var r=n,i=le;le|=16;var s=ND();(bn!==e||rn!==r)&&(gl(),Cu(e,r));do try{F5();break}catch(l){CD(e,l)}while(!0);if(Lb(),sv.current=s,le=i,_t!==null?r=0:(bn=null,rn=0,r=Bt),pl&vl)Cu(e,0);else if(r!==0){if(r===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Pb(e.containerInfo)),n=OO(e),n!==0&&(r=Vc(e,n))),r===1)throw t=dg,Cu(e,0),ku(e,n),mr(e,tn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error($(345));case 2:Ss(e);break;case 3:if(ku(e,n),(n&62914560)===n&&(r=Gb+500-tn(),10<r)){if(Ef(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Xn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=XN(Ss.bind(null,e),r);break}Ss(e);break;case 4:if(ku(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-jo(n);s=1<<a,a=r[a],a>i&&(i=a),n&=~s}if(n=i,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D5(n/1960))-n,10<n){e.timeoutHandle=XN(Ss.bind(null,e),n);break}Ss(e);break;case 5:Ss(e);break;default:throw Error($(329))}}return mr(e,tn()),e.callbackNode===t?ID.bind(null,e):null}function ku(e,t){for(t&=~Kb,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jo(t),r=1<<n;e[n]=-1,t&=~r}}function Kw(e){if(le&48)throw Error($(327));if(Qo(),e===bn&&e.expiredLanes&rn){var t=rn,n=Vc(e,t);pl&vl&&(t=Ef(e,t),n=Vc(e,t))}else t=Ef(e,0),n=Vc(e,t);if(e.tag!==0&&n===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Pb(e.containerInfo)),t=OO(e),t!==0&&(n=Vc(e,t))),n===1)throw n=dg,Cu(e,0),ku(e,t),mr(e,tn()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e),mr(e,tn()),null}function L5(){if(Di!==null){var e=Di;Di=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,mr(t,tn())})}vi()}function SD(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(gl(),vi())}}function kD(e,t){var n=le;le&=-2,le|=8;try{return e(t)}finally{le=n,le===0&&(gl(),vi())}}function np(e,t){tt(Vw,Js),Js|=t,pl|=t}function Qb(){Js=Vw.current,$e(Vw)}function Cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v5(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gp();break;case 3:ju(),$e(Dn),$e(un),Ub();break;case 5:jb(r);break;case 4:ju();break;case 13:$e(et);break;case 19:$e(et);break;case 10:Mb(r);break;case 23:case 24:Qb()}n=n.return}bn=e,_t=Bo(e.current,null),rn=Js=pl=t,Bt=0,dg=null,Kb=vl=lh=0}function CD(e,t){do{var n=_t;try{if(Lb(),Yc.current=ov,tv){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tv=!1}if(Af=0,Ut=Jt=at=null,Xc=!1,Wb.current=null,n===null||n.return===null){Bt=1,dg=t,_t=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=rn,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c;if(!(l.mode&2)){var p=l.alternate;p?(l.updateQueue=p.updateQueue,l.memoizedState=p.memoizedState,l.lanes=p.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(et.current&1)!==0,m=a;do{var y;if(y=m.tag===13){var w=m.memoizedState;if(w!==null)y=w.dehydrated!==null;else{var I=m.memoizedProps;y=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!g}}if(y){var E=m.updateQueue;if(E===null){var T=new Set;T.add(h),m.updateQueue=T}else E.add(h);if(!(m.mode&2)){if(m.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var S=Co(-1,1);S.tag=2,No(l,S)}l.lanes|=1;break e}c=void 0,l=t;var R=s.pingCache;if(R===null?(R=s.pingCache=new A5,c=new Set,R.set(h,c)):(c=R.get(h),c===void 0&&(c=new Set,R.set(h,c))),!c.has(l)){c.add(l);var P=$5.bind(null,s,h,l);h.then(P,P)}m.flags|=4096,m.lanes=t;break e}m=m.return}while(m!==null);c=Error((_u(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Bt!==5&&(Bt=2),c=Hb(c,l),m=a;do{switch(m.tag){case 3:s=c,m.flags|=4096,t&=-t,m.lanes|=t;var M=ED(m,s,t);iA(m,M);break e;case 1:s=c;var O=m.type,z=m.stateNode;if(!(m.flags&64)&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ni===null||!ni.has(z)))){m.flags|=4096,t&=-t,m.lanes|=t;var U=bD(m,s,t);iA(m,U);break e}}m=m.return}while(m!==null)}RD(n)}catch(Q){t=Q,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function ND(){var e=sv.current;return sv.current=ov,e===null?ov:e}function Vc(e,t){var n=le;le|=16;var r=ND();bn===e&&rn===t||Cu(e,t);do try{M5();break}catch(i){CD(e,i)}while(!0);if(Lb(),le=n,sv.current=r,_t!==null)throw Error($(261));return bn=null,rn=0,Bt}function M5(){for(;_t!==null;)AD(_t)}function F5(){for(;_t!==null&&!y5();)AD(_t)}function AD(e){var t=PD(e.alternate,e,Js);e.memoizedProps=e.pendingProps,t===null?RD(e):_t=t,Wb.current=null}function RD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=N5(t),n!==null){n.flags&=2047,_t=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=C5(n,t,Js),n!==null){_t=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||Js&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Bt===0&&(Bt=5)}function Ss(e){var t=Fu();return Xs(99,j5.bind(null,e,t)),null}function j5(e,t){do Qo();while(Jc!==null);if(le&48)throw Error($(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-jo(s),h=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~h}if(Di!==null&&!(r&24)&&Di.has(e)&&Di.delete(e),e===bn&&(_t=bn=null,rn=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=le,le|=32,Wb.current=null,d_=bp,a=zN(),Tw(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,s=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var p=0,g=-1,m=-1,y=0,w=0,I=a,E=null;t:for(;;){for(var T;I!==l||s!==0&&I.nodeType!==3||(g=p+s),I!==c||h!==0&&I.nodeType!==3||(m=p+h),I.nodeType===3&&(p+=I.nodeValue.length),(T=I.firstChild)!==null;)E=I,I=T;for(;;){if(I===a)break t;if(E===l&&++y===s&&(g=p),E===c&&++w===h&&(m=p),(T=I.nextSibling)!==null)break;I=E,E=I.parentNode}I=T}l=g===-1||m===-1?null:{start:g,end:m}}else l=null;l=l||{start:0,end:0}}else l=null;p_={focusedElem:a,selectionRange:l},bp=!1,ef=null,Ap=!1,X=r;do try{U5()}catch(Q){if(X===null)throw Error($(330));xo(X,Q),X=X.nextEffect}while(X!==null);ef=null,X=r;do try{for(a=e;X!==null;){var S=X.flags;if(S&16&&mf(X.stateNode,""),S&128){var R=X.alternate;if(R!==null){var P=R.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(S&1038){case 2:AA(X),X.flags&=-3;break;case 6:AA(X),X.flags&=-3,E_(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025,E_(X.alternate,X);break;case 4:E_(X.alternate,X);break;case 8:l=X,TD(a,l);var M=l.alternate;CA(l),M!==null&&CA(M)}X=X.nextEffect}}catch(Q){if(X===null)throw Error($(330));xo(X,Q),X=X.nextEffect}while(X!==null);if(P=p_,R=zN(),S=P.focusedElem,a=P.selectionRange,R!==S&&S&&S.ownerDocument&&BO(S.ownerDocument.documentElement,S)){for(a!==null&&Tw(S)&&(R=a.start,P=a.end,P===void 0&&(P=R),"selectionStart"in S?(S.selectionStart=R,S.selectionEnd=Math.min(P,S.value.length)):(P=(R=S.ownerDocument||document)&&R.defaultView||window,P.getSelection&&(P=P.getSelection(),l=S.textContent.length,M=Math.min(a.start,l),a=a.end===void 0?M:Math.min(a.end,l),!P.extend&&M>a&&(l=a,a=M,M=l),l=qN(S,M),s=qN(S,a),l&&s&&(P.rangeCount!==1||P.anchorNode!==l.node||P.anchorOffset!==l.offset||P.focusNode!==s.node||P.focusOffset!==s.offset)&&(R=R.createRange(),R.setStart(l.node,l.offset),P.removeAllRanges(),M>a?(P.addRange(R),P.extend(s.node,s.offset)):(R.setEnd(s.node,s.offset),P.addRange(R)))))),R=[],P=S;P=P.parentNode;)P.nodeType===1&&R.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<R.length;S++)P=R[S],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}bp=!!d_,p_=d_=null,e.current=n,X=r;do try{for(S=e;X!==null;){var O=X.flags;if(O&36&&P5(S,X.alternate,X),O&128){R=void 0;var z=X.ref;if(z!==null){var U=X.stateNode;switch(X.tag){case 5:R=U;break;default:R=U}typeof z=="function"?z(R):z.current=R}}X=X.nextEffect}}catch(Q){if(X===null)throw Error($(330));xo(X,Q),X=X.nextEffect}while(X!==null);X=null,w5(),le=i}else e.current=n;if(Vo)Vo=!1,Jc=e,Uc=t;else for(X=r;X!==null;)t=X.nextEffect,X.nextEffect=null,X.flags&8&&(O=X,O.sibling=null,O.stateNode=null),X=t;if(r=e.pendingLanes,r===0&&(ni=null),r===1?e===Ww?Zc++:(Zc=0,Ww=e):Zc=0,n=n.stateNode,qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Ob,n,void 0,(n.current.flags&64)===64)}catch{}if(mr(e,tn()),av)throw av=!1,e=qw,qw=null,e;return le&8||vi(),null}function U5(){for(;X!==null;){var e=X.alternate;Ap||ef===null||(X.flags&8?AN(X,ef)&&(Ap=!0):X.tag===13&&O5(e,X)&&AN(X,ef)&&(Ap=!0));var t=X.flags;t&256&&x5(e,X),!(t&512)||Vo||(Vo=!0,Sf(97,function(){return Qo(),null})),X=X.nextEffect}}function Qo(){if(Uc!==90){var e=97<Uc?97:Uc;return Uc=90,Xs(e,B5)}return!1}function V5(e,t){zw.push(t,e),Vo||(Vo=!0,Sf(97,function(){return Qo(),null}))}function xD(e,t){Hw.push(t,e),Vo||(Vo=!0,Sf(97,function(){return Qo(),null}))}function B5(){if(Jc===null)return!1;var e=Jc;if(Jc=null,le&48)throw Error($(331));var t=le;le|=32;var n=Hw;Hw=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error($(330));xo(s,c)}}for(n=zw,zw=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error($(330));xo(s,c)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return le=t,vi(),!0}function xA(e,t,n){t=Hb(n,t),t=ED(e,t,1),No(e,t),t=Xn(),e=pg(e,1),e!==null&&(sg(e,1,t),mr(e,t))}function xo(e,t){if(e.tag===3)xA(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){xA(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){e=Hb(t,e);var i=bD(n,e,1);if(No(n,i),i=Xn(),n=pg(n,1),n!==null)sg(n,1,i),mr(n,i);else if(typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function $5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xn(),e.pingedLanes|=e.suspendedLanes&n,bn===e&&(rn&n)===n&&(Bt===4||Bt===3&&(rn&62914560)===rn&&500>tn()-Gb?Cu(e,0):Kb|=n),mr(e,t)}function q5(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(Ni===0&&(Ni=pl),t=au(62914560&~Ni),t===0&&(t=4194304)):t=Fu()===99?1:2:t=1),n=Xn(),e=pg(e,t),e!==null&&(sg(e,t,n),mr(e,n))}var PD;PD=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)jr=!0;else if(n&r)jr=!!(e.flags&16384);else{switch(jr=!1,t.tag){case 3:mA(t),y_();break;case 5:uA(t);break;case 1:Ln(t.type)&&Sp(t);break;case 4:xw(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;tt(Qp,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?yA(e,t,n):(tt(et,et.current&1),t=Ri(e,t,n),t!==null?t.sibling:null);tt(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return TA(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(et,et.current),r)break;return null;case 23:case 24:return t.lanes=0,__(e,t,n)}return Ri(e,t,n)}else jr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Mu(t,un.current),Iu(t,n),i=Bb(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(r)){var s=!0;Sp(t)}else s=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fb(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&Jp(t,r,a,e),i.updater=hg,t.stateNode=i,i._reactInternals=t,Rw(t,r,e,n),t=Lw(null,t,r,!0,s,n)}else t.tag=0,Pn(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=H5(i),e=Mr(i,e),s){case 0:t=Dw(null,t,i,e,n);break e;case 1:t=gA(null,t,i,e,n);break e;case 11:t=pA(null,t,i,e,n);break e;case 14:t=vA(null,t,i,Mr(i.type,e),r,n);break e}throw Error($(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),Dw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),gA(e,t,r,i,n);case 3:if(mA(t),r=t.updateQueue,e===null||r===null)throw Error($(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,rD(e,t),kf(t,r,null,n),r=t.memoizedState.element,r===i)y_(),t=Ri(e,t,n);else{if(i=t.stateNode,(s=i.hydrate)&&(Eo=Tu(t.stateNode.containerInfo.firstChild),Ai=t,s=oi=!0),s){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)s=e[i],s._workInProgressVersionPrimary=e[i+1],Su.push(s);for(n=aD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Pn(e,t,r,n),y_();t=t.child}return t;case 5:return uA(t),e===null&&Pw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,kw(r,i)?a=null:s!==null&&kw(r,s)&&(t.flags|=16),mD(e,t),Pn(e,t,a,n),t.child;case 6:return e===null&&Pw(t),null;case 13:return yA(e,t,n);case 4:return xw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zp(t,null,r,n):Pn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),pA(e,t,r,i,n);case 7:return Pn(e,t,t.pendingProps,n),t.child;case 8:return Pn(e,t,t.pendingProps.children,n),t.child;case 12:return Pn(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(tt(Qp,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=sr(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===i.children&&!Dn.current){t=Ri(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var h=c.firstContext;h!==null;){if(h.context===r&&h.observedBits&s){l.tag===1&&(h=Co(-1,n&-n),h.tag=2,No(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),nD(l.return,n),c.lanes|=n;break}h=h.next}}else a=l.tag===10&&l.type===t.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Pn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,Iu(t,n),i=gr(i,s.unstable_observedBits),r=r(i),t.flags|=1,Pn(e,t,r,n),t.child;case 14:return i=t.type,s=Mr(i,t.pendingProps),s=Mr(i.type,s),vA(e,t,i,s,r,n);case 15:return gD(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mr(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ln(r)?(e=!0,Sp(t)):e=!1,Iu(t,n),oD(t,r,i),Rw(t,r,i,n),Lw(null,t,r,!0,e,n);case 19:return TA(e,t,n);case 23:return __(e,t,n);case 24:return __(e,t,n)}throw Error($(156,t.tag))};function z5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,n,r){return new z5(e,t,n,r)}function Yb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H5(e){if(typeof e=="function")return Yb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rg)return 11;if(e===ig)return 14}return 2}function Bo(e,t){var n=e.alternate;return n===null?(n=ar(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Yb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case po:return Nu(n.children,i,s,t);case uO:a=8,i|=16;break;case hb:a=8,i|=1;break;case qc:return e=ar(12,n,t,i|8),e.elementType=qc,e.type=qc,e.lanes=s,e;case zc:return e=ar(13,n,t,i),e.type=zc,e.elementType=zc,e.lanes=s,e;case Vp:return e=ar(19,n,t,i),e.elementType=Vp,e.lanes=s,e;case yb:return Xb(n,i,s,t);case uw:return e=ar(24,n,t,i),e.elementType=uw,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case db:a=10;break e;case pb:a=9;break e;case rg:a=11;break e;case ig:a=14;break e;case vb:a=16,r=null;break e;case gb:a=22;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ar(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Nu(e,t,n,r){return e=ar(7,e,r,t),e.lanes=n,e}function Xb(e,t,n,r){return e=ar(23,e,r,t),e.elementType=yb,e.lanes=n,e}function b_(e,t,n){return e=ar(6,e,null,t),e.lanes=n,e}function T_(e,t,n){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W5(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=s_(0),this.expirationTimes=s_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=s_(0),this.mutableSourceEagerHydrationData=null}function K5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uv(e,t,n,r){var i=t.current,s=Xn(),a=Ao(i);e:if(n){n=n._reactInternals;t:{if(pa(n)!==n||n.tag!==1)throw Error($(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ln(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error($(171))}if(n.tag===1){var c=n.type;if(Ln(c)){n=QO(n,c,l);break e}}n=l}else n=Uo;return t.context===null?t.context=n:t.pendingContext=n,t=Co(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),No(i,t),Ro(i,a,s),a}function I_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function PA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jb(e,t){PA(e,t),(e=e.alternate)&&PA(e,t)}function G5(){return null}function Zb(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new W5(e,t,n!=null&&n.hydrate===!0),t=ar(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,Fb(t),e[dl]=n.current,zO(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}Zb.prototype.render=function(e){uv(e,this._internalRoot,null,null)};Zb.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;uv(null,e,null,function(){t[dl]=null})};function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q5(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zb(e,0,t?{hydrate:!0}:void 0)}function vg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=I_(a);l.call(h)}}uv(t,a,e,i)}else{if(s=n._reactRootContainer=Q5(n,r),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var h=I_(a);c.call(h)}}kD(function(){uv(t,a,e,i)})}return I_(a)}TO=function(e){if(e.tag===13){var t=Xn();Ro(e,4,t),Jb(e,4)}};Tb=function(e){if(e.tag===13){var t=Xn();Ro(e,67108864,t),Jb(e,67108864)}};IO=function(e){if(e.tag===13){var t=Xn(),n=Ao(e);Ro(e,n,t),Jb(e,n)}};SO=function(e,t){return t()};yw=function(e,t,n){switch(t){case"input":if(cw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cg(r);if(!i)throw Error($(90));cO(r),cw(r,i)}}}break;case"textarea":hO(e,n);break;case"select":t=n.value,t!=null&&wu(e,!!n.multiple,t,!1)}};wb=SD;_O=function(e,t,n,r,i){var s=le;le|=4;try{return Xs(98,e.bind(null,t,n,r,i))}finally{le=s,le===0&&(gl(),vi())}};Eb=function(){!(le&49)&&(L5(),Qo())};wO=function(e,t){var n=le;le|=2;try{return e(t)}finally{le=n,le===0&&(gl(),vi())}};function OD(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(t))throw Error($(200));return K5(e,t,null,n)}var Y5={Events:[ah,pu,cg,mO,yO,Qo,{current:!1}]},Nc={findFiberByHostInstance:Os,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},X5={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bO(e),e===null?null:e.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||G5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{Ob=rp.inject(X5),qs=rp}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y5;wr.createPortal=OD;wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):Error($(268,Object.keys(e)));return e=bO(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e,t){var n=le;if(n&48)return e(t);le|=1;try{if(e)return Xs(99,e.bind(null,t))}finally{le=n,vi()}};wr.hydrate=function(e,t,n){if(!ch(t))throw Error($(200));return vg(null,e,t,!0,n)};wr.render=function(e,t,n){if(!ch(t))throw Error($(200));return vg(null,e,t,!1,n)};wr.unmountComponentAtNode=function(e){if(!ch(e))throw Error($(40));return e._reactRootContainer?(kD(function(){vg(null,null,e,!1,function(){e._reactRootContainer=null,e[dl]=null})}),!0):!1};wr.unstable_batchedUpdates=SD;wr.unstable_createPortal=function(e,t){return OD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};wr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ch(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return vg(e,t,n,!1,r)};wr.version="17.0.2";function DD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DD)}catch(e){console.error(e)}}DD(),iO.exports=wr;var J5=iO.exports;const Z5=UP(J5);/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(this,arguments)}var bo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bo||(bo={}));const OA="popstate";function ez(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return Gw("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:LD(i)}return nz(t,n,null,e)}function Un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tz(){return Math.random().toString(36).substr(2,8)}function DA(e,t){return{usr:e.state,key:e.key,idx:t}}function Gw(e,t,n,r){return n===void 0&&(n=null),lv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gg(t):t,{state:n,key:t&&t.key||r||tz()})}function LD(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=bo.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(lv({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function g(){l=bo.Pop;let E=p(),T=E==null?null:E-h;h=E,c&&c({action:l,location:I.location,delta:T})}function m(E,T){l=bo.Push;let S=Gw(I.location,E,T);n&&n(S,E),h=p()+1;let R=DA(S,h),P=I.createHref(S);try{a.pushState(R,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&c&&c({action:l,location:I.location,delta:1})}function y(E,T){l=bo.Replace;let S=Gw(I.location,E,T);n&&n(S,E),h=p();let R=DA(S,h),P=I.createHref(S);a.replaceState(R,"",P),s&&c&&c({action:l,location:I.location,delta:0})}function w(E){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof E=="string"?E:LD(E);return Un(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let I={get action(){return l},get location(){return e(i,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(OA,g),c=E,()=>{i.removeEventListener(OA,g),c=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(E){return a.go(E)}};return I}var LA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LA||(LA={}));function rz(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?gg(t):t,i=jD(r.pathname||"/",n);if(i==null)return null;let s=MD(e);iz(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=dz(s[l],gz(i));return a}function MD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Un(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Au([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),MD(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:fz(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of FD(s.path))i(s,a,c)}),t}function FD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=FD(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oz=/^:\w+$/,sz=3,az=2,uz=1,lz=10,cz=-2,MA=e=>e==="*";function fz(e,t){let n=e.split("/"),r=n.length;return n.some(MA)&&(r+=cz),t&&(r+=az),n.filter(i=>!MA(i)).reduce((i,s)=>i+(oz.test(s)?sz:s===""?uz:lz),r)}function hz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function dz(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=pz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let g=l.route;s.push({params:r,pathname:Au([i,p.pathname]),pathnameBase:yz(Au([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Au([i,p.pathnameBase]))}return s}function pz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,g)=>{if(p==="*"){let m=l[g]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=mz(l[g]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:e}}function vz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function gz(e){try{return decodeURI(e)}catch(t){return eT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mz(e,t){try{return decodeURIComponent(e)}catch(n){return eT(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function jD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Au=e=>e.join("/").replace(/\/\/+/g,"/"),yz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function _z(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const UD=["post","put","patch","delete"];new Set(UD);const wz=["get",...UD];new Set(wz);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(this,arguments)}const Ez=H.createContext(null),bz=H.createContext(null),VD=H.createContext(null),mg=H.createContext(null),yg=H.createContext({outlet:null,matches:[],isDataRoute:!1}),BD=H.createContext(null);function tT(){return H.useContext(mg)!=null}function Tz(){return tT()||Un(!1),H.useContext(mg).location}function Iz(e,t){return Sz(e,t)}function Sz(e,t,n){tT()||Un(!1);let{navigator:r}=H.useContext(VD),{matches:i}=H.useContext(yg),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Tz(),h;if(t){var p;let I=typeof t=="string"?gg(t):t;l==="/"||(p=I.pathname)!=null&&p.startsWith(l)||Un(!1),h=I}else h=c;let g=h.pathname||"/",m=l==="/"?g:g.slice(l.length)||"/",y=rz(e,{pathname:m}),w=Rz(y&&y.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Au([l,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Au([l,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return t&&w?H.createElement(mg.Provider,{value:{location:Qw({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bo.Pop}},w):w}function kz(){let e=Dz(),t=_z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:i},n):null,null)}const Cz=H.createElement(kz,null);class Nz extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?H.createElement(yg.Provider,{value:this.props.routeContext},H.createElement(BD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Az(e){let{routeContext:t,match:n,children:r}=e,i=H.useContext(Ez);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(yg.Provider,{value:t},r)}function Rz(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||Un(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,g=null;n&&(g=c.route.errorElement||Cz);let m=t.concat(s.slice(0,h+1)),y=()=>{let w;return p?w=g:c.route.Component?w=H.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,H.createElement(Az,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?H.createElement(Nz,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var FA;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(FA||(FA={}));var cv;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(cv||(cv={}));function xz(e){let t=H.useContext(bz);return t||Un(!1),t}function Pz(e){let t=H.useContext(yg);return t||Un(!1),t}function Oz(e){let t=Pz(),n=t.matches[t.matches.length-1];return n.route.id||Un(!1),n.route.id}function Dz(){var e;let t=H.useContext(BD),n=xz(cv.UseRouteError),r=Oz(cv.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function $D(e){Un(!1)}function Lz(e){let{basename:t="/",children:n=null,location:r,navigationType:i=bo.Pop,navigator:s,static:a=!1}=e;tT()&&Un(!1);let l=t.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=gg(r));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:y="default"}=r,w=H.useMemo(()=>{let I=jD(h,l);return I==null?null:{location:{pathname:I,search:p,hash:g,state:m,key:y},navigationType:i}},[l,h,p,g,m,y,i]);return w==null?null:H.createElement(VD.Provider,{value:c},H.createElement(mg.Provider,{children:n,value:w}))}function Mz(e){let{children:t,location:n}=e;return Iz(Yw(t),n)}var jA;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(jA||(jA={}));new Promise(()=>{});function Yw(e,t){t===void 0&&(t=[]);let n=[];return H.Children.forEach(e,(r,i)=>{if(!H.isValidElement(r))return;let s=[...t,i];if(r.type===H.Fragment){n.push.apply(n,Yw(r.props.children,s));return}r.type!==$D&&Un(!1),!r.props.index||!r.props.children||Un(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Yw(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fz="startTransition",UA=J6[Fz];function jz(e){let{basename:t,children:n,future:r,window:i}=e,s=H.useRef();s.current==null&&(s.current=ez({window:i,v5Compat:!0}));let a=s.current,[l,c]=H.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=H.useCallback(g=>{h&&UA?UA(()=>c(g)):c(g)},[c,h]);return H.useLayoutEffect(()=>a.listen(p),[a,p]),H.createElement(Lz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var VA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(VA||(VA={}));var BA;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(BA||(BA={}));const Uz=""+new URL("xd-logo-QwRN-87e.png",import.meta.url).href,Vz=""+new URL("bootstrap-logo-HkA3hhWJ.png",import.meta.url).href,Bz=""+new URL("css3-logo-L1N1oojW.png",import.meta.url).href,$z=""+new URL("firebase-logo-Kq6Gdfu_.png",import.meta.url).href,qz=""+new URL("git-logo-z5uogLN7.png",import.meta.url).href,zz=""+new URL("html5-logo-R8szpUlg.png",import.meta.url).href,Hz=""+new URL("javascript-logo-J8GImKNc.png",import.meta.url).href,Wz=""+new URL("jest-logo-lALPqsTb.png",import.meta.url).href,Kz=""+new URL("linux-logo-hr9ckTty.png",import.meta.url).href,Gz=""+new URL("mongodb-logo-Te-6Ln1n.png",import.meta.url).href,Qz=""+new URL("node-logo-uui97ztl.png",import.meta.url).href,Yz=""+new URL("photoshop-logo-BLf5hvr4.png",import.meta.url).href,Xz=""+new URL("python-logo-Gl5Mipk0.png",import.meta.url).href,Jz=""+new URL("react-logo-Z_clDZUf.png",import.meta.url).href,Zz=""+new URL("redux-logo-u4HxGAsH.png",import.meta.url).href,e3=""+new URL("sass-logo-ALaI4GHV.png",import.meta.url).href,t3={AdobeXD:Uz,bootstrap:Vz,CSS3:Bz,firebase:$z,git:qz,HTML5:zz,javascript:Hz,jest:Wz,linux:Kz,mongodb:Gz,node:Qz,photoshop:Yz,python:Xz,react:Jz,redux:Zz,sass:e3},zi=ub.createContext();function n3(e){const[t,n]=H.useState("dark"),[r,i]=H.useState(!1),s=()=>{n(t==="light"?"dark":"light")};return k.jsx(zi.Provider,{value:{theme:t,setTheme:n,lightbulb:r,setLightbulb:i,changeTheme:s},children:e.children})}const ga=ub.createContext();function r3(e){const[t,n]=H.useState("home"),[r,i]=H.useState(["chatplus","heromatchups","mint","cashflow","yt-playlist-downloader"]);return k.jsx(ga.Provider,{value:{pageLocation:t,setPageLocation:n,projectsToDisplay:r,setProjectsToDisplay:i},children:e.children})}const i3=e=>{const{setPageLocation:t}=H.useContext(ga),n=H.useRef(),[r,i]=H.useState(["javascript","react","redux","HTML5","CSS3","sass","bootstrap"]),[s,a]=H.useState(["mongodb","node","python","firebase"]),[l,c]=H.useState(["git","AdobeXD","photoshop","linux","jest"]);H.useEffect(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[]);const h=()=>{window.pageYOffset+window.innerHeight>=n.current.offsetTop+125&&t("about")};return k.jsxs("div",{className:"container container-md",id:"skills-container",ref:n,children:[k.jsxs("div",{className:"skills__list",id:"skills-list1",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Front-end"}),k.jsx("div",{className:"skills__front-end",children:r.map((p,g)=>k.jsx(S_,{name:p},g))})]}),k.jsxs("div",{className:"skills__list",id:"skills-list2",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Back-end"}),k.jsx("div",{className:"skills__back-end",children:s.map((p,g)=>k.jsx(S_,{name:p},g))})]}),k.jsxs("div",{className:"skills__list",id:"skills-list3",children:[k.jsx("h3",{className:"section-subtitle skills__title",children:"Other"}),k.jsx("div",{className:"skills__other",children:l.map((p,g)=>k.jsx(S_,{name:p},g))})]})]})},S_=e=>{const{theme:t}=H.useContext(zi);return k.jsxs("div",{className:"skills__logo-container skills__logo-container-"+t,children:[k.jsx("img",{className:"skills__logo-img",src:t3[e.name],alt:e.name}),k.jsx("span",{className:"skills__logo-text",children:e.name})]})},o3=""+new URL("portfolio-mint2048-OYGZXdzC.png",import.meta.url).href,s3=""+new URL("portfolio-cashflowjs-VJ9AHptG.png",import.meta.url).href,a3=""+new URL("portfolio-heromatchups-3K4D1HBr.png",import.meta.url).href,u3=""+new URL("portfolio-realitycalc03-s3GtNKd9.png",import.meta.url).href,l3=""+new URL("logo-600x400-EdcKvlnr.png",import.meta.url).href,$A=""+new URL("portfolio-ytpwebscraper-uc-PsLsu.png",import.meta.url).href;function ot(e){const{name:t}=e;return k.jsx("div",{className:"tag-container",style:{display:"inline-block",borderRadius:"5px",margin:"1%",padding:"1% 2%",border:`solid 2pt ${t==="React"?"#6DC3F6":t==="JavaScript"?"#f0db4f":t==="React Native"?"red":t==="CSS"?"#5FF78D":t==="JQuery"?"orange":t==="Redux"?"#CA79C2 ":t==="MongoDB"?"#99CC46":t==="Node.js"?"rgb(30, 85, 243)":t==="Puppeteer"?"rgb(64, 88, 193)":"rgb( 153, 185, 190)"}`},children:k.jsx("div",{children:t})})}const c3=e=>{const{setPageLocation:t,projectsToDisplay:n}=H.useContext(ga),r=H.useRef();H.useEffect(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)),[]);const i=()=>{window.pageYOffset+window.innerHeight>=r.current.offsetTop+125&&t("projects")};return k.jsxs("div",{id:"projects-container",ref:r,children:[k.jsxs("div",{className:"row project-chatplus",id:"project-chatplus",title:"ChatPlus for Rumble",style:{display:n.includes("chatplus")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"ChatPlus"})}),k.jsx("p",{children:"ChatPlus is a Google Chrome extension for Rumble that improves livestream chat user experience, enhances chat functionality and adds options to make Rumble more user-friendly. "}),k.jsx(k.Fragment,{children:"Features include:"}),k.jsxs("ul",{children:[k.jsx("li",{children:"User mention highlighting"}),k.jsx("li",{children:"Easy user tagging"}),k.jsx("li",{children:"Full size chat"}),k.jsx("li",{children:"Username color schemes"})]}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"JavaScript"}),k.jsx(ot,{name:"Chrome Extension"}),k.jsx(ot,{name:"React"})]}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://github.com/sleighs/chat-plus",rel:"noreferrer",children:"Find out more"}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/chatplus-for-rumble/odlcomopigapcpmlpmmmhlhegajembio?hl=en&authuser=0",rel:"noreferrer",children:"Chrome Web Store"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content chatplus-pic-container",children:k.jsx("a",{className:"projects-pic-container-chatplus",target:"_blank",href:"https://github.com/sleighs/chat-plus",rel:"noreferrer",title:"Check it out",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"ChatPlus",src:l3})})})]}),k.jsx("hr",{style:{display:n.includes("chatplus")?"flex":"none"}}),k.jsxs("div",{className:"row project-realitycalc",id:"project-realitycalc",style:{display:n.includes("realitycalc")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"RealityCalc.com"})}),k.jsx("p",{children:"Lead developer for RealityCalc.com, home to the popular online dating tool The Male Reality Calculator hosted at RealityCalc.com. Built with React and Redux, the calculator uses U.S. Census Bureau statistics to calculate the user's odds of meeting their dream woman."}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://realitycalc.com/",rel:"noreferrer",children:"Check it out"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"React"}),k.jsx(ot,{name:"Redux"}),k.jsx(ot,{name:"JavaScript"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-realitycalc",target:"_blank",href:"https://realitycalc.com",rel:"noreferrer",title:"Check it out",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"RealityCalc.com",src:u3})})})]}),k.jsx("hr",{style:{display:n.includes("realitycalc")?"flex":"none"}}),k.jsxs("div",{className:"row project-heromatchups",id:"project-heromatchups",style:{display:n.includes("heromatchups")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"Hero Matchups API"})}),k.jsxs("p",{children:["The ",k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/hero-matchups-api/",rel:"noreferrer",children:"Hero Matchups API"})," is a character matchup and counter resource created for e-sports training and practice applications. Check out a live demo using resources for Blizzard's team-based first person shooter Overwatch 2 ",k.jsx("a",{target:"_blank",href:"https://hero-pick-app.web.app/",rel:"noreferrer",children:"here"}),"."]}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/hero-matchups-api/",rel:"noreferrer",children:"Visit the repository"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"JavaScript"}),k.jsx(ot,{name:"MongoDB"}),k.jsx(ot,{name:"React"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-heromatchups",target:"_blank",href:"https://github.com/sleighs/heromatchups",rel:"noreferrer",title:"Visit",children:k.jsx("img",{className:"img-responsive rounded projects-pic d-block mx-auto",alt:"HeroMatchups",src:a3})})})]}),k.jsx("hr",{style:{display:n.includes("heromatchups")?"flex":"none"}}),k.jsxs("div",{className:"row project-ytpwebscraper",id:"project-ytpwebscraper",style:{display:n.includes("yt-playlist-webscraper")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"YouTube Playlist Web Scraper"})}),k.jsx("p",{children:"A Node.js web scraper that retrieves the information of each video in a YouTube playlist with Puppeteer and saves the data in a json file. "}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",children:"Check out the repository here"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"Web Scraper"}),k.jsx(ot,{name:"Node.js"}),k.jsx(ot,{name:"JavaScript"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-ytpwebscraper",target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",title:"GitHub",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"YouTube Playlist Web Scraper",src:$A})})})]}),k.jsx("hr",{style:{display:n.includes("yt-playlist-webscraper")?"flex":"none"}}),k.jsxs("div",{className:"row project-ytpwebscraper",id:"project-ytpwebscraper",style:{display:n.includes("yt-playlist-downloader")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"YouTube Playlist Downloader"})}),k.jsx("p",{children:"A Node.js web scraper that downloads each video in a YouTube playlist, using Puppeteer to collect the videos and ytdl-core to download them."}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-downloader/",rel:"noreferrer",children:"Check out the repository here"})}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-web-scraper/",rel:"noreferrer",children:"Find the web scraper here"})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"Web Scraper"}),k.jsx(ot,{name:"JavaScript"}),k.jsx(ot,{name:"Node.js"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-ytpwebscraper",target:"_blank",href:"https://github.com/Sleighs/youtube-playlist-downloader/",rel:"noreferrer",title:"GitHub",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"YouTube Playlist Downloader",src:$A})})})]}),k.jsx("hr",{style:{display:n.includes("yt-playlist-downloader")?"flex":"none"}}),k.jsxs("div",{className:"row project-mint",id:"project-mint",style:{display:n.includes("mint")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"Mint 2048"})}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://plus-7ed02.web.app/",rel:"noreferrer",children:"Mint"})," is a sliding tile puzzle game based on 2048 by Gabriele Cirulli where players combine tiles, perform combos and use special abilities to create the 2048 tile."]}),k.jsx("p",{children:k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/Mint-2048",rel:"noreferrer",children:"Check out Mint 2048 "})}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"React"}),k.jsx(ot,{name:"JavaScript"}),k.jsx(ot,{name:"CSS"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-mint",target:"_blank",href:"https://github.com/sleighs/mint-2048",rel:"noreferrer",title:"Play",children:k.jsx("img",{className:"img-responsive rounded projects-pic d-block mx-auto",alt:"Mint 2048",src:o3})})})]}),k.jsx("hr",{style:{display:n.includes("mint")?"flex":"none"}}),k.jsxs("div",{className:"row project-cashflow",id:"project-cashflow",style:{display:n.includes("cashflow")?"flex":"none"},children:[k.jsxs("div",{className:"col-md-7 project-description",children:[k.jsx("h3",{className:"projects-row-title",children:k.jsx("strong",{children:"CashFlow JS"})}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://sleighs.github.io/CashFlowJs/",rel:"noreferrer",children:"CashFlow JS"})," is an adaptation of the CashFlow 101 board game with additional gameplay options and rule customization that allows for many unique ways to play."]}),k.jsxs("p",{children:[k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/CashFlowJs/",rel:"noreferrer",children:"Check out CashFlowJs"}),k.jsx("br",{}),k.jsx("br",{}),k.jsx("a",{target:"_blank",href:"https://github.com/Sleighs/cashflow-mobile",rel:"noreferrer",children:"View CashFlowJs for mobile"})]}),k.jsxs("div",{className:"tag-row",children:[k.jsx(ot,{name:"JavaScript"}),k.jsx(ot,{name:"JQuery"}),k.jsx(ot,{name:"React Native"})]})]}),k.jsx("div",{className:"col-md-5 project-pic-content",children:k.jsx("a",{className:"projects-pic-container-cashflow",target:"_blank",href:"https://github.com/Sleighs/CashFlowJs",rel:"noreferrer",title:"Play",children:k.jsx("img",{className:"img-responsive rounded projects-pic mx-auto d-block",alt:"CashFlow JS",src:s3})})})]})]})};var Xw=function(e,t){return Xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xw(e,t)};function G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function c(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ot(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B=function(e,t){if(!e)throw ml(t)},ml=function(e){return new Error("Firebase Database ("+qD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zD=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},f3=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},_g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[g],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zD(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):f3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,g=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),g!==64){var w=h<<6&192|g;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},HD=function(e){var t=zD(e);return _g.encodeByteArray(t,!0)},qA=function(e){return HD(e).replace(/\./g,"")},zA=function(e){try{return _g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(e){return Rf(void 0,e)}function Rf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!h3(r)||(e[r]=Rf(e[r],t[r]));return e}function h3(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ie({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[qA(JSON.stringify(n)),qA(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zs())}function KD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d3(){return typeof self=="object"&&self.self===self}function iT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p3(){return Zs().indexOf("Electron/")>=0}function v3(){var e=Zs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function g3(){return Zs().indexOf("MSAppHost/")>=0}function QD(){return qD.NODE_ADMIN===!0}function m3(){return!KD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fh(){return"indexedDB"in self&&indexedDB!=null}function oT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function YD(){return!(!navigator||!navigator.cookieEnabled)}function y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _3="FirebaseError",yl=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=_3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Hi.prototype.create),s}return t}(Error),Hi=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?w3(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new yl(s,c,i);return h},e}();function w3(e,t){return e.replace(E3,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var E3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e){return JSON.parse(e)}function yt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sT=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=xf(zA(s[0])||""),n=xf(zA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},b3=function(e){var t=sT(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},T3=function(e){var t=sT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},I3=function(e){var t=sT(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ea(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Jw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k3=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,m,i=0;i<80;i++){i<40?i<20?(g=h^l&(c^h),m=1518500249):(g=l^c^h,m=1859775393):i<60?(g=l&c|h&(l|c),m=2400959708):(g=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+g+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function C3(e,t){var n=new N3(e,t);return n.subscribe.bind(n)}var N3=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=k_),s.error===void 0&&(s.error=k_),s.complete===void 0&&(s.complete=k_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function A3(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function k_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Mn(e,t){return e+" failed: "+t+" argument "}function Nt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Mn(e,t)+"must be a valid function.")}function HA(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Mn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,B(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x3=1e3,P3=2,O3=4*60*60*1e3,D3=.5;function Zw(e,t,n){t===void 0&&(t=x3),n===void 0&&(n=P3);var r=t*Math.pow(n,e),i=Math.round(D3*r*(Math.random()-.5)*2);return Math.min(O3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return e&&e._delegate?e._delegate:e}var ln=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new xt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(M3(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}try{for(var i=Ot(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=qt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=ks),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],qt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),qt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=ks),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=ks),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Ot(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=qt(h.value,2),g=p[0],m=p[1],y=this.normalizeInstanceIdentifier(g);a===y&&m.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Ot(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L3(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=ks),this.component?this.component.multipleInstances?t:ks:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function L3(e){return e===ks?void 0:e}function M3(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new XD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Lr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is,aT=[],_e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));var ZD={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},F3=_e.INFO,j3=(Is={},Is[_e.DEBUG]="log",Is[_e.VERBOSE]="log",Is[_e.INFO]="info",Is[_e.WARN]="warn",Is[_e.ERROR]="error",Is),U3=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=j3[t];if(s)console[s].apply(console,Lr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ma=function(){function e(t){this.name=t,this._logLevel=F3,this._logHandler=U3,this._userLogHandler=null,aT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in _e))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ZD[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,_e.DEBUG],t)),this._logHandler.apply(this,Lr([this,_e.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,_e.VERBOSE],t)),this._logHandler.apply(this,Lr([this,_e.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,_e.INFO],t)),this._logHandler.apply(this,Lr([this,_e.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,_e.WARN],t)),this._logHandler.apply(this,Lr([this,_e.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,_e.ERROR],t)),this._logHandler.apply(this,Lr([this,_e.ERROR],t))},e}();function V3(e){aT.forEach(function(t){t.setLogLevel(e)})}function B3(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=ZD[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:_e[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=aT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao,$3=(ao={},ao["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ao["bad-app-name"]="Illegal App name: '{$appName}",ao["duplicate-app"]="Firebase App named '{$appName}' already exists",ao["app-deleted"]="Firebase App named '{$appName}' already deleted",ao["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ao["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ao),uu=new Hi("app","Firebase",$3),eL="@firebase/app",q3="0.6.30",z3="@firebase/analytics",H3="@firebase/app-check",W3="@firebase/auth",K3="@firebase/database",G3="@firebase/functions",Q3="@firebase/installations",Y3="@firebase/messaging",X3="@firebase/performance",J3="@firebase/remote-config",Z3="@firebase/storage",eH="@firebase/firestore",tH="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,hv="[DEFAULT]",nH=(Xt={},Xt[eL]="fire-core",Xt[z3]="fire-analytics",Xt[H3]="fire-app-check",Xt[W3]="fire-auth",Xt[K3]="fire-rtdb",Xt[G3]="fire-fn",Xt[Q3]="fire-iid",Xt[Y3]="fire-fcm",Xt[X3]="fire-perf",Xt[J3]="fire-rc",Xt[Z3]="fire-gcs",Xt[eH]="fire-fst",Xt["fire-js"]="fire-js",Xt[tH]="fire-js-all",Xt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu=new ma("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=WD(t),this.container=new JD(n.name),this._addComponent(new ln("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=hv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=hv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Uu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw uu.create("app-deleted",{appName:this.name_})},e}();xp.prototype.name&&xp.prototype.options||xp.prototype.delete||console.log("dc");var rH="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:V3,onLog:p,apps:null,SDK_VERSION:rH,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||hv,!Jn(t,m))throw uu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var I=y;I.name===void 0&&(I.name=hv);var E=I.name;if(typeof E!="string"||!E)throw uu.create("bad-app-name",{appName:String(E)});if(Jn(t,E))throw uu.create("duplicate-app",{appName:E});var T=new e(m,I,r);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return Uu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(S){if(S===void 0&&(S=s()),typeof S[y]!="function")throw uu.create("invalid-app-argument",{appName:y});return S[y]()};m.serviceProps!==void 0&&Rf(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var S=[],R=0;R<arguments.length;R++)S[R]=arguments[R];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?S:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var I,E=(I=nH[m])!==null&&I!==void 0?I:m;w&&(E+="-"+w);var T=E.match(/\s|\//),S=y.match(/\s|\//);if(T||S){var R=['Unable to register library "'+E+'" with version "'+y+'":'];T&&R.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&S&&R.push("and"),S&&R.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Uu.warn(R.join(" "));return}c(new ln(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw uu.create("invalid-log-argument");B3(m,y)}function g(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){var e=iH(xp);e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:tL,extendNamespace:t,createSubscribe:C3,ErrorFactory:Hi,deepExtend:Rf});function t(n){Rf(e,n)}return e}var uT=tL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oH=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(sH(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function sH(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(e,t){e.INTERNAL.registerComponent(new ln("platform-logger",function(n){return new oH(n)},"PRIVATE")),e.registerVersion(eL,q3,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(d3()&&self.firebase!==void 0){Uu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var WA=self.firebase.SDK_VERSION;WA&&WA.indexOf("LITE")>=0&&Uu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var uH=uT.initializeApp;uT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return KD()&&Uu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),uH.apply(void 0,e)};var te=uT;aH(te);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var v=o[d];v in f||(f[v]={}),f=f[v]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{b(C.resolve,C.reject)}catch(L){C.reject(L)}}function f(){this.a=null}function d(b){return b instanceof u?b:new u(function(C){C(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(b)};var v=r.setTimeout;f.prototype.c=function(b){v(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var C=0;C<b.length;++C){var L=b[C];b[C]=null;try{L()}catch(F){this.f(F)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(F){return function(ue){L||(L=!0,F.call(C,ue))}}var C=this,L=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var C=b!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(b):this.h(b)}},u.prototype.v=function(b){var C=void 0;try{C=b.then}catch(L){this.g(L);return}typeof C=="function"?this.u(C,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,C){if(this.b!=0)throw Error("Cannot settle("+b+", "+C+"): Promise already settled in state"+this.b);this.b=b,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var C=this.f();b.Ra(C.resolve,C.reject)},u.prototype.u=function(b,C){var L=this.f();try{b.call(C,L.resolve,L.reject)}catch(F){L.reject(F)}},u.prototype.then=function(b,C){function L(ke,St){return typeof ke=="function"?function(Ii){try{F(ke(Ii))}catch(e_){ue(e_)}}:St}var F,ue,Pe=new u(function(ke,St){F=ke,ue=St});return this.Ra(L(b,F),L(C,ue)),Pe},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,C){function L(){switch(F.b){case 1:b(F.c);break;case 2:C(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=d,u.reject=function(b){return new u(function(C,L){L(b)})},u.race=function(b){return new u(function(C,L){for(var F=a(b),ue=F.next();!ue.done;ue=F.next())d(ue.value).Ra(C,L)})},u.all=function(b){var C=a(b),L=C.next();return L.done?d([]):new u(function(F,ue){function Pe(Ii){return function(e_){ke[Ii]=e_,St--,St==0&&F(ke)}}var ke=[],St=0;do ke.push(void 0),St++,d(L.value).Ra(Pe(ke.length-1),ue),L=C.next();while(!L.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function I(o){return y(o)=="function"}function E(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function T(o){return Object.prototype.hasOwnProperty.call(o,S)&&o[S]||(o[S]=++R)}var S="closure_uid_"+(1e9*Math.random()>>>0),R=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function M(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),o.apply(u,v)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=M,O.apply(null,arguments)}function z(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function U(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Q(o){return o}function x(o,u,f){this.code=Tt+o,this.message=u||It[o]||"",this.a=f||null}U(x,Error),x.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},x.prototype.toJSON=function(){return this.w()};function yi(o){var u=o&&o.code;return u?new x(u.substring(Tt.length),o.message,o.serverResponse):null}var Tt="auth/",It={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Qi={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Bn(o){for(var u in Qi)if(Qi[u].id===o)return o=Qi[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var br;br=Bn("__EID__")?"__EID__":void 0;function Ra(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Mt(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Mt);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}U(Mt,Error),Mt.prototype.name="CustomError";function ns(o,u){o=o.split("%s");for(var f="",d=o.length-1,v=0;v<d;v++)f+=o[v]+(v<u.length?u[v]:"%s");Mt.call(this,f+o[d])}U(ns,Mt),ns.prototype.name="AssertionError";function Yi(o,u){throw new ns("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function K(o,u){this.c=o,this.f=u,this.b=0,this.a=null}K.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function se(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function pe(){this.b=this.a=null}var qe=new K(function(){return new Tr},function(o){o.reset()});pe.prototype.add=function(o,u){var f=qe.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function pt(){var o=e1,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Tr(){this.next=this.b=this.a=null}Tr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Tr.prototype.reset=function(){this.next=this.b=this.a=null};var zr=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},xe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,v=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in v&&u.call(f,v[_],_,o)};function Xi(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var V4=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],v=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var C=_[b];u.call(void 0,C,b,o)&&(d[v++]=C)}return d},qh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),v=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in v&&(d[_]=u.call(void 0,v[_],_,o));return d},B4=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o))return!0;return!1};function $4(o){e:{for(var u=EB,f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o)){u=v;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function _i(o,u){return 0<=zr(o,u)}function zh(o,u){u=zr(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Ir(o,u){var f=0;Xi(o,function(d,v){u.call(void 0,d,v,o)&&Array.prototype.splice.call(o,v,1).length==1&&f++})}function Sm(o){return Array.prototype.concat.apply([],arguments)}function rs(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var AS=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},q4=/&/g,z4=/</g,H4=/>/g,W4=/"/g,K4=/'/g,G4=/\x00/g,Q4=/[\x00&<>"']/;function Fe(o,u){return o.indexOf(u)!=-1}function km(o,u){return o<u?-1:o>u?1:0}var xa;e:{var RS=c.navigator;if(RS){var xS=RS.userAgent;if(xS){xa=xS;break e}}xa=""}function vt(o){return Fe(xa,o)}function PS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function is(o){for(var u in o)return!1;return!0}function Ji(o){var u={},f;for(f in o)u[f]=o[f];return u}var OS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kn(o,u){for(var f,d,v=1;v<arguments.length;v++){d=arguments[v];for(f in d)o[f]=d[f];for(var _=0;_<OS.length;_++)f=OS[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function DS(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!o||!(o instanceof v[u])&&(o instanceof v.Location||o instanceof v.Element))){if(E(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;Yi("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Hr(o,u){this.a=o===Hh&&u||"",this.b=LS}Hr.prototype.ta=!0,Hr.prototype.sa=function(){return this.a},Hr.prototype.toString=function(){return"Const{"+this.a+"}"};function Cm(o){return o instanceof Hr&&o.constructor===Hr&&o.b===LS?o.a:(Yi("expected object of type Const, got '"+o+"'"),"type_error:Const")}var LS={},Hh={},Wh;function MS(){if(Wh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(f){c.console&&c.console.error(f.message)}Wh=o}else Wh=o}return Wh}function Pa(o,u){this.a=u===jS?o:""}Pa.prototype.ta=!0,Pa.prototype.sa=function(){return this.a.toString()},Pa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function FS(o){return o instanceof Pa&&o.constructor===Pa?o.a:(Yi("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Nm(o,u){var f=Cm(o);if(!X4.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(Y4,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof Hr?Cm(d):encodeURIComponent(String(d))}),J4(o)}var Y4=/%{(\w+)}/g,X4=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,jS={};function J4(o){var u=MS();return o=u?u.createScriptURL(o):o,new Pa(o,jS)}function Cn(o,u){this.a=u===Ll?o:""}Cn.prototype.ta=!0,Cn.prototype.sa=function(){return this.a.toString()},Cn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Kh(o){return o instanceof Cn&&o.constructor===Cn?o.a:(Yi("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var Z4=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,eV=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,US=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function VS(o){if(o instanceof Cn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),US.test(o))o=new Cn(o,Ll);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(eV);o=u&&Z4.test(u[1])?new Cn(o,Ll):null}return o}function BS(o){return o instanceof Cn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),US.test(o)||(o="about:invalid#zClosurez"),new Cn(o,Ll))}var Ll={},$S=new Cn("about:invalid#zClosurez",Ll);function Oa(o,u,f){this.a=f===qS?o:""}Oa.prototype.ta=!0,Oa.prototype.sa=function(){return this.a.toString()},Oa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function tV(o){return o instanceof Oa&&o.constructor===Oa?o.a:(Yi("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var qS={};function nV(o,u){DS(o,"HTMLScriptElement"),o.src=FS(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=g(u.document):(p===null&&(p=g(c.document)),u=p),u&&o.setAttribute("nonce",u)}function zS(o,u,f,d){return o=o instanceof Cn?o:BS(o),u=u||c,f=f instanceof Hr?Cm(f):f||"",u.open(Kh(o),f,d,void 0)}function HS(o,u){for(var f=o.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<f.length;)d+=f.shift()+v.shift();return d+f.join("%s")}function Am(o){return Q4.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(q4,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(z4,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(H4,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(W4,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(K4,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(G4,"&#0;"))),o}function Rm(o){return Rm[" "](o),o}Rm[" "]=m;function rV(o,u){var f=aV;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var iV=vt("Opera"),Sr=vt("Trident")||vt("MSIE"),WS=vt("Edge"),oV=WS||Sr,KS=vt("Gecko")&&!(Fe(xa.toLowerCase(),"webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),sV=Fe(xa.toLowerCase(),"webkit")&&!vt("Edge");function GS(){var o=c.document;return o?o.documentMode:void 0}var Gh;e:{var xm="",Pm=function(){var o=xa;if(KS)return/rv:([^\);]+)(\)|;)/.exec(o);if(WS)return/Edge\/([\d\.]+)/.exec(o);if(Sr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(sV)return/WebKit\/(\S+)/.exec(o);if(iV)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Pm&&(xm=Pm?Pm[1]:""),Sr){var Om=GS();if(Om!=null&&Om>parseFloat(xm)){Gh=String(Om);break e}}Gh=xm}var aV={};function QS(o){return rV(o,function(){for(var u=0,f=AS(String(Gh)).split("."),d=AS(String(o)).split("."),v=Math.max(f.length,d.length),_=0;u==0&&_<v;_++){var b=f[_]||"",C=d[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],b[0].length==0&&C[0].length==0)break;u=km(b[1].length==0?0:parseInt(b[1],10),C[1].length==0?0:parseInt(C[1],10))||km(b[2].length==0,C[2].length==0)||km(b[2],C[2]),b=b[3],C=C[3]}while(u==0)}return 0<=u})}var Dm;if(c.document&&Sr){var YS=GS();Dm=YS||parseInt(Gh,10)||void 0}else Dm=void 0;var Zi=Dm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var uV=!Sr||9<=Number(Zi);function Ml(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function XS(o,u){PS(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:JS.hasOwnProperty(d)?o.setAttribute(JS[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var JS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function lV(o,u,f){var d=arguments,v=document,_=String(d[0]),b=d[1];if(!uV&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',Am(b.name),'"'),b.type){_.push(' type="',Am(b.type),'"');var C={};kn(C,b),delete C.type,b=C}_.push(">"),_=_.join("")}return _=Qh(v,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):XS(_,b)),2<d.length&&cV(v,_,d),_}function cV(o,u,f){function d(C){C&&u.appendChild(typeof C=="string"?o.createTextNode(C):C)}for(var v=2;v<f.length;v++){var _=f[v];if(!w(_)||E(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(E(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(I(_)){b=typeof _.item=="function";break e}}b=!1}xe(b?rs(_):_,d)}}}function Qh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function ZS(o){c.setTimeout(function(){throw o},0)}var Lm;function fV(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!vt("Presto")&&(o=function(){var v=Qh(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var b="callImmediate"+Math.random(),C=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=O(function(L){(C=="*"||L.origin==C)&&L.data==b&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,C)}}}),typeof o<"u"&&!vt("Trident")&&!vt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var v=f.Hb;f.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,u.port2.postMessage(0)}}return function(v){c.setTimeout(v,0)}}function Yh(o,u){Xh||hV(),Mm||(Xh(),Mm=!0),e1.add(o,u)}var Xh;function hV(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Xh=function(){o.then(t1)}}else Xh=function(){var u=t1;!I(c.setImmediate)||c.Window&&c.Window.prototype&&!vt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Lm||(Lm=fV()),Lm(u)):c.setImmediate(u)}}var Mm=!1,e1=new pe;function t1(){for(var o;o=pt();){try{o.a.call(o.b)}catch(u){ZS(u)}se(qe,o)}Mm=!1}function we(o,u){if(this.a=os,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){ss(f,Fl,d)},function(d){if(!(d instanceof Da))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ss(f,wi,d)})}catch(d){ss(this,wi,d)}}var os=0,Fl=2,wi=3;function n1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}n1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var r1=new K(function(){return new n1},function(o){o.reset()});function Fm(o,u,f){var d=r1.get();return d.g=o,d.b=u,d.f=f,d}function re(o){if(o instanceof we)return o;var u=new we(m);return ss(u,Fl,o),u}function ze(o){return new we(function(u,f){f(o)})}function i1(o,u,f){u1(o,u,f,null)||Yh(z(u,o))}function dV(o){return new we(function(u,f){var d=o.length,v=[];if(d)for(var _=function(F,ue){d--,v[F]=ue,d==0&&u(v)},b=function(F){f(F)},C=0,L;C<o.length;C++)L=o[C],i1(L,z(_,C),b);else u(v)})}function o1(o){return new we(function(u){var f=o.length,d=[];if(f)for(var v=function(C,L,F){f--,d[C]=L?{Qb:!0,value:F}:{Qb:!1,reason:F},f==0&&u(d)},_=0,b;_<o.length;_++)b=o[_],i1(b,z(v,_,!0),z(v,_,!1));else u(d)})}we.prototype.then=function(o,u,f){return a1(this,I(o)?o:null,I(u)?u:null,f)},we.prototype.$goog_Thenable=!0,e=we.prototype,e.oa=function(o,u){return o=Fm(o,o,u),o.c=!0,jm(this,o),this},e.o=function(o,u){return a1(this,null,o,u)},e.cancel=function(o){if(this.a==os){var u=new Da(o);Yh(function(){s1(this,u)},this)}};function s1(o,u){if(o.a==os)if(o.c){var f=o.c;if(f.b){for(var d=0,v=null,_=null,b=f.b;b&&(b.c||(d++,b.a==o&&(v=b),!(v&&1<d)));b=b.next)v||(_=b);v&&(f.a==os&&d==1?s1(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):c1(f),f1(f,v,wi,u)))}o.c=null}else ss(o,wi,u)}function jm(o,u){o.b||o.a!=Fl&&o.a!=wi||l1(o),o.f?o.f.next=u:o.b=u,o.f=u}function a1(o,u,f,d){var v=Fm(null,null,null);return v.a=new we(function(_,b){v.g=u?function(C){try{var L=u.call(d,C);_(L)}catch(F){b(F)}}:_,v.b=f?function(C){try{var L=f.call(d,C);L===void 0&&C instanceof Da?b(C):_(L)}catch(F){b(F)}}:b}),v.a.c=o,jm(o,v),v.a}e.$c=function(o){this.a=os,ss(this,Fl,o)},e.ad=function(o){this.a=os,ss(this,wi,o)};function ss(o,u,f){o.a==os&&(o===f&&(u=wi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,u1(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,l1(o),u!=wi||f instanceof Da||vV(o,f)))}function u1(o,u,f,d){if(o instanceof we)return jm(o,Fm(u||m,f||null,d)),!0;if(Ra(o))return o.then(u,f,d),!0;if(E(o))try{var v=o.then;if(I(v))return pV(o,v,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function pV(o,u,f,d,v){function _(L){C||(C=!0,d.call(v,L))}function b(L){C||(C=!0,f.call(v,L))}var C=!1;try{u.call(o,b,_)}catch(L){_(L)}}function l1(o){o.h||(o.h=!0,Yh(o.gc,o))}function c1(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=c1(this);)f1(this,o,this.a,this.i);this.h=!1};function f1(o,u,f,d){if(f==wi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,h1(u,f,d);else try{u.c?u.g.call(u.f):h1(u,f,d)}catch(v){d1.call(null,v)}se(r1,u)}function h1(o,u,f){u==Fl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function vV(o,u){o.g=!0,Yh(function(){o.g&&d1.call(null,u)})}var d1=ZS;function Da(o){Mt.call(this,o)}U(Da,Mt),Da.prototype.name="cancel";function Jh(){this.ya=this.ya,this.pa=this.pa}var gV=0;Jh.prototype.ya=!1;function p1(o){!o.ya&&(o.ya=!0,o.Da(),gV!=0)&&T(o)}Jh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var mV=Object.freeze||function(o){return o},v1=!Sr||9<=Number(Zi),yV=Sr&&!QS("9"),_V=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Nn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Nn.prototype.preventDefault=function(){this.defaultPrevented=!0};function as(o,u){if(Nn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(KS){e:{try{Rm(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:wV[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}U(as,Nn);var wV=mV({2:"touch",3:"pen",4:"mouse"});as.prototype.preventDefault=function(){as.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,yV)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},as.prototype.g=function(){return this.a};var jl="closure_listenable_"+(1e6*Math.random()|0),EV=0;function bV(o,u,f,d,v){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=v,this.key=++EV,this.wa=this.Qa=!1}function Zh(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ed(o){this.src=o,this.a={},this.b=0}ed.prototype.add=function(o,u,f,d,v){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=Vm(o,u,d,v);return-1<b?(u=o[b],f||(u.Qa=!1)):(u=new bV(u,this.src,_,!!d,v),u.Qa=f,o.push(u)),u};function Um(o,u){var f=u.type;f in o.a&&zh(o.a[f],u)&&(Zh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Vm(o,u,f,d){for(var v=0;v<o.length;++v){var _=o[v];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return v}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),$m={};function nr(o,u,f,d,v){if(d&&d.once)qm(o,u,f,d,v);else if(Array.isArray(u))for(var _=0;_<u.length;_++)nr(o,u[_],f,d,v);else f=Hm(f),o&&o[jl]?E1(o,u,f,E(d)?!!d.capture:!!d,v):g1(o,u,f,!1,d,v)}function g1(o,u,f,d,v,_){if(!u)throw Error("Invalid event type");var b=E(v)?!!v.capture:!!v,C=td(o);if(C||(o[Bm]=C=new ed(o)),f=C.add(u,f,d,b,_),!f.proxy)if(d=TV(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)_V||(v=b),v===void 0&&(v=!1),o.addEventListener(u.toString(),d,v);else if(o.attachEvent)o.attachEvent(y1(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function TV(){var o=IV,u=v1?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function qm(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)qm(o,u[_],f,d,v);else f=Hm(f),o&&o[jl]?Wm(o,u,f,E(d)?!!d.capture:!!d,v):g1(o,u,f,!0,d,v)}function $n(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)$n(o,u[_],f,d,v);else d=E(d)?!!d.capture:!!d,f=Hm(f),o&&o[jl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Vm(_,f,d,v),-1<f&&(Zh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=td(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Vm(u,f,d,v)),(f=-1<o?u[o]:null)&&m1(f))}function m1(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[jl])Um(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(y1(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=td(u))?(Um(f,o),f.b==0&&(f.src=null,u[Bm]=null)):Zh(o)}}}function y1(o){return o in $m?$m[o]:$m[o]="on"+o}function _1(o,u,f,d){var v=!0;if((o=td(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=w1(_,d),v=v&&_!==!1)}return v}function w1(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&m1(o),f.call(d,u)}function IV(o,u){if(o.wa)return!0;if(!v1){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new as(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(o=o.type,v=d.length-1;0<=v;v--){u.b=d[v];var _=_1(d[v],o,!0,u);f=f&&_}for(v=0;v<d.length;v++)u.b=d[v],_=_1(d[v],o,!1,u),f=f&&_}return f}return w1(o,new as(u,this))}function td(o){return o=o[Bm],o instanceof ed?o:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(o){return I(o)?o:(o[zm]||(o[zm]=function(u){return o.handleEvent(u)}),o[zm])}function hn(){Jh.call(this),this.v=new ed(this),this.bc=this,this.hb=null}U(hn,Jh),hn.prototype[jl]=!0,hn.prototype.addEventListener=function(o,u,f,d){nr(this,o,u,f,d)},hn.prototype.removeEventListener=function(o,u,f,d){$n(this,o,u,f,d)},hn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Nn(o,f);else if(o instanceof Nn)o.target=o.target||f;else{var v=o;o=new Nn(d,f),kn(o,v)}if(v=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];v=nd(b,d,!0,o)&&v}if(b=o.b=f,v=nd(b,d,!0,o)&&v,v=nd(b,d,!1,o)&&v,u)for(_=0;_<u.length;_++)b=o.b=u[_],v=nd(b,d,!1,o)&&v;return v},hn.prototype.Da=function(){if(hn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Zh(f[d]);delete o.a[u],o.b--}}this.hb=null};function E1(o,u,f,d,v){o.v.add(String(u),f,!1,d,v)}function Wm(o,u,f,d,v){o.v.add(String(u),f,!0,d,v)}function nd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.wa&&b.capture==f){var C=b.listener,L=b.Wa||b.src;b.Qa&&Um(o.v,b),v=C.call(L,d)!==!1&&v}}return v&&!d.defaultPrevented}function Km(o,u,f){if(I(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function La(o){var u=null;return new we(function(f,d){u=Km(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function b1(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function T1(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function SV(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")xe(o,u,void 0);else for(var f=T1(o),d=b1(o),v=d.length,_=0;_<v;_++)u.call(void 0,d[_],f&&f[_],o)}function Ma(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof Ma)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=Ma.prototype,e.X=function(){Gm(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Gm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Gm(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];us(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var v={};for(f=u=0;u<o.a.length;)d=o.a[u],us(v,d)||(o.a[f++]=d,v[d]=1),u++;o.a.length=f}}e.get=function(o,u){return us(this.b,o)?this.b[o]:u},e.set=function(o,u){us(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var v=f[d],_=this.get(v);o.call(u,_,v,this)}};function us(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var I1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kV(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),v=null;if(0<=d){var _=o[f].substring(0,d);v=o[f].substring(d+1)}else _=o[f];u(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function eo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof eo?(this.i=u!==void 0?u:o.i,Ul(this,o.c),this.l=o.l,this.a=o.a,Vl(this,o.g),this.f=o.f,Qm(this,N1(o.b)),this.h=o.h):o&&(f=String(o).match(I1))?(this.i=!!u,Ul(this,f[1]||"",!0),this.l=Bl(f[2]||""),this.a=Bl(f[3]||"",!0),Vl(this,f[4]),this.f=Bl(f[5]||"",!0),Qm(this,f[6]||"",!0),this.h=Bl(f[7]||"")):(this.i=!!u,this.b=new ls(null,this.i))}eo.prototype.toString=function(){var o=[],u=this.c;u&&o.push($l(u,S1,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push($l(u,S1,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push($l(f,f.charAt(0)=="/"?AV:NV,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",$l(f,xV)),o.join("")},eo.prototype.resolve=function(o){var u=new eo(this),f=!!o.c;f?Ul(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)Vl(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(Fe(v,"./")||Fe(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],b=0;b<v.length;){var C=v[b++];C=="."?d&&b==v.length&&_.push(""):C==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&b==v.length&&_.push("")):(_.push(C),d=!0)}d=_.join("/")}else d=v}return f?u.f=d:f=o.b.toString()!=="",f?Qm(u,N1(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Ul(o,u,f){o.c=f?Bl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Vl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Qm(o,u,f){u instanceof ls?(o.b=u,PV(o.b,o.i)):(f||(u=$l(u,RV)),o.b=new ls(u,o.i))}function nt(o,u,f){o.b.set(u,f)}function rr(o,u){return o.b.get(u)}function An(o){return o instanceof eo?new eo(o):new eo(o,void 0)}function rd(o,u,f,d){var v=new eo(null,void 0);return o&&Ul(v,o),u&&(v.a=u),f&&Vl(v,f),d&&(v.f=d),v}function Bl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function $l(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,CV),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function CV(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var S1=/[#\/\?@]/g,NV=/[#\?:]/g,AV=/[#\?]/g,RV=/[#\?@]/g,xV=/#/g;function ls(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function to(o){o.a||(o.a=new Ma,o.b=0,o.c&&kV(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function k1(o){var u=T1(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new ls(null,void 0);o=b1(o);for(var d=0;d<u.length;d++){var v=u[d],_=o[d];Array.isArray(_)?C1(f,v,_):f.add(v,_)}return f}e=ls.prototype,e.add=function(o,u){to(this),this.c=null,o=Fa(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Wr(o,u){to(o),u=Fa(o,u),us(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,us(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Gm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ym(o,u){return to(o),u=Fa(o,u),us(o.a.b,u)}e.forEach=function(o,u){to(this),this.a.forEach(function(f,d){xe(f,function(v){o.call(u,v,d,this)},this)},this)},e.Y=function(){to(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var v=o[d],_=0;_<v.length;_++)f.push(u[d]);return f},e.X=function(o){to(this);var u=[];if(typeof o=="string")Ym(this,o)&&(u=Sm(u,this.a.get(Fa(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Sm(u,o[f])}return u},e.set=function(o,u){return to(this),this.c=null,o=Fa(this,o),Ym(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function C1(o,u,f){Wr(o,u),0<f.length&&(o.c=null,o.a.set(Fa(o,u),rs(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],v=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var b=v;d[_]!==""&&(b+="="+encodeURIComponent(String(d[_]))),o.push(b)}}return this.c=o.join("&")};function N1(o){var u=new ls;return u.c=o.c,o.a&&(u.a=new Ma(o.a),u.b=o.b),u}function Fa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function PV(o,u){u&&!o.f&&(to(o),o.c=null,o.a.forEach(function(f,d){var v=d.toLowerCase();d!=v&&(Wr(this,d),C1(this,v,f))},o)),o.f=u}function A1(o){var u=[];return Xm(new OV,o,u),u.join("")}function OV(){}function Xm(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var v="",_=0;_<u;_++)f.push(v),Xm(o,d[_],f),v=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(v),x1(d,f),f.push(":"),Xm(o,_,f),v=","));f.push("}");return}}switch(typeof u){case"string":x1(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var R1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},DV=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function x1(o,u){u.push('"',o.replace(DV,function(f){var d=R1[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),R1[f]=d),d}),'"')}function Jm(){var o=Ft();return Sr&&!!Zi&&Zi==11||/Edge\/\d+/.test(o)}function ql(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function P1(o,u){u=u||c.window;var f="about:blank";o&&(f=Kh(VS(o)||$S)),u.location.href=f}function O1(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<O1(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function LV(){var o=Ft();return o=ja(o)!=F1?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Sr||!Zi||9<Zi}function D1(o){return o=(o||Ft()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function cs(o){o=o||c.window;try{o.close()}catch{}}function L1(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var v=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Ft().toLowerCase(),d&&(u.target=d,Fe(f,"crios/")&&(u.target="_blank")),ja(Ft())==ty&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof Cn?f:VS(typeof f.href<"u"?f.href:String(f))||$S,f=o.target||f.target,v=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(o[b]?1:0))}var b=v.join(",");if((vt("iPhone")&&!vt("iPod")&&!vt("iPad")||vt("iPad")||vt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(b=Qh(document,"A"),DS(b,"HTMLAnchorElement"),u=u instanceof Cn?u:BS(u),b.href=Kh(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=zS("",d,f,b),o=Kh(u),b&&(oV&&Fe(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Am(o)+'">',o=(d=MS())?d.createHTML(o):o,o=new Oa(o,null,qS),d=b.document)&&(d.write(tV(o)),d.close())):(b=zS(u,d,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function MV(o){return new we(function(u){function f(){La(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var FV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jV=/^[^@]+@[^@]+$/;function id(){var o=null;return new we(function(u){c.document.readyState=="complete"?u():(o=function(){u()},qm(window,"load",o))}).o(function(u){throw $n(window,"load",o),u})}function UV(){return Zm(void 0)?id().then(function(){return new we(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):ze(Error("Cordova must run in an Android or iOS file scheme."))}function Zm(o){return o=o||Ft(),!(Va()!=="file:"&&Va()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function ey(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function kr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Kr(){return te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.INTERNAL.hasOwnProperty("node")?"Node":kr()?"Worker":"Browser"}function M1(){var o=Kr();return o==="ReactNative"||o==="Node"}function VV(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var ty="Firefox",F1="Chrome";function ja(o){var u=o.toLowerCase();if(Fe(u,"opera/")||Fe(u,"opr/")||Fe(u,"opios/"))return"Opera";if(Fe(u,"iemobile"))return"IEMobile";if(Fe(u,"msie")||Fe(u,"trident/"))return"IE";if(Fe(u,"edge/"))return"Edge";if(Fe(u,"firefox/"))return ty;if(Fe(u,"silk/"))return"Silk";if(Fe(u,"blackberry"))return"Blackberry";if(Fe(u,"webos"))return"Webos";if(!Fe(u,"safari/")||Fe(u,"chrome/")||Fe(u,"crios/")||Fe(u,"android"))if(!Fe(u,"chrome/")&&!Fe(u,"crios/")||Fe(u,"edge/")){if(Fe(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return F1;else return"Safari";return"Other"}var j1={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ua(o,u){u=u||[];var f=[],d={},v;for(v in j1)d[j1[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]<"u"&&(delete d[u[v]],f.push(u[v]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Kr(),f==="Browser"?(d=Ft(),f=ja(d)):f==="Worker"&&(d=Ft(),f=ja(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Ft(){return c.navigator&&c.navigator.userAgent||""}function He(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function ny(){try{var o=c.localStorage,u=hs();if(o)return o.setItem(u,"1"),o.removeItem(u),Jm()?!!c.indexedDB:!0}catch{return kr()&&!!c.indexedDB}return!1}function fs(){return(od()||Va()==="chrome-extension:"||Zm())&&!M1()&&ny()&&!kr()}function od(){return Va()==="http:"||Va()==="https:"}function Va(){return c.location&&c.location.protocol||null}function zl(o){return o=o||Ft(),!(D1(o)||ja(o)==ty)}function Hl(o){return typeof o>"u"?null:A1(o)}function U1(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Ba(o){if(o!==null)return JSON.parse(o)}function hs(o){return o||Math.floor(1e9*Math.random()).toString()}function V1(o){return o=o||Ft(),!(ja(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function B1(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function no(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Ft(),u=Kr(),this.b=D1(o)||u==="ReactNative"}no.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(od()||Va()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function ry(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function BV(){var o=c.document,u=null;return ry()||!o?re():new we(function(f){u=function(){ry()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Wl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function $1(){return!(!He("fireauth.oauthhelper",c)&&!He("fireauth.iframe",c))}function $V(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function qV(){var o=c.navigator;return o&&o.serviceWorker?re().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):re(null)}var q1={};function iy(o){q1[o]||(q1[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var oy;try{var sy={};Object.defineProperty(sy,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(sy,"abcd",{configurable:!0,enumerable:!0,value:2}),oy=sy.abcd==2}catch{oy=!1}function Z(o,u,f){oy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function dn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&Z(o,f,u[f])}function Gr(o){var u={};return dn(u,o),u}function zV(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function HV(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function ay(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)Z(u,f,ay(o[f]))}return u}function uy(o){var u=o&&(o[hy]?"phone":null);if(u&&o&&o[fy]){Z(this,"uid",o[fy]),Z(this,"displayName",o[z1]||null);var f=null;o[cy]&&(f=new Date(o[cy]).toUTCString()),Z(this,"enrollmentTime",f),Z(this,"factorId",u)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}uy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ly(o){try{var u=new Kl(o)}catch{u=null}return u}var z1="displayName",cy="enrolledAt",fy="mfaEnrollmentId",hy="phoneInfo";function Kl(o){uy.call(this,o),Z(this,"phoneNumber",o[hy])}U(Kl,uy),Kl.prototype.w=function(){var o=Kl.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function WV(o){var u={},f=o[KV],d=o[QV],v=o[YV];if(o=ly(o[GV]),!v||v!=sd&&v!=Gl&&!f||v==Gl&&!d||v==dy&&!o)throw Error("Invalid checkActionCode response!");v==Gl?(u[W1]=f||null,u[K1]=f||null,u[H1]=d):(u[W1]=d||null,u[K1]=d||null,u[H1]=f||null),u[XV]=o||null,Z(this,ZV,v),Z(this,JV,ay(u))}var dy="REVERT_SECOND_FACTOR_ADDITION",sd="EMAIL_SIGNIN",Gl="VERIFY_AND_CHANGE_EMAIL",KV="email",GV="mfaInfo",QV="newEmail",YV="requestType",H1="email",W1="fromEmail",XV="multiFactorInfo",K1="previousEmail",JV="data",ZV="operation";function py(o){o=An(o);var u=rr(o,G1)||null,f=rr(o,Q1)||null,d=rr(o,Y1)||null;if(d=d&&rB[d]||null,!u||!f||!d)throw new x("argument-error",G1+", "+Q1+"and "+Y1+" are required in a valid action code URL.");dn(this,{apiKey:u,operation:d,code:f,continueUrl:rr(o,eB)||null,languageCode:rr(o,tB)||null,tenantId:rr(o,nB)||null})}var G1="apiKey",Q1="oobCode",eB="continueUrl",tB="languageCode",Y1="mode",nB="tenantId",rB={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:dy,signIn:sd,verifyAndChangeEmail:Gl,verifyEmail:"VERIFY_EMAIL"};function X1(o){try{return new py(o)}catch{return null}}function ad(o){var u=o[iB];if(typeof u>"u")throw new x("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new x("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[J1];if(f&&typeof f=="object"){u=f[rk];var d=f[tk];if(f=f[nk],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",tk+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new x("argument-error",nk+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new x("argument-error",rk+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new x("missing-android-pkg-name")}}else if(typeof f<"u")throw new x("argument-error",J1+" property must be a non null object when specified.");if(this.f=null,(u=o[ek])&&typeof u=="object"){if(u=u[ik],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new x("argument-error",ik+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new x("argument-error",ek+" property must be a non null object when specified.");if(u=o[vy],typeof u<"u"&&typeof u!="boolean")throw new x("argument-error",vy+" property must be a boolean when specified.");if(this.c=!!u,o=o[Z1],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new x("argument-error",Z1+" property must be a non empty string when specified.");this.i=o||null}var J1="android",Z1="dynamicLinkDomain",vy="handleCodeInApp",ek="iOS",iB="url",tk="installApp",nk="minimumVersion",rk="packageName",ik="bundleId";function ud(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function oB(o){return qh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Ql=null;function sB(o){var u=[];return aB(o,function(f){u.push(f)}),u}function aB(o,u){function f(L){for(;d<o.length;){var F=o.charAt(d++),ue=Ql[F];if(ue!=null)return ue;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return L}uB();for(var d=0;;){var v=f(-1),_=f(0),b=f(64),C=f(64);if(C===64&&v===-1)break;u(v<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),C!=64&&u(b<<6&192|C))}}function uB(){if(!Ql){Ql={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),v=0;v<d.length;v++){var _=d[v];Ql[_]===void 0&&(Ql[_]=v)}}}function ld(o){var u=ok(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}ld.prototype.T=function(){return this.f},ld.prototype.l=function(){return this.c},ld.prototype.toString=function(){return this.h};function cd(o){try{return new ld(o)}catch{return null}}function ok(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=sB(o);for(o=[],f=u=0;u<d.length;){var v=d[u++];if(128>v)o[f++]=String.fromCharCode(v);else if(191<v&&224>v){var _=d[u++];o[f++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=d[u++];var b=d[u++],C=d[u++],L=((v&7)<<18|(_&63)<<12|(b&63)<<6|C&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=d[u++],b=d[u++],o[f++]=String.fromCharCode((v&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var sk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),fd=["client_id","response_type","scope","redirect_uri","state"],gy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:fd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:fd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:fd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:sk},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function my(o){for(var u in gy)if(gy[u].fa==o)return gy[u];return null}function ak(o){var u={};u["facebook.com"]=lk,u["google.com"]=fk,u["github.com"]=ck,u["twitter.com"]=hk;var f=o&&o[uk];try{if(f)return u[f]?new u[f](o):new Qr(o);if(typeof o[yy]<"u")return new _y(o)}catch{}return null}var yy="idToken",uk="providerId";function _y(o){var u=o[uk];if(!u&&o[yy]){var f=cd(o[yy]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),Z(this,"providerId",u),Z(this,"isNewUser",f)}function Qr(o){_y.call(this,o),o=Ba(o.rawUserInfo||"{}"),Z(this,"profile",ay(o||{}))}U(Qr,_y);function lk(o){if(Qr.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}U(lk,Qr);function ck(o){if(Qr.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Z(this,"username",this.profile&&this.profile.login||null)}U(ck,Qr);function fk(o){if(Qr.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}U(fk,Qr);function hk(o){if(Qr.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Z(this,"username",o.screenName||null)}U(hk,Qr);function dk(o){var u=An(o),f=rr(u,"link"),d=rr(An(f),"link");return u=rr(u,"deep_link_id"),rr(An(u),"link")||u||d||f||o}function hd(o,u){if(!o&&!u)throw new x("internal-error","Internal assert: no raw session string available");if(o&&u)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Yl:dd}var Yl="enroll",dd="signin";hd.prototype.Ha=function(){return this.a?re(this.a):re(this.b)},hd.prototype.w=function(){return this.type==Yl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function $a(){}$a.prototype.ka=function(){},$a.prototype.b=function(){},$a.prototype.c=function(){},$a.prototype.w=function(){};function qa(o,u){return o.then(function(f){if(f[Ar]){var d=cd(f[Ar]);if(!d||u!=d.i)throw new x("user-mismatch");return f}throw new x("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Tt+"user-not-found"?new x("user-mismatch"):f})}function ds(o,u){if(u)this.a=u;else throw new x("internal-error","failed to construct a credential");Z(this,"providerId",o),Z(this,"signInMethod",o)}ds.prototype.ka=function(o){return qy(o,wy(this))},ds.prototype.b=function(o,u){var f=wy(this);return f.idToken=u,zy(o,f)},ds.prototype.c=function(o,u){return qa(Hy(o,wy(this)),u)};function wy(o){return{pendingToken:o.a,requestUri:"http://localhost"}}ds.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function lB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new ds(o.providerId,o.pendingToken)}catch{}return null}function Ei(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Z(this,"idToken",u.idToken),u.accessToken&&Z(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Z(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Z(this,"accessToken",u.oauthToken),Z(this,"secret",u.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");Z(this,"providerId",o),Z(this,"signInMethod",f)}Ei.prototype.ka=function(o){return qy(o,Ey(this))},Ei.prototype.b=function(o,u){var f=Ey(this);return f.idToken=u,zy(o,f)},Ei.prototype.c=function(o,u){var f=Ey(this);return qa(Hy(o,f),u)};function Ey(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:k1(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ei.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function cB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ei(o.providerId,u,o.signInMethod)}catch{}}return null}function ps(o,u){this.Qc=u||[],dn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(my(o)||{}).Ja||null,this.pb=null}ps.prototype.Ka=function(o){return this.Jb=Ji(o),this};function pk(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');ps.call(this,o,[])}U(pk,ps);function qn(o){ps.call(this,o,fd),this.a=[]}U(qn,ps),qn.prototype.Ca=function(o){return _i(this.a,o)||this.a.push(o),this},qn.prototype.Rb=function(){return rs(this.a)},qn.prototype.credential=function(o,u){var f;if(E(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ei(this.providerId,f,this.providerId)};function vs(){qn.call(this,"facebook.com")}U(vs,qn),Z(vs,"PROVIDER_ID","facebook.com"),Z(vs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function vk(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return E(o)&&(u=o.accessToken),new vs().credential({accessToken:u})}function gs(){qn.call(this,"github.com")}U(gs,qn),Z(gs,"PROVIDER_ID","github.com"),Z(gs,"GITHUB_SIGN_IN_METHOD","github.com");function gk(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return E(o)&&(u=o.accessToken),new gs().credential({accessToken:u})}function ms(){qn.call(this,"google.com"),this.Ca("profile")}U(ms,qn),Z(ms,"PROVIDER_ID","google.com"),Z(ms,"GOOGLE_SIGN_IN_METHOD","google.com");function mk(o,u){var f=o;return E(o)&&(f=o.idToken,u=o.accessToken),new ms().credential({idToken:f,accessToken:u})}function za(){ps.call(this,"twitter.com",sk)}U(za,ps),Z(za,"PROVIDER_ID","twitter.com"),Z(za,"TWITTER_SIGN_IN_METHOD","twitter.com");function yk(o,u){var f=o;if(E(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ei("twitter.com",f,"twitter.com")}function ro(o,u,f){this.a=o,this.f=u,Z(this,"providerId","password"),Z(this,"signInMethod",f===ir.EMAIL_LINK_SIGN_IN_METHOD?ir.EMAIL_LINK_SIGN_IN_METHOD:ir.EMAIL_PASSWORD_SIGN_IN_METHOD)}ro.prototype.ka=function(o){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,GB,{email:this.a,oobCode:this.f}):Ee(o,Wk,{email:this.a,password:this.f})},ro.prototype.b=function(o,u){return this.signInMethod==ir.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,QB,{idToken:u,email:this.a,oobCode:this.f}):Ee(o,Hk,{idToken:u,email:this.a,password:this.f})},ro.prototype.c=function(o,u){return qa(this.ka(o),u)},ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function fB(o){return o&&o.email&&o.password?new ro(o.email,o.password,o.signInMethod):null}function ir(){dn(this,{providerId:"password",isOAuthProvider:!1})}function _k(o,u){if(u=by(u),!u)throw new x("argument-error","Invalid email link!");return new ro(o,u.code,ir.EMAIL_LINK_SIGN_IN_METHOD)}function by(o){return o=dk(o),(o=X1(o))&&o.operation===sd?o:null}dn(ir,{PROVIDER_ID:"password"}),dn(ir,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),dn(ir,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function io(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new x("internal-error");this.a=o,Z(this,"providerId","phone"),this.fa="phone",Z(this,"signInMethod","phone")}io.prototype.ka=function(o){return o.gb(Xl(this))},io.prototype.b=function(o,u){var f=Xl(this);return f.idToken=u,Ee(o,v$,f)},io.prototype.c=function(o,u){var f=Xl(this);return f.operation="REAUTH",o=Ee(o,g$,f),qa(o,u)},io.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function hB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return xe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new io(u)}return null}function Xl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function bi(o){try{this.a=o||te.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}dn(this,{providerId:"phone",isOAuthProvider:!1})}bi.prototype.gb=function(o,u){var f=this.a.a;return re(u.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=E(o)?o.session:null,_=E(o)?o.phoneNumber:o,b;return v&&v.type==Yl?b=v.Ha().then(function(C){return UB(f,{idToken:C,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):v&&v.type==dd?b=v.Ha().then(function(C){return VB(f,{mfaPendingCredential:C,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=jB(f,{phoneNumber:_,recaptchaToken:d}),b.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function wk(o,u){if(!o)throw new x("missing-verification-id");if(!u)throw new x("missing-verification-code");return new io({fb:o,eb:u})}dn(bi,{PROVIDER_ID:"phone"}),dn(bi,{PHONE_SIGN_IN_METHOD:"phone"});function Ty(o){if(o.temporaryProof&&o.phoneNumber)return new io({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,v=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return mk(_,f);case"facebook.com":return vk(f);case"github.com":return gk(f);case"twitter.com":return yk(f,d);default:return f||d||_||b?b?u.indexOf("saml.")==0?new ds(u,b):new Ei(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new qn(u).credential({idToken:_,accessToken:f,rawNonce:v}):null}}catch{return null}}function Iy(o){if(!o.isOAuthProvider)throw new x("invalid-oauth-provider")}function Cr(o,u,f,d,v,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Cr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Cr.prototype.T=function(){return this.h},Cr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Ek(o){return o=o||{},o.type?new Cr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&yi(o.error),o.postBody,o.tenantId):null}function dB(){this.b=null,this.a=[]}var Sy=null;function pB(o){var u=Sy;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=He("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function ky(o){var u="unauthorized-domain",f=void 0,d=An(o);o=d.a,d=d.c,d=="chrome-extension"?f=HS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=HS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",x.call(this,u,f)}U(ky,x);function Jl(o,u,f){x.call(this,o,f),o=u||{},o.Kb&&Z(this,"email",o.Kb),o.ea&&Z(this,"phoneNumber",o.ea),o.credential&&Z(this,"credential",o.credential),o.$b&&Z(this,"tenantId",o.$b)}U(Jl,x),Jl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&kn(o,u),o},Jl.prototype.toJSON=function(){return this.w()};function pd(o){if(o.code){var u=o.code||"";u.indexOf(Tt)==0&&(u=u.substring(Tt.length));var f={credential:Ty(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new x(u,o.message||void 0);return new Jl(u,f,o.message)}return null}function Zl(){}Zl.prototype.c=null;function bk(o){return o.c||(o.c=o.b())}var Cy;function vd(){}U(vd,Zl),vd.prototype.a=function(){var o=Tk(this);return o?new ActiveXObject(o):new XMLHttpRequest},vd.prototype.b=function(){var o={};return Tk(this)&&(o[0]=!0,o[1]=!0),o};function Tk(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Cy=new vd;function gd(){}U(gd,Zl),gd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new Ik;throw Error("Unsupported browser")},gd.prototype.b=function(){return{}};function Ik(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=Ik.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ny(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Ny(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Ny(this,1)};function Ny(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Ay(o,u,f){this.reset(o,u,f,void 0,void 0)}Ay.prototype.a=null,Ay.prototype.reset=function(o,u,f,d,v){delete this.a};function Ry(o){this.f=o,this.b=this.c=this.a=null}function ec(o,u){this.name=o,this.value=u}ec.prototype.toString=function(){return this.name};var Sk=new ec("SEVERE",1e3),xy=new ec("WARNING",900),vB=new ec("CONFIG",700),gB=new ec("FINE",500);function kk(o){return o.c?o.c:o.a?kk(o.a):(Yi("Root logger has no level set."),null)}Ry.prototype.log=function(o,u,f){if(o.value>=kk(this).value)for(I(u)&&(u=u()),o=new Ay(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Py={},md=null;function Oy(o){md||(md=new Ry(""),Py[""]=md,md.c=vB);var u;if(!(u=Py[o])){u=new Ry(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=Oy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,Py[o]=u}return u}function or(o,u){o&&o.log(gB,u,void 0)}function yd(o){this.f=o}U(yd,Zl),yd.prototype.a=function(){return new _d(this.f)},yd.prototype.b=function(o){return function(){return o}}({});function _d(o){hn.call(this),this.u=o,this.h=void 0,this.readyState=Dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Oy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}U(_d,hn);var Dy=0;e=_d.prototype,e.open=function(o,u){if(this.readyState!=Dy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,nc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,tc(this)),this.readyState=Dy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,nc(this)),this.a&&(this.readyState=3,nc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,Ck(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Ck(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?tc(this):nc(this),this.readyState==3&&Ck(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,tc(this))},e.sc=function(o){this.a&&(this.response=o,tc(this))},e.Va=function(o){var u=this.i;u&&u.log(xy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&tc(this)};function tc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,nc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(xy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(xy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function nc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function rc(o){hn.call(this),this.headers=new Ma,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Nk,this.u=this.S=!1}U(rc,hn);var Nk="";rc.prototype.b=Oy("goog.net.XhrIo");var mB=/^https?$/i,yB=["POST","PUT"];function _B(o,u,f,d,v){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Cy.a(),o.C=o.D?bk(o.D):bk(Cy),o.a.onreadystatechange=O(o.Wb,o);try{or(o.b,Ti(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(b){or(o.b,Ti(o,"Error opening Xhr: "+b.message)),Ak(o,b);return}u=d||"";var _=new Ma(o.headers);v&&SV(v,function(b,C){_.set(C,b)}),v=$4(_.Y()),d=c.FormData&&u instanceof c.FormData,!_i(yB,f)||v||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,C){this.a.setRequestHeader(C,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{Pk(o),0<o.g&&(o.u=wB(o.a),or(o.b,Ti(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=Km(o.Ma,o.g,o)),or(o.b,Ti(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){or(o.b,Ti(o,"Send error: "+b.message)),Ak(o,b)}}function wB(o){return Sr&&QS(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function EB(o){return o.toLowerCase()=="content-type"}e=rc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",or(this.b,Ti(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Ak(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,Rk(o),wd(o)}function Rk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(or(this.b,Ti(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wd(this,!0)),rc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xk(this):this.Jc())},e.Jc=function(){xk(this)};function xk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&ic(o)==4&&Ed(o)==2)or(o.b,Ti(o,"Local request error detected and ignored"));else if(o.i&&ic(o)==4)Km(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),ic(o)==4){or(o.b,Ti(o,"Request complete")),o.c=!1;try{var u=Ed(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var v;if(v=u===0){var _=String(o.l).match(I1)[1]||null;if(!_&&c.self&&c.self.location){var b=c.self.location.protocol;_=b.substr(0,b.length-1)}v=!mB.test(_?_.toLowerCase():"")}d=v}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var C=2<ic(o)?o.a.statusText:""}catch(L){or(o.b,"Can not get status: "+L.message),C=""}o.h=C+" ["+Ed(o)+"]",Rk(o)}}finally{wd(o)}}}}function wd(o,u){if(o.a){Pk(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(v){(o=o.b)&&o.log(Sk,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function Pk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function ic(o){return o.a?o.a.readyState:0}function Ed(o){try{return 2<ic(o)?o.a.status:-1}catch{return-1}}function bB(o){try{return o.a?o.a.responseText:""}catch(u){return or(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Nk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(Sk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return or(this.b,"Can not get response: "+u.message),null}};function Ti(o,u){return u+" ["+o.P+" "+o.l+" "+Ed(o)+"]"}function ys(o){var u=SB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ys.prototype.cancel=function(o){if(this.a)this.c instanceof ys&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new sc,bd(this),oc(this,!1,o))}},ys.prototype.m=function(o,u){this.i=!1,oc(this,o,u)};function oc(o,u,f){o.a=!0,o.c=f,o.f=!u,Dk(o)}function bd(o){if(o.a){if(!o.v)throw new Td;o.v=!1}}function TB(o,u){Ly(o,null,u,void 0)}function Ly(o,u,f,d){o.g.push([u,f,d]),o.a&&Dk(o)}ys.prototype.then=function(o,u,f){var d,v,_=new we(function(b,C){d=b,v=C});return Ly(this,d,function(b){b instanceof sc?_.cancel():v(b)}),_.then(o,u,f)},ys.prototype.$goog_Thenable=!0;function Ok(o){return B4(o.g,function(u){return I(u[1])})}function Dk(o){if(o.h&&o.a&&Ok(o)){var u=o.h,f=Id[u];f&&(c.clearTimeout(f.a),delete Id[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var v=o.g.shift(),_=v[0],b=v[1];if(v=v[2],_=o.f?b:_)try{var C=_.call(v||o.s,u);C!==void 0&&(o.f=o.f&&(C==u||C instanceof Error),o.c=u=C),(Ra(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(L){u=L,o.f=!0,Ok(o)||(f=!0)}}o.c=u,d&&(C=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof ys?(Ly(u,C,d),u.C=!0):u.then(C,d)),f&&(u=new Lk(u),Id[u.a]=u,o.h=u.a)}function Td(){Mt.call(this)}U(Td,Mt),Td.prototype.message="Deferred has already fired",Td.prototype.name="AlreadyCalledError";function sc(){Mt.call(this)}U(sc,Mt),sc.prototype.message="Deferred was canceled",sc.prototype.name="CanceledError";function Lk(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}Lk.prototype.c=function(){throw delete Id[this.a],this.b};var Id={};function My(o){var u={},f=u.document||document,d=FS(o).toString(),v=Qh(document,"SCRIPT"),_={Xb:v,Ma:void 0},b=new ys(_),C=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(C=window.setTimeout(function(){Sd(v,!0);var F=new Fy(CB,"Timeout reached for loading script "+d);bd(b),oc(b,!1,F)},L),_.Ma=C),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Sd(v,u.xd||!1,C),bd(b),oc(b,!0,null))},v.onerror=function(){Sd(v,!0,C);var F=new Fy(kB,"Error while loading script "+d);bd(b),oc(b,!1,F)},_=u.attributes||{},kn(_,{type:"text/javascript",charset:"UTF-8"}),XS(v,_),nV(v,o),IB(f).appendChild(v),b}function IB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function SB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Sd(o,!0,this.Ma)}}function Sd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var kB=0,CB=1;function Fy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Mt.call(this,f),this.code=o}U(Fy,Mt);function kd(o){this.f=o}U(kd,Zl),kd.prototype.a=function(){return new this.f},kd.prototype.b=function(){return{}};function Nr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||NB,this.g=Ji(o.secureTokenHeaders||AB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||RB,this.a=Ji(o.firebaseHeaders||xB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Kr()=="Node",f=c.XMLHttpRequest||f&&te.INTERNAL.node&&te.INTERNAL.node.XMLHttpRequest,!f&&!kr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kr()?this.f=new yd(self):M1()?this.f=new kd(f):this.f=new gd,this.b=null}var jy,Ar="idToken",NB=new no(3e4,6e4),AB={"Content-Type":"application/x-www-form-urlencoded"},RB=new no(3e4,6e4),xB={"Content-Type":"application/json"};function Mk(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Cd(o,u){u&&(o.l=Uy("https://securetoken.googleapis.com/v1/token",u),o.h=Uy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Uy("https://identitytoolkit.googleapis.com/v2/",u))}function Uy(o,u){return o=An(o),u=An(u.url),o.f=o.a+o.f,Ul(o,u.c),o.a=u.a,Vl(o,u.g),o.toString()}function Fk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Nr.prototype.T=function(){return this.b};function jk(o,u,f,d,v,_,b){LV()||kr()?o=O(o.u,o):(jy||(jy=new we(function(C,L){OB(C,L)})),o=O(o.s,o)),o(u,f,d,v,_,b)}Nr.prototype.u=function(o,u,f,d,v,_){if(kr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new rc(this.f);if(_){b.g=Math.max(0,_);var C=setTimeout(function(){b.dispatchEvent("timeout")},_)}E1(b,"complete",function(){C&&clearTimeout(C);var L=null;try{L=JSON.parse(bB(this))||null}catch{L=null}u&&u(L)}),Wm(b,"ready",function(){C&&clearTimeout(C),p1(this)}),Wm(b,"timeout",function(){C&&clearTimeout(C),p1(this),u&&u(null)}),_B(b,o,f,d,v)};var PB=new Hr(Hh,"https://apis.google.com/js/client.js?onload=%{onload}"),Uk="__fcb"+Math.floor(1e6*Math.random()).toString();function OB(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[Uk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Nm(PB,{onload:Uk});TB(My(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Nr.prototype.s=function(o,u,f,d,v){var _=this;jy.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:v,authType:"none",callback:function(C){window.gapi.auth.setToken(b),u&&u(C)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function DB(o,u){return new we(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?jk(o,o.l+"?key="+encodeURIComponent(o.c),function(v){v?v.error?d(Ky(v)):v.access_token&&v.refresh_token?f(v):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",k1(u).toString(),o.g,o.m.get()):d(new x("internal-error"))})}function Vk(o,u,f,d,v,_,b){var C=An(u+f);nt(C,"key",o.c),b&&nt(C,"cb",Date.now().toString());var L=d=="GET";if(L)for(var F in v)v.hasOwnProperty(F)&&nt(C,F,v[F]);return new we(function(ue,Pe){jk(o,C.toString(),function(ke){ke?ke.error?Pe(Ky(ke,_||{})):ue(ke):Pe(new x("network-request-failed"))},d,L?void 0:A1(U1(v)),o.a,o.v.get())})}function _s(o){if(o=o.email,typeof o!="string"||!jV.test(o))throw new x("invalid-email")}function Bk(o){"email"in o&&_s(o)}function LB(o,u){return Ee(o,HB,{identifier:u,continueUri:od()?ql():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function MB(o){return Ee(o,r$,{}).then(function(u){return u.authorizedDomains||[]})}function Rn(o){if(!o[Ar])throw o.mfaPendingCredential?new x("multi-factor-auth-required",null,Ji(o)):new x("internal-error")}function Vy(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new x("internal-error")}else{if(!o.sessionInfo)throw new x("missing-verification-id");if(!o.code)throw new x("missing-verification-code")}}Nr.prototype.Ab=function(){return Ee(this,a$,{})},Nr.prototype.Cb=function(o,u){return Ee(this,zk,{idToken:o,email:u})},Nr.prototype.Db=function(o,u){return Ee(this,Hk,{idToken:o,password:u})};var FB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Nr.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return PS(FB,function(v,_){var b=u[_];b===null?d.push(v):_ in u&&(f[_]=b)}),d.length&&(f.deleteAttribute=d),Ee(this,zk,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},kn(o,u),Ee(this,n$,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},kn(o,u),Ee(this,ZB,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},kn(o,u),Ee(this,e$,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},kn(o,f),Ee(this,t$,o)};function jB(o,u){return Ee(o,s$,u)}e.gb=function(o){return Ee(this,p$,o)};function UB(o,u){return Ee(o,u$,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function $k(o){if(!o.phoneVerificationInfo)throw new x("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new x("missing-verification-code")}function VB(o,u){return Ee(o,l$,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function BB(o,u,f){return Ee(o,KB,{idToken:u,deleteProvider:f})}function By(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new x("internal-error")}function $y(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new ls(o.postBody),Ym(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function qk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=pd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=pd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=pd(o)):o.errorMessage&&(u=Kk(o.errorMessage)),u)throw u;Rn(o)}function qy(o,u){return u.returnIdpCredential=!0,Ee(o,c$,u)}function zy(o,u){return u.returnIdpCredential=!0,Ee(o,h$,u)}function Hy(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ee(o,f$,u)}function Wy(o){if(!o.oobCode)throw new x("invalid-action-code")}e.ob=function(o,u){return Ee(this,o$,{oobCode:o,newPassword:u})},e.Sa=function(o){return Ee(this,qB,{oobCode:o})},e.kb=function(o){return Ee(this,$B,{oobCode:o})};var $B={endpoint:"setAccountInfo",A:Wy,Z:"email",B:!0},qB={endpoint:"resetPassword",A:Wy,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},zB={endpoint:"signupNewUser",A:function(o){if(_s(o),!o.password)throw new x("weak-password")},G:Rn,V:!0,B:!0},HB={endpoint:"createAuthUri",B:!0},WB={endpoint:"deleteAccount",O:["idToken"]},KB={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new x("internal-error")}},GB={endpoint:"emailLinkSignin",O:["email","oobCode"],A:_s,G:Rn,V:!0,B:!0},QB={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:_s,G:Rn,V:!0},YB={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:$k,G:Rn,B:!0,Na:!0},XB={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:$k,G:Rn,B:!0,Na:!0},JB={endpoint:"getAccountInfo"},ZB={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new x("internal-error");_s(o)},Z:"email",B:!0},e$={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},t$={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},n$={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new x("internal-error");_s(o)},Z:"email",B:!0},r$={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},i$={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new x("internal-error")}},o$={endpoint:"resetPassword",A:Wy,Z:"email",B:!0},s$={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zk={endpoint:"setAccountInfo",O:["idToken"],A:Bk,V:!0},Hk={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(Bk(o),!o.password)throw new x("weak-password")},G:Rn,V:!0},a$={endpoint:"signupNewUser",G:Rn,V:!0,B:!0},u$={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new x("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},l$={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},c$={endpoint:"verifyAssertion",A:By,Za:$y,G:qk,V:!0,B:!0},f$={endpoint:"verifyAssertion",A:By,Za:$y,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(o.errorMessage)throw Kk(o.errorMessage);Rn(o)},V:!0,B:!0},h$={endpoint:"verifyAssertion",A:function(o){if(By(o),!o.idToken)throw new x("internal-error")},Za:$y,G:qk,V:!0},d$={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new x("invalid-custom-token")},G:Rn,V:!0,B:!0},Wk={endpoint:"verifyPassword",A:function(o){if(_s(o),!o.password)throw new x("wrong-password")},G:Rn,V:!0,B:!0},p$={endpoint:"verifyPhoneNumber",A:Vy,G:Rn,B:!0},v$={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new x("internal-error");Vy(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",pd(o);Rn(o)}},g$={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Vy,G:Rn,B:!0},m$={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Ar]^!!o.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Ee(o,u,f){if(!HV(f,u.O))return ze(new x("internal-error"));var d=!!u.Na,v=u.Vb||"POST",_;return re(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?Vk(o,o.i,u.endpoint,v,f,u.Ib,u.mb||!1):Vk(o,o.h,u.endpoint,v,f,u.Ib,u.mb||!1)}).then(function(b){return _=b,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new x("internal-error");return _[u.Z]})}function Kk(o){return Ky({error:{errors:[{message:o}],code:400,message:o}})}function Ky(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new x(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},kn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(f.indexOf(v)===0)return new x(d[v],u);return!u&&o&&(u=Hl(o)),new x("internal-error",u)}function y$(o){this.b=o,this.a=null,this.sb=_$(this)}function _$(o){return S$().then(function(){return new we(function(u,f){He("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},I$.get());d.ping(v).then(v,function(){f(Error("Network Error"))})})})})}function w$(o,u){return o.sb.then(function(){return new we(function(f){o.a.send(u.type,u,f,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function E$(o,u){o.sb.then(function(){o.a.register("authEvent",u,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var b$=new Hr(Hh,"https://apis.google.com/js/api.js?onload=%{onload}"),T$=new no(3e4,6e4),I$=new no(5e3,15e3),Nd=null;function S$(){return Nd||(Nd=new we(function(o,u){function f(){B1(),He("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){B1(),u(Error("Network Error"))},timeout:T$.get()})}if(He("gapi.iframes.Iframe"))o();else if(He("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){He("gapi.load")?f():u(Error("Network Error"))},d=Nm(b$,{onload:d}),re(My(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Nd=null,o}))}function Gk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=An(this.g.url),o=rd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=rd("https",this.l,null,"/__/auth/iframe"),this.a=o,nt(this.a,"apiKey",this.h),nt(this.a,"appName",this.i),this.b=null,this.c=[]}Gk.prototype.toString=function(){return this.f?nt(this.a,"v",this.f):Wr(this.a.b,"v"),this.b?nt(this.a,"eid",this.b):Wr(this.a.b,"eid"),this.c.length?nt(this.a,"fw",this.c.join(",")):Wr(this.a.b,"fw"),this.a.toString()};function Gy(o,u,f,d,v,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Gy.prototype.zb=function(o){return this.h=o,this},Gy.prototype.toString=function(){if(this.v){var o=An(this.v.url);o=rd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=rd("https",this.u,null,"/__/auth/handler");if(nt(o,"apiKey",this.s),nt(o,"appName",this.c),nt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=te.app(this.c).auth().la()}catch{f=null}u.pb=f,nt(o,"providerId",this.a.providerId),f=this.a,u=U1(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=Ji(u);for(var v=0;v<d.length;v++){var _=d[v];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),is(u)||nt(o,"customParameters",Hl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&nt(o,"scopes",f.join(","))),this.l?nt(o,"redirectUrl",this.l):Wr(o.b,"redirectUrl"),this.g?nt(o,"eventId",this.g):Wr(o.b,"eventId"),this.i?nt(o,"v",this.i):Wr(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!rr(o,b)&&nt(o,b,this.b[b]);return this.h?nt(o,"tid",this.h):Wr(o.b,"tid"),this.f?nt(o,"eid",this.f):Wr(o.b,"eid"),b=Qy(this.c),b.length&&nt(o,"fw",b.join(",")),o.toString()};function Qy(o){try{return te.app(o).auth().Ga()}catch{return[]}}function Qk(o,u,f,d,v,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Yk(o){var u=ql();return MB(o).then(function(f){e:{var d=An(u),v=d.c;d=d.a;for(var _=0;_<f.length;_++){var b=f[_],C=d,L=v;if(b.indexOf("chrome-extension://")==0?C=An(b).a==C&&L=="chrome-extension":L!="http"&&L!="https"?C=!1:FV.test(b)?C=C==b:(b=b.split(".").join("\\."),C=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(C)),C){f=!0;break e}}f=!1}if(!f)throw new ky(ql())})}function Xk(o){return o.m||(o.m=id().then(function(){if(!o.u){var u=o.c,f=o.i,d=Qy(o.b),v=new Gk(o.s,o.g,o.b,o.f);v.f=u,v.b=f,v.c=rs(d||[]),o.u=v.toString()}o.v=new y$(o.u),k$(o)})),o.m}e=Qk.prototype,e.Pb=function(o,u,f){var d=new x("popup-closed-by-user"),v=new x("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){C$(_).then(function(C){C||(o&&cs(o),u(v),b=!0)})}).o(function(){}).then(function(){if(!b)return MV(o)}).then(function(){if(!b)return La(f).then(function(){u(d)})})},e.Yb=function(){var o=Ft();return!zl(o)&&!V1(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,v,_,b,C){if(!o)return ze(new x("popup-blocked"));if(b&&!zl())return this.ma().o(function(F){cs(o),v(F)}),d(),re();this.a||(this.a=Yk(Jk(this)));var L=this;return this.a.then(function(){var F=L.ma().o(function(ue){throw cs(o),v(ue),ue});return d(),F}).then(function(){if(Iy(f),!b){var F=ac(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,C,L.f);P1(F,o)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(L.a=null),F})};function Jk(o){return o.l||(o.C=o.c?Ua(o.c,Qy(o.b)):null,o.l=new Nr(o.g,Bn(o.i),o.C),o.f&&Cd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=Yk(Jk(this)));var v=this;return this.a.then(function(){Iy(u);var _=ac(v.s,v.g,v.b,o,u,ql(),f,v.c,void 0,v.i,d,v.f);P1(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var o=this;return Xk(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function ac(o,u,f,d,v,_,b,C,L,F,ue,Pe){return o=new Gy(o,u,f,d,v,Pe),o.l=_,o.g=b,o.i=C,o.b=Ji(L||null),o.f=F,o.zb(ue).toString()}function k$(o){if(!o.v)throw Error("IfcHandler must be initialized!");E$(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=Ek(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",re(f)}return f.status="ERROR",re(f)})}function C$(o){var u={type:"webStorageSupport"};return Xk(o).then(function(){return w$(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Ir(this.h,function(u){return u==o})};function Zk(o){if(this.a=o||te.INTERNAL.reactNative&&te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Zk.prototype,e.get=function(o){return re(this.a.getItem(o)).then(function(u){return u&&Ba(u)})},e.set=function(o,u){return re(this.a.setItem(o,Hl(u)))},e.U=function(o){return re(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function eC(o){this.b=o,this.a={},this.f=O(this.c,this)}var tC=[];function N$(){var o=kr()?self:null;if(xe(tC,function(f){f.b==o&&(u=f)}),!u){var u=new eC(o);tC.push(u)}return u}eC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var v=[];xe(d,function(_){v.push(re().then(function(){return _(o.origin,o.data.data)}))}),o1(v).then(function(_){var b=[];xe(_,function(C){b.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),xe(b,function(C){for(var L in C)typeof C[L]>"u"&&delete C[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function nC(o,u,f){is(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function rC(o){this.a=o}rC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function iC(o){this.c=o,this.b=!1,this.a=[]}function oC(o,u,f,d){var v,_=f||{},b,C,L,F=null;if(o.b)return ze(Error("connection_unavailable"));var ue=d?800:50,Pe=typeof MessageChannel<"u"?new MessageChannel:null;return new we(function(ke,St){Pe?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),Pe.port1.start(),C=setTimeout(function(){St(Error("unsupported_event"))},ue),b=function(Ii){Ii.data.eventId===v&&(Ii.data.status==="ack"?(clearTimeout(C),L=setTimeout(function(){St(Error("timeout"))},3e3)):Ii.data.status==="done"?(clearTimeout(L),typeof Ii.data.response<"u"?ke(Ii.data.response):St(Error("unknown_error"))):(clearTimeout(C),clearTimeout(L),St(Error("invalid_response"))))},F={messageChannel:Pe,onMessage:b},o.a.push(F),Pe.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:v,data:_},[Pe.port2])):St(Error("connection_unavailable"))}).then(function(ke){return Yy(o,F),ke}).o(function(ke){throw Yy(o,F),ke})}function Yy(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Ir(o.a,function(v){return v==u})}}iC.prototype.close=function(){for(;0<this.a.length;)Yy(this,this.a[0]);this.b=!0};function sC(){if(!Zy())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;kr()&&self?(this.v=N$(),nC(this.v,"keyChanged",function(u,f){return lC(o).then(function(d){return 0<d.length&&xe(o.a,function(v){v(d)}),{keyProcessed:_i(d,f.key)}})}),nC(this.v,"ping",function(){return re(["keyChanged"])})):qV().then(function(u){(o.h=u)&&(o.g=new iC(new rC(u)),oC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&_i(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Xy;function A$(o){return new we(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){f(Error(v.target.error))}})}function aC(o){return new we(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}f(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):A$(o).then(function(){return aC(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Jy(o){return o.i||(o.i=aC(o)),o.i}function Ad(o,u){function f(v,_){Jy(o).then(u).then(v).o(function(b){if(3<++d)_(b);else return Jy(o).then(function(C){return C.close(),o.i=void 0,f(v,_)}).o(function(C){_(C)})})}var d=0;return new we(f)}function Zy(){try{return!!c.indexedDB}catch{return!1}}function uc(o){return o.objectStore("firebaseLocalStorage")}function lc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ha(o){return new we(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=sC.prototype,e.set=function(o,u){var f=this,d=!1;return Ad(this,function(v){return v=uc(lc(v,!0)),Ha(v.get(o))}).then(function(v){return Ad(f,function(_){if(_=uc(lc(_,!0)),v)return v.value=u,Ha(_.put(v));f.b++,d=!0;var b={};return b.fbase_key=o,b.value=u,Ha(_.add(b))})}).then(function(){return f.c[o]=u,uC(f,o)}).oa(function(){d&&f.b--})};function uC(o,u){return o.g&&o.h&&$V()===o.h?oC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):re()}e.get=function(o){return Ad(this,function(u){return Ha(uc(lc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Ad(this,function(d){return f=!0,u.b++,Ha(uc(lc(d,!0)).delete(o))}).then(function(){return delete u.c[o],uC(u,o)}).oa(function(){f&&u.b--})};function lC(o){return Jy(o).then(function(u){var f=uc(lc(u,!1));return f.getAll?Ha(f.getAll()):new we(function(d,v){var _=[],b=f.openCursor();b.onsuccess=function(C){(C=C.target.result)?(_.push(C.value),C.continue()):d(_)},b.onerror=function(C){v(C.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=O1(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&R$(this),this.a.push(o)},e.ia=function(o){Ir(this.a,function(u){return u==o}),this.a.length==0&&cC(this)};function R$(o){function u(){o.f=setTimeout(function(){o.l=lC(o).then(function(f){0<f.length&&xe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}cC(o),u()}function cC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function fC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=re().then(function(){if(Zy()){var d=hs(),v="__sak"+d;return Xy||(Xy=new sC),f=Xy,f.set(v,d).then(function(){return f.get(v)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(v)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){xe(u.a,function(_){_(v)})}),d})}e=fC.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Ir(this.a,function(u){return u==o})};function cc(){this.a={},this.type="inMemory"}e=cc.prototype,e.get=function(o){return re(this.a[o])},e.set=function(o,u){return this.a[o]=u,re()},e.U=function(o){return delete this.a[o],re()},e.ca=function(){},e.ia=function(){};function Rd(){if(!x$())throw Kr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=hC()||te.INTERNAL.node.localStorage,this.type="localStorage"}function hC(){try{var o=c.localStorage,u=hs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function x$(){var o=Kr()=="Node";if(o=hC()||o&&te.INTERNAL.node&&te.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Rd.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return Ba(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Hl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&nr(c.window,"storage",o)},e.ia=function(o){c.window&&$n(c.window,"storage",o)};function e0(){this.type="nullStorage"}e=e0.prototype,e.get=function(){return re(null)},e.set=function(){return re()},e.U=function(){return re()},e.ca=function(){},e.ia=function(){};function t0(){if(!P$())throw Kr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=dC()||te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function dC(){try{var o=c.sessionStorage,u=hs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function P$(){var o=Kr()=="Node";if(o=dC()||o&&te.INTERNAL.node&&te.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=t0.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return Ba(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=Hl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function O$(){var o={};o.Browser=D$,o.Node=L$,o.ReactNative=M$,o.Worker=F$,this.a=o[Kr()]}var n0,D$={F:Rd,cb:t0},L$={F:Rd,cb:t0},M$={F:Zk,cb:e0},F$={F:Rd,cb:e0},Wa={rd:"local",NONE:"none",td:"session"};function j$(o){var u=new x("invalid-persistence-type"),f=new x("unsupported-persistence-type");e:{for(d in Wa)if(Wa[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(Kr()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Zy()&&o!=="none")throw f;break;default:if(!ny()&&o!=="none")throw f}}function pC(){var o=!!(!V1(Ft())&&ey()),u=zl(),f=ny();this.m=o,this.h=u,this.l=f,this.a={},n0||(n0=new O$),o=n0;try{this.g=!Jm()&&$1()||!c.indexedDB?new o.a.F:new fC(kr()?new cc:new o.a.F)}catch{this.g=new cc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new cc}this.v=new cc,this.f=O(this.Zb,this),this.b={}}var r0;function fc(){return r0||(r0=new pC),r0}function ws(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Ka(o,u){return"firebase:"+o.name+(u?":"+u:"")}function U$(o,u,f){var d=Ka(u,f),v=ws(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=Ba(c.localStorage.getItem(d))}catch{}if(b&&!_)return c.localStorage.removeItem(d),o.set(u,b,f);b&&_&&v.type!="localStorage"&&c.localStorage.removeItem(d)})}e=pC.prototype,e.get=function(o,u){return ws(this,o.F).get(Ka(o,u))};function Ga(o,u,f){return f=Ka(u,f),u.F=="local"&&(o.b[f]=null),ws(o,u.F).U(f)}e.set=function(o,u,f){var d=Ka(o,f),v=this,_=ws(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(b){o.F=="local"&&(v.b[d]=b)})},e.addListener=function(o,u,f){o=Ka(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),is(this.a)&&(ws(this,"local").ca(this.f),this.h||(Jm()||!$1())&&c.indexedDB||!this.l||V$(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Ka(o,u),this.a[o]&&(Ir(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),is(this.a)&&(ws(this,"local").ia(this.f),i0(this))};function V$(o){i0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new as({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function i0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var v=c.localStorage.getItem(f);v!==d&&(this.b[f]=v,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?ws(this,"local").ia(this.f):i0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},Sr&&Zi&&Zi==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else xe(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&xe(this.a[o],function(u){u()})};function B$(o){this.a=o,this.b=fc()}var o0={name:"authEvent",F:"local"};function $$(o){return o.b.get(o0,o.a).then(function(u){return Ek(u)})}function q$(){this.a=fc()}function z$(){this.b=-1}function xd(o,u){this.b=vC,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Pd===void 0&&(c.Int32Array?Pd=new Int32Array(yC):Pd=yC),this.reset()}var Pd;U(xd,z$);for(var vC=64,H$=vC-1,gC=[],s0=0;s0<H$;s0++)gC[s0]=0;var mC=Sm(128,gC);xd.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):rs(this.h)};function a0(o){for(var u=o.f,f=o.l,d=0,v=0;v<u.length;)f[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+b|0}d=o.a[0]|0,v=o.a[1]|0;var C=o.a[2]|0,L=o.a[3]|0,F=o.a[4]|0,ue=o.a[5]|0,Pe=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var ke=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&C^v&C)|0;b=F&ue^~F&Pe,_=_+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,b=b+(Pd[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=Pe,Pe=ue,ue=F,F=L+b|0,L=C,C=v,v=d,d=b+ke|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+v|0,o.a[2]=o.a[2]+C|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+F|0,o.a[5]=o.a[5]+ue|0,o.a[6]=o.a[6]+Pe|0,o.a[7]=o.a[7]+_|0}function u0(o,u,f){f===void 0&&(f=u.length);var d=0,v=o.c;if(typeof u=="string")for(;d<f;)o.f[v++]=u.charCodeAt(d++),v==o.b&&(a0(o),v=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[v++]=_,v==o.b&&(a0(o),v=0)}else throw Error("message must be string or array");o.c=v,o.g+=f}var yC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _C(){xd.call(this,8,W$)}U(_C,xd);var W$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wC(o,u,f,d,v,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=v||null,this.s=_,this.h=u+":"+f,this.C=new q$,this.g=new B$(this.h),this.f=null,this.b=[],this.a=this.c=null}function Od(o){return new x("invalid-cordova-configuration",o)}e=wC.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=UV().then(function(){if(typeof He("universalLinks.subscribe",c)!="function")throw Od("cordova-universal-links-plugin-fix is not installed");if(typeof He("BuildInfo.packageName",c)>"u")throw Od("cordova-plugin-buildinfo is not installed");if(typeof He("cordova.plugins.browsertab.openUrl",c)!="function")throw Od("cordova-plugin-browsertab is not installed");if(typeof He("cordova.InAppBrowser.open",c)!="function")throw Od("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function K$(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function G$(o){var u=new _C;u0(u,o),o=[];var f=8*u.g;56>u.c?u0(u,mC,56-u.c):u0(u,mC,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(a0(u),d=f=0;d<u.i;d++)for(var v=24;0<=v;v-=8)o[f++]=u.a[d]>>v&255;return oB(o)}e.Pb=function(o,u){return u(new x("operation-not-supported-in-this-environment")),re()},e.Nb=function(){return ze(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return ze(new x("redirect-operation-pending"));var v=this,_=c.document,b=null,C=null,L=null,F=null;return this.c=re().then(function(){return Iy(u),bC(v)}).then(function(){return Q$(v,o,u,f,d)}).then(function(){return new we(function(ue,Pe){C=function(){var ke=He("cordova.plugins.browsertab.close",c);return ue(),typeof ke=="function"&&ke(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(C),L=function(){b||(b=La(2e3).then(function(){Pe(new x("redirect-cancelled-by-user"))}))},F=function(){ry()&&L()},_.addEventListener("resume",L,!1),Ft().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",F,!1)}).o(function(ue){return l0(v).then(function(){throw ue})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),F&&_.removeEventListener("visibilitychange",F,!1),b&&b.cancel(),C&&v.Ta(C),v.c=null})};function Q$(o,u,f,d,v){var _=K$(),b=new Cr(u,d,null,_,new x("no-auth-event"),null,v),C=He("BuildInfo.packageName",c);if(typeof C!="string")throw new x("invalid-cordova-configuration");var L=He("BuildInfo.displayName",c),F={};if(Ft().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=C;else if(Ft().toLowerCase().match(/android/))F.apn=C;else return ze(new x("operation-not-supported-in-this-environment"));L&&(F.appDisplayName=L),_=G$(_),F.sessionId=_;var ue=ac(o.v,o.i,o.l,u,f,null,d,o.m,F,o.u,v,o.s);return o.ma().then(function(){var Pe=o.h;return o.C.a.set(o0,b.w(),Pe)}).then(function(){var Pe=He("cordova.plugins.browsertab.isAvailable",c);if(typeof Pe!="function")throw new x("invalid-cordova-configuration");var ke=null;Pe(function(St){if(St){if(ke=He("cordova.plugins.browsertab.openUrl",c),typeof ke!="function")throw new x("invalid-cordova-configuration");ke(ue)}else{if(ke=He("cordova.InAppBrowser.open",c),typeof ke!="function")throw new x("invalid-cordova-configuration");St=Ft(),o.a=ke(ue,St.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||St.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function EC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function bC(o){return o.f||(o.f=o.ma().then(function(){return new we(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),Y$(o)})})),o.f}function l0(o){var u=null;return $$(o.g).then(function(f){return u=f,f=o.g,Ga(f.b,o0,f.a)}).then(function(){return u})}function Y$(o){function u(b){d=!0,v&&v.cancel(),l0(o).then(function(C){var L=f;if(C&&b&&b.url){var F=null;L=dk(b.url),L.indexOf("/__/auth/callback")!=-1&&(F=An(L),F=Ba(rr(F,"firebaseError")||null),F=(F=typeof F=="object"?yi(F):null)?new Cr(C.c,C.b,null,null,F,null,C.T()):new Cr(C.c,C.b,L,C.f,null,null,C.T())),L=F||f}EC(o,L)})}var f=new Cr("unknown",null,null,null,new x("no-auth-event")),d=!1,v=La(500).then(function(){return l0(o).then(function(){d||EC(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(b){if(b.toLowerCase().indexOf(He("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(C){console.error(C)}},Sy||(Sy=new dB),pB(u)}e.Ea=function(o){this.b.push(o),bC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Cr("unknown",null,null,null,new x("no-auth-event")),o(u))})},e.Ta=function(o){Ir(this.b,function(u){return u==o})};function X$(o){this.a=o,this.b=fc()}var c0={name:"pendingRedirect",F:"session"};function J$(o){return o.b.set(c0,"pending",o.a)}function f0(o){return Ga(o.b,c0,o.a)}function Z$(o){return o.b.get(c0,o.a).then(function(u){return u=="pending"})}function Dd(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new Md,this.C=new PC,this.g=new X$(AC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=TC(this.D,this.v,this.m,br,this.J)}function TC(o,u,f,d,v){var _=te.SDK_VERSION||null;return Zm()?new wC(o,u,f,_,d,v):new Qk(o,u,f,_,d,v)}Dd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=TC(this.D,this.v,this.m,null,this.J),this.i={}};function IC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function SC(o){o.a.Yb()&&IC(o).o(function(u){var f=new Cr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));d0(u)&&o.s(f)}),o.a.Ub()||RC(o.b)}function Ld(o,u){_i(o.h,u)||o.h.push(u),o.f||Z$(o.g).then(function(f){f?f0(o.g).then(function(){IC(o).o(function(d){var v=new Cr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));d0(d)&&o.s(v)})}):SC(o)}).o(function(){SC(o)})}function h0(o,u){Ir(o.h,function(f){return f==u})}Dd.prototype.s=function(o){if(!o)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return RC(this.b),u};var e6=new no(2e3,1e4),t6=new no(3e4,6e4);Dd.prototype.ra=function(){return this.b.ra()};function kC(o,u,f,d,v,_,b){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},v,_,b)}function d0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function CC(o,u,f,d,v){var _;return J$(o.g).then(function(){return o.a.Ob(u,f,d,v).o(function(b){if(d0(b))throw new x("operation-not-supported-in-this-environment");return _=b,f0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new we(function(){}):f0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function NC(o,u,f,d,v){return o.a.Pb(d,function(_){u.na(f,null,_,v)},e6.get())}var p0={};function AC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function v0(o,u,f,d){var v=AC(u,f,d);return p0[v]||(p0[v]=new Dd(o,u,f,d)),p0[v]}function Md(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Md.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Md.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,v=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),f!="unknown"||v||_?o.a?(Es(this,!0,null,o.a),re()):u.Fa(f,d)?n6(this,o,u):ze(new x("invalid-auth-event")):(Es(this,!1,null,null),re())}else ze(new x("invalid-auth-event"))};function RC(o){o.g||(o.g=!0,Es(o,!1,null,null))}function Fd(o){o.g&&!o.i&&Es(o,!1,null,null)}function n6(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,v=u.f,_=u.i,b=u.T(),C=!!u.c.match(/Redirect$/);f(d,v,b,_).then(function(L){Es(o,C,L,null)}).o(function(L){Es(o,C,null,L)})}function r6(o,u){if(o.b=function(){return ze(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function xC(o,u){if(o.b=function(){return re(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Es(o,u,f,d){u?d?r6(o,d):xC(o,f):xC(o,{user:null}),o.f=[],o.c=[]}Md.prototype.ra=function(){var o=this;return new we(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),i6(o))})};function i6(o){var u=new x("timeout");o.a&&o.a.cancel(),o.a=La(t6.get()).then(function(){o.b||(o.g=!0,Es(o,!0,null,u))})}function PC(){}PC.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),re()):u.Fa(f,d)?o6(o,u):ze(new x("invalid-auth-event"))}else ze(new x("invalid-auth-event"))};function o6(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(v){u.na(d,v,null,f)}).o(function(v){u.na(d,null,v,f)})}function OC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function g0(o,u){this.a=u,Z(this,"verificationId",o)}g0.prototype.confirm=function(o){return o=wk(this.verificationId,o),this.a(o)};function m0(o,u,f,d){return new bi(o).gb(u,f).then(function(v){return new g0(v,d)})}function s6(o){var u=ok(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");dn(this,{token:o,expirationTime:Wl(1e3*u.exp),authTime:Wl(1e3*u.auth_time),issuedAtTime:Wl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function y0(o,u,f){var d=u&&u[LC];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Ji(u),this.g=f,this.c=new hd(null,d),this.b=[];var v=this;xe(u[DC]||[],function(_){(_=ly(_))&&v.b.push(_)}),Z(this,"auth",this.a),Z(this,"session",this.c),Z(this,"hints",this.b)}var DC="mfaInfo",LC="mfaPendingCredential";y0.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=Ji(u.f);return delete d[DC],delete d[LC],kn(d,f),u.g(d)})};function _0(o,u,f,d){x.call(this,"multi-factor-auth-required",d,u),this.b=new y0(o,u,f),Z(this,"resolver",this.b)}U(_0,x);function MC(o,u,f){if(o&&E(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new _0(u,o.serverResponse,f,o.message)}catch{}return null}function FC(){}FC.prototype.tb=function(o,u,f){return u.type==Yl?a6(this,o,u,f):u6(this,o,u)};function a6(o,u,f,d){return f.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),kn(v,{phoneVerificationInfo:Xl(o.a)}),Ee(u,YB,v)})}function u6(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},kn(d,{phoneVerificationInfo:Xl(o.a)}),Ee(u,XB,d)})}function w0(o){Z(this,"factorId",o.fa),this.a=o}U(w0,FC);function jC(o){if(w0.call(this,o),this.a.fa!=bi.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}U(jC,w0);function Qa(o,u){Nn.call(this,o);for(var f in u)this[f]=u[f]}U(Qa,Nn);function E0(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),nr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&xe(u.multiFactor.enrolledFactors,function(d){var v=null,_={};if(d){d.uid&&(_[fy]=d.uid),d.displayName&&(_[z1]=d.displayName),d.enrollmentTime&&(_[cy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[hy]=d.phoneNumber);try{v=new Kl(_)}catch{}d=v}else d=null;d&&f.push(d)}),jd(this,f)}function l6(o){var u=[];return xe(o.mfaInfo||[],function(f){(f=ly(f))&&u.push(f)}),u}e=E0.prototype,e.yc=function(o){jd(this,l6(o.hd))};function jd(o,u){o.b=u,Z(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new hd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(v){return o.tb(d,v,u)}).then(function(v){return Yr(f.a,v),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(v){return Ee(d,m$,{idToken:v,mfaEnrollmentId:f})}).then(function(v){var _=V4(u.b,function(b){return b.uid!=f});return jd(u,_),Yr(u.a,v),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:qh(this.b,function(o){return o.w()})}}};function b0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}b0.prototype.start=function(){this.a=this.c,T0(this,!0)};function c6(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function T0(o,u){o.stop(),o.b=La(c6(o,u)).then(function(){return BV()}).then(function(){return o.h()}).then(function(){T0(o,!0)}).o(function(f){o.i(f)&&T0(o,!1)})}b0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function I0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}I0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function UC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function VC(o,u){o.b=cd(u[Ar]||""),o.a=u.refreshToken,u=u.expiresIn,UC(o,typeof u<"u"?Number(u):void 0)}function f6(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function h6(o,u){return DB(o.f,u).then(function(f){return o.b=cd(f.access_token),o.a=f.refresh_token,UC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}I0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?ze(new x("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?h6(this,{grant_type:"refresh_token",refresh_token:this.a}):re(null):re({accessToken:this.b.toString(),refreshToken:this.a})};function Ud(o,u){this.a=o||null,this.b=u||null,dn(this,{lastSignInTime:Wl(u||null),creationTime:Wl(o||null)})}function d6(o){return new Ud(o.a,o.b)}Ud.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function p6(o,u,f,d,v,_){dn(this,{uid:o,displayName:d||null,photoURL:v||null,email:f||null,phoneNumber:_||null,providerId:u})}function zn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=te.SDK_VERSION?Ua(te.SDK_VERSION):null;this.a=new Nr(this.l,Bn(br),d),(this.u=o.emulatorConfig||null)&&Cd(this.a,this.u),this.h=new I0(this.a),x0(this,u[Ar]),VC(this.h,u),Z(this,"refreshToken",this.h.a),$C(this,f||{}),hn.call(this),this.P=!1,this.s&&fs()&&(this.b=v0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=v6(this),this.ba=O(this.ib,this);var v=this;this.za=null,this.Pa=function(_){v.xa(_.h)},this.qa=null,this.Ba=function(_){S0(v,_.c)},this.$=null,this.aa=[],this.Oa=function(_){hc(v,_.f)},this.ja=null,this.S=new E0(this,f),Z(this,"multiFactor",this.S)}U(zn,hn),zn.prototype.xa=function(o){this.za=o,Mk(this.a,o)};function S0(o,u){o.u=u,Cd(o.a,u),o.b&&(u=o.b,o.b=v0(o.s,o.l,o.m,o.u),o.P&&(h0(u,o),Ld(o.b,o)))}zn.prototype.la=function(){return this.za};function k0(o,u){o.qa&&$n(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&nr(u,"languageCodeChanged",o.Pa)}function C0(o,u){o.$&&$n(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&nr(u,"emulatorConfigChanged",o.Ba)}function hc(o,u){o.aa=u,Fk(o.a,te.SDK_VERSION?Ua(te.SDK_VERSION,o.aa):null)}zn.prototype.Ga=function(){return rs(this.aa)};function N0(o,u){o.ja&&$n(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&nr(u,"frameworkChanged",o.Oa)}zn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function A0(o){try{return te.app(o.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function v6(o){return new b0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function BC(o){o.J||o.D.b||(o.D.start(),$n(o,"tokenChanged",o.ba),nr(o,"tokenChanged",o.ba))}function R0(o){$n(o,"tokenChanged",o.ba),o.D.stop()}function x0(o,u){o.Aa=u,Z(o,"_lat",u)}function g6(o,u){Ir(o.W,function(f){return f==u})}function bs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return o1(u).then(function(){return o})}function dc(o){o.b&&!o.P&&(o.P=!0,Ld(o.b,o))}function $C(o,u){dn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Ud(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Z(zn.prototype,"providerId","firebase");function qC(){}function P0(o){return re().then(function(){if(o.J)throw new x("app-deleted")})}function O0(o){return qh(o.providerData,function(u){return u.providerId})}function D0(o,u){u&&(zC(o,u.providerId),o.providerData.push(u))}function zC(o,u){Ir(o.providerData,function(f){return f.providerId==u})}function oo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&Z(o,u,f)}function Vd(o,u){o!=u&&(dn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Z(o,"metadata",d6(u.metadata)):Z(o,"metadata",new Ud),xe(u.providerData,function(f){D0(o,f)}),f6(o.h,u.h),Z(o,"refreshToken",o.h.a),jd(o.S,u.S.b))}e=zn.prototype,e.reload=function(){var o=this;return gt(this,P0(this).then(function(){return L0(o).then(function(){return bs(o)}).then(qC)}))};function L0(o){return o.I().then(function(u){var f=o.isAnonymous;return m6(o,u).then(function(){return f||oo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new s6(u)})},e.I=function(o){var u=this;return gt(this,P0(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new x("internal-error");return f.accessToken!=u.Aa&&(x0(u,f.accessToken),u.dispatchEvent(new Qa("tokenChanged"))),oo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Yr(o,u){u[Ar]&&o.Aa!=u[Ar]&&(VC(o.h,u),o.dispatchEvent(new Qa("tokenChanged")),x0(o,u[Ar]),oo(o,"refreshToken",o.h.a))}function m6(o,u){return Ee(o.a,JB,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new x("internal-error");o=o[0],$C(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=y6(o),f=0;f<u.length;f++)D0(this,u[f]);oo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Qa("userReloaded",{hd:o}))};function y6(o){return(o=o.providerUserInfo)&&o.length?qh(o,function(u){return new p6(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return iy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return gt(this,o.c(this.a,this.uid).then(function(d){return Yr(u,d),f=pc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Bd(o,u){return L0(o).then(function(){if(_i(O0(o),u))return bs(o).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(o){return iy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return gt(this,Bd(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=pc(u,d,"link"),HC(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return gt(this,Bd(this,"phone").then(function(){return m0(A0(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return gt(this,re().then(function(){return m0(A0(f),o,u,O(f.ub,f))}),!0)};function pc(o,u,f){var d=Ty(u);return u=ak(u),Gr({user:o,credential:d,additionalUserInfo:u,operationType:f})}function HC(o,u){return Yr(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return gt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Yr(u,f),u.reload()}))},e.ed=function(o){var u=this;return gt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Yr(u,f),u.reload()}))},e.Db=function(o){var u=this;return gt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Yr(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return P0(this);var u=this;return gt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Yr(u,f),oo(u,"displayName",f.displayName||null),oo(u,"photoURL",f.photoUrl||null),xe(u.providerData,function(d){d.providerId==="password"&&(Z(d,"displayName",u.displayName),Z(d,"photoURL",u.photoURL))}),bs(u)}).then(qC))},e.cd=function(o){var u=this;return gt(this,L0(this).then(function(f){return _i(O0(u),o)?BB(u.a,f,[o]).then(function(d){var v={};return xe(d.providerUserInfo||[],function(_){v[_.providerId]=!0}),xe(O0(u),function(_){v[_]||zC(u,_)}),v[bi.PROVIDER_ID]||Z(u,"phoneNumber",null),bs(u)}):bs(u).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var o=this;return gt(this,this.I().then(function(u){return Ee(o.a,WB,{idToken:u})}).then(function(){o.dispatchEvent(new Qa("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");k0(o,null),C0(o,null),N0(o,null),o.N=[],o.J=!0,R0(o),Z(o,"refreshToken",null),o.b&&h0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return WC(this,"linkViaPopup",o,function(){return Bd(u,o.providerId).then(function(){return bs(u)})},!1)},e.Nc=function(o){return WC(this,"reauthViaPopup",o,function(){return re()},!0)};function WC(o,u,f,d,v){if(!fs())return ze(new x("operation-not-supported-in-this-environment"));if(o.i&&!v)return ze(o.i);var _=my(f.providerId),b=hs(o.uid+":::"),C=null;(!zl()||ey())&&o.s&&f.isOAuthProvider&&(C=ac(o.s,o.l,o.m,u,f,null,b,te.SDK_VERSION||null,null,null,o.tenantId,o.u));var L=L1(C,_&&_.va,_&&_.ua);return d=d().then(function(){if(GC(o),!v)return o.I().then(function(){})}).then(function(){return kC(o.b,L,u,f,b,!!C,o.tenantId)}).then(function(){return new we(function(F,ue){o.na(u,null,new x("cancelled-popup-request"),o.g||null),o.f=F,o.C=ue,o.g=b,o.c=NC(o.b,o,u,L,b)})}).then(function(F){return L&&cs(L),F?Gr(F):null}).o(function(F){throw L&&cs(L),F}),gt(o,d,v)}e.Fc=function(o){var u=this;return KC(this,"linkViaRedirect",o,function(){return Bd(u,o.providerId)},!1)},e.Oc=function(o){return KC(this,"reauthViaRedirect",o,function(){return re()},!0)};function KC(o,u,f,d,v){if(!fs())return ze(new x("operation-not-supported-in-this-environment"));if(o.i&&!v)return ze(o.i);var _=null,b=hs(o.uid+":::");return d=d().then(function(){if(GC(o),!v)return o.I().then(function(){})}).then(function(){return o.ga=b,bs(o)}).then(function(C){return o.ha&&(C=o.ha,C=C.b.set(M0,o.w(),C.a)),C}).then(function(){return CC(o.b,u,f,b,o.tenantId)}).o(function(C){if(_=C,o.ha)return YC(o.ha);throw _}).then(function(){if(_)throw _}),gt(o,d,v)}function GC(o){if(!o.b||!o.P)throw o.b&&!o.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return zy(v.a,{requestUri:o,postBody:d,sessionId:u,idToken:b})}).then(function(b){return _=pc(v,b,"link"),HC(v,b)}).then(function(){return _}),gt(this,f)},e.Mb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=re().then(function(){return qa(Hy(v.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),v.uid)}).then(function(C){return _=pc(v,C,"reauthenticate"),Yr(v,C),v.i=null,v.reload()}).then(function(){return _});return gt(this,b,!0)},e.vb=function(o){var u=this,f=null;return gt(this,this.I().then(function(d){return f=d,typeof o>"u"||is(o)?{}:ud(new ad(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return gt(this,this.I().then(function(v){return d=v,typeof u>"u"||is(u)?{}:ud(new ad(u))}).then(function(v){return f.a.Fb(d,o,v)}).then(function(v){if(f.email!=v)return f.reload()}).then(function(){}))};function gt(o,u,f){var d=_6(o,u,f);return o.N.push(d),d.oa(function(){zh(o.N,d)}),d.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=MC(v.w(),A0(o),O(o.jc,o))),_||v})}e.jc=function(o){var u=null,f=this;return o=qa(re(o),f.uid).then(function(d){return u=pc(f,d,"reauthenticate"),Yr(f,d),f.i=null,f.reload()}).then(function(){return u}),gt(this,o,!0)};function _6(o,u,f){return o.i&&!f?(u.cancel(),ze(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Qa("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&kn(o,this.metadata.w()),xe(this.providerData,function(u){o.providerData.push(zV(u))}),kn(o,this.S.w()),o};function QC(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Ar]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var v=new zn(u,f,o);return o.providerData&&xe(o.providerData,function(_){_&&D0(v,Gr(_))}),o.redirectEventId&&(v.ga=o.redirectEventId),v}function w6(o,u,f,d){var v=new zn(o,u);return f&&(v.ha=f),d&&hc(v,d),v.reload().then(function(){return v})}function E6(o,u,f,d){var v=o.h,_={};return _[Ar]=v.b&&v.b.toString(),_.refreshToken=v.a,u=new zn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&hc(u,d),Vd(u,o),u}function b6(o){this.a=o,this.b=fc()}var M0={name:"redirectUser",F:"session"};function YC(o){return Ga(o.b,M0,o.a)}function T6(o,u){return o.b.get(M0,o.a).then(function(f){return f&&u&&(f.authDomain=u),QC(f||{})})}function F0(o){this.a=o,this.b=fc(),this.c=null,this.f=I6(this),this.b.addListener(Xr("local"),this.a,O(this.g,this))}F0.prototype.g=function(){var o=this,u=Xr("local");Ya(this,function(){return re().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return j0(o,"local").then(function(){o.c=u})})})};function j0(o,u){var f=[],d;for(d in Wa)Wa[d]!==u&&f.push(Ga(o.b,Xr(Wa[d]),o.a));return f.push(Ga(o.b,U0,o.a)),dV(f)}function I6(o){var u=Xr("local"),f=Xr("session"),d=Xr("none");return U$(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(v){return v?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(U0,o.a).then(function(C){return C?Xr(C):u})})})}).then(function(v){return o.c=v,j0(o,v.F)}).o(function(){o.c||(o.c=u)})}var U0={name:"persistence",F:"session"};function Xr(o){return{name:"authUser",F:o}}F0.prototype.yb=function(o){var u=null,f=this;return j$(o),Ya(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,j0(f,o)}).then(function(){if(f.c=Xr(o),u)return f.b.set(f.c,u,f.a)}):re()})};function S6(o){return Ya(o,function(){return o.b.set(U0,o.c.F,o.a)})}function XC(o,u){return Ya(o,function(){return o.b.set(o.c,u.w(),o.a)})}function JC(o){return Ya(o,function(){return Ga(o.b,o.c,o.a)})}function ZC(o,u,f){return Ya(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),QC(d||{})})})}function Ya(o,u){return o.f=o.f.then(u,u),o.f}function Rr(o){if(this.l=!1,Z(this,"settings",new OC),Z(this,"app",o),Le(this).options&&Le(this).options.apiKey)o=te.SDK_VERSION?Ua(te.SDK_VERSION):null,this.a=new Nr(Le(this).options&&Le(this).options.apiKey,Bn(br),o);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=te.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=te.INTERNAL.createSubscribe(O(this.Ac,this)),Xa(this,null),this.i=new F0(Le(this).options.apiKey+":"+Le(this).name),this.D=new b6(Le(this).options.apiKey+":"+Le(this).name),this.$=Je(this,x6(this)),this.h=Je(this,P6(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,N6(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,hn.call(this),C6(this),this.J=[],this.R=null}U(Rr,hn);function eN(o){Nn.call(this,"languageCodeChanged"),this.h=o}U(eN,Nn);function tN(o){Nn.call(this,"emulatorConfigChanged"),this.c=o}U(tN,Nn);function nN(o){Nn.call(this,"frameworkChanged"),this.f=o}U(nN,Nn),e=Rr.prototype,e.yb=function(o){return o=this.i.yb(o),Je(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,Mk(this.a,this.aa),this.dispatchEvent(new eN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,k6(u),this.R={url:o,ec:u},this.settings.jb=!0,Cd(this.a,this.R),this.dispatchEvent(new tN(this.R))}};function k6(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&id().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),Fk(this.a,te.SDK_VERSION?Ua(te.SDK_VERSION,this.J):null),this.dispatchEvent(new nN(this.J))},e.Ga=function(){return rs(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function C6(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=An(this.R.url);u=Gr({protocol:u.c,host:u.a,port:u.g,options:Gr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Le(this).options.apiKey,authDomain:Le(this).options.authDomain,appName:Le(this).name,currentUser:he(this)&&he(this).w()}};function V0(o){return o.Oa||ze(new x("auth-domain-config-required"))}function N6(o){var u=Le(o).options.authDomain,f=Le(o).options.apiKey;u&&fs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=v0(u,f,Le(o).name,o.R),Ld(o.b,o),he(o)&&dc(he(o)),o.m){dc(o.m);var d=o.m;d.xa(o.la()),k0(d,o),d=o.m,hc(d,o.J),N0(d,o),d=o.m,S0(d,o.R),C0(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var v=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ts(v,qy(v.a,_))})},e.Xc=function(o){if(!fs())return ze(new x("operation-not-supported-in-this-environment"));var u=this,f=my(o.providerId),d=hs(),v=null;(!zl()||ey())&&Le(this).options.authDomain&&o.isOAuthProvider&&(v=ac(Le(this).options.authDomain,Le(this).options.apiKey,Le(this).name,"signInViaPopup",o,null,d,te.SDK_VERSION||null,null,null,this.T(),this.R));var _=L1(v,f&&f.va,f&&f.ua);return f=V0(this).then(function(b){return kC(b,_,"signInViaPopup",o,d,!!v,u.T())}).then(function(){return new we(function(b,C){u.na("signInViaPopup",null,new x("cancelled-popup-request"),u.g),u.f=b,u.C=C,u.g=d,u.c=NC(u.b,u,"signInViaPopup",_,d)})}).then(function(b){return _&&cs(_),b?Gr(b):null}).o(function(b){throw _&&cs(_),b}),Je(this,f)},e.Yc=function(o){if(!fs())return ze(new x("operation-not-supported-in-this-environment"));var u=this,f=V0(this).then(function(){return S6(u.i)}).then(function(){return CC(u.b,"signInViaRedirect",o,void 0,u.T())});return Je(this,f)};function rN(o){if(!fs())return ze(new x("operation-not-supported-in-this-environment"));var u=V0(o).then(function(){return o.b.ra()}).then(function(f){return f?Gr(f):null});return Je(o,u)}e.ra=function(){var o=this;return rN(this).then(function(u){return o.b&&Fd(o.b.b),u}).o(function(u){throw o.b&&Fd(o.b.b),u})},e.dd=function(o){if(!o)return ze(new x("null-user"));if(this.S!=o.tenantId)return ze(new x("tenant-id-mismatch"));var u=this,f={};f.apiKey=Le(this).options.apiKey,f.authDomain=Le(this).options.authDomain,f.appName=Le(this).name;var d=E6(o,f,u.D,u.Ga());return Je(this,this.h.then(function(){if(Le(u).options.apiKey!=o.l)return d.reload()}).then(function(){return he(u)&&o.uid==he(u).uid?(Vd(he(u),o),u.da(o)):(Xa(u,d),dc(d),u.da(d))}).then(function(){vc(u)}))};function A6(o,u){var f={};return f.apiKey=Le(o).options.apiKey,f.authDomain=Le(o).options.authDomain,f.appName=Le(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return w6(f,u,o.D,o.Ga())}).then(function(d){return he(o)&&d.uid==he(o).uid?(Vd(he(o),d),o.da(d)):(Xa(o,d),dc(d),o.da(d))}).then(function(){vc(o)})}function Xa(o,u){he(o)&&(g6(he(o),o.Ba),$n(he(o),"tokenChanged",o.qa),$n(he(o),"userDeleted",o.za),$n(he(o),"userInvalidated",o.Aa),R0(he(o))),u&&(u.W.push(o.Ba),nr(u,"tokenChanged",o.qa),nr(u,"userDeleted",o.za),nr(u,"userInvalidated",o.Aa),0<o.u&&BC(u)),Z(o,"currentUser",u),u&&(u.xa(o.la()),k0(u,o),hc(u,o.J),N0(u,o),S0(u,o.R),C0(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Fd(o.b.b),he(o)?(Xa(o,null),JC(o.i).then(function(){vc(o)})):re()});return Je(this,u)};function R6(o){var u=T6(o.D,Le(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),YC(o.D)});return Je(o,u)}function x6(o){var u=Le(o).options.authDomain,f=R6(o).then(function(){return ZC(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return XC(o.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:JC(o.i)})):null}).then(function(d){Xa(o,d||null)});return Je(o,f)}function P6(o){return o.$.then(function(){return rN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Xr("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return ZC(this.i,Le(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=he(o)&&u){f=he(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return Vd(he(o),u),he(o).I();(he(o)||u)&&(Xa(o,u),u&&(dc(u),u.ha=o.D),o.b&&Ld(o.b,o),vc(o))}})},e.da=function(o){return XC(this.i,o)},e.mc=function(){vc(this),this.da(he(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ts(o,u){var f=null,d=null;return Je(o,u.then(function(v){return f=Ty(v),d=ak(v),A6(o,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=MC(v.w(),o,O(o.kc,o))),_||v}).then(function(){return Gr({user:he(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ts(u,re(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(he(u))})},e.Ac=function(o){var u=this;O6(this,function(){o.next(he(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return he(u)?he(u).I(o).then(function(d){return{accessToken:d}}):null});return Je(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ts(u,Ee(u.a,d$,{token:o}))}).then(function(f){var d=f.user;return oo(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ts(f,Ee(f.a,Wk,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ts(f,Ee(f.a,zB,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ts(u,o.ka(u.a))})},e.Sc=function(o){return iy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=he(o);if(u&&u.isAnonymous){var f=Gr({providerId:null,isNewUser:!1});return Gr({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ts(o,o.a.Ab()).then(function(d){var v=d.user;return oo(v,"isAnonymous",!0),o.da(v),d})})};function Le(o){return o.app}function he(o){return o.currentUser}e.getUid=function(){return he(this)&&he(this).uid||null};function $d(o){return he(o)&&he(o)._lat||null}function vc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u]($d(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u]($d(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&he(this)&&BC(he(this))},e.Pc=function(o){var u=this;xe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&he(this)&&R0(he(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Je(this,this.h.then(function(){u.l||_i(u.s,o)&&o($d(u))}))},e.removeAuthTokenListener=function(o){Ir(this.s,function(u){return u==o})};function O6(o,u){o.N.push(u),Je(o,o.h.then(function(){!o.l&&_i(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u($d(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Xr("local"),o.a,this.ja)),this.b&&(h0(this.b,this),Fd(this.b.b)),Promise.resolve()};function Je(o,u){return o.P.push(u),u.oa(function(){zh(o.P,u)}),u}e.hc=function(o){return Je(this,LB(this.a,o))},e.Bc=function(o){return!!by(o)},e.xb=function(o,u){var f=this;return Je(this,re().then(function(){var d=new ad(u);if(!d.c)throw new x("argument-error",vy+" must be true when sending sign in link to email");return ud(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return Je(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return Je(this,this.a.Sa(o).then(function(u){return new WV(u)}))},e.kb=function(o){return Je(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return Je(this,re().then(function(){return typeof u>"u"||is(u)?{}:ud(new ad(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return Je(this,m0(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return Je(this,re().then(function(){var d=u||ql(),v=_k(o,d);if(d=by(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new x("tenant-id-mismatch");return f.ab(v)}))};function gc(){}gc.prototype.render=function(){},gc.prototype.reset=function(){},gc.prototype.getResponse=function(){},gc.prototype.execute=function(){};function Ja(){this.a={},this.b=1e12}var B0=null;Ja.prototype.render=function(o,u){return this.a[this.b.toString()]=new qd(o,u),this.b++},Ja.prototype.reset=function(o){var u=$0(this,o);o=iN(o),u&&o&&(u.delete(),delete this.a[o])},Ja.prototype.getResponse=function(o){return(o=$0(this,o))?o.getResponse():null},Ja.prototype.execute=function(o){(o=$0(this,o))&&o.execute()};function $0(o,u){return(u=iN(u))&&o.a[u]||null}function iN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function qd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ml(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():nr(this.f,"click",this.i)}qd.prototype.getResponse=function(){return q0(this),this.b},qd.prototype.execute=function(){q0(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=VV();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},qd.prototype.delete=function(){q0(this),this.g=!0,clearTimeout(this.a),this.a=null,$n(this.f,"click",this.i)};function q0(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function z0(){}Z(z0,"FACTOR_ID","phone");function H0(){}H0.prototype.g=function(){return B0||(B0=new Ja),re(B0)},H0.prototype.c=function(){};var W0=null;function K0(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var D6=new Hr(Hh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),L6=new no(3e4,6e4);K0.prototype.g=function(o){var u=this;return new we(function(f,d){var v=setTimeout(function(){d(new x("network-request-failed"))},L6.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var b=c.grecaptcha.render;c.grecaptcha.render=function(C,L){return C=b(C,L),u.b++,C},clearTimeout(v),f(c.grecaptcha)}else clearTimeout(v),d(new x("internal-error"));delete c[u.a]};var _=Nm(D6,{onload:u.a,hl:o||""});re(My(_)).o(function(){clearTimeout(v),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),f(c.grecaptcha)})},K0.prototype.c=function(){this.b--};var G0=null;function Q0(o,u,f,d,v,_,b){if(Z(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(W0||(W0=new H0),b=W0):(G0||(G0=new K0),b=G0),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[aN])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[M6]==="invisible",!c.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ml(u)||!this.i&&Ml(u).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Nr(o,_||null,v||null),this.u=d||function(){return null};var C=this;this.l=[];var L=this.a[oN];this.a[oN]=function(ue){if(uN(C,ue),typeof L=="function")L(ue);else if(typeof L=="string"){var Pe=He(L,c);typeof Pe=="function"&&Pe(ue)}};var F=this.a[sN];this.a[sN]=function(){if(uN(C,null),typeof F=="function")F();else if(typeof F=="string"){var ue=He(F,c);typeof ue=="function"&&ue()}}}var oN="callback",sN="expired-callback",aN="sitekey",M6="size";function uN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function F6(o,u){Ir(o.l,function(f){return f==u})}function Y0(o,u){return o.h.push(u),u.oa(function(){zh(o.h,u)}),u}e=Q0.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Y0(this,re().then(function(){if(od()&&!kr())return id();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ee(o.s,i$,{})}).then(function(u){o.a[aN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){zd(this);var o=this;return Y0(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Ml(u);u=lV("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){zd(this);var o=this;return Y0(this,this.render().then(function(u){return new we(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var v=function(_){_&&(F6(o,v),f(_))};o.l.push(v),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){zd(this),this.c!==null&&this.g.reset(this.c)};function zd(o){if(o.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){zd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Ml(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function X0(o,u,f){var d=!1;try{this.b=f||te.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new x("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=te.SDK_VERSION?Ua(te.SDK_VERSION,_):null,Q0.call(this,f,o,u,function(){try{var b=v.b.auth().la()}catch{b=null}return b},_,Bn(br),d)}U(X0,Q0);function lN(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var v=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=u.length,f.length<v||_<f.length)d="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+f.length+".";else{for(v=0;v<f.length;v++)if(_=u[v].optional&&f[v]===void 0,!u[v].M(f[v])&&!_){if(u=u[v],0>v||v>=cN.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");f=cN[v],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new x("argument-error",o+" failed: "+d)}var cN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function J(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function J0(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function ut(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:E}}function Za(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Jr(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function j6(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function U6(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Rr)}}}function V6(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof te.app.App)}}}function so(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function fN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function eu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Z0(o,u){return E(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function hN(o){return E(o)&&typeof o.uid=="string"}function Hd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function rt(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(v){return o.M(v)||u.M(v)}}}function Qe(o,u){for(var f in u){var d=u[f].name;o[d]=pN(d,o[f],u[f].j)}}function dN(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:z(function(v){return this[v]},f),set:z(function(v,_,b,C){lN(v,[b],[C],!0),this[_]=C},d,f,u[f].lb),enumerable:!0})}}function it(o,u,f,d){o[u]=pN(u,f,d)}function pN(o,u,f){function d(){var b=Array.prototype.slice.call(arguments);return lN(v,f,b),u.apply(this,b)}if(!f)return u;var v=B6(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function B6(o){return o=o.split("."),o[o.length-1]}Qe(Rr.prototype,{kb:{name:"applyActionCode",j:[J("code")]},Sa:{name:"checkActionCode",j:[J("code")]},ob:{name:"confirmPasswordReset",j:[J("code"),J("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[J("email"),J("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[J("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[J("emailLink")]},Hc:{name:"onAuthStateChanged",j:[rt(ut(),Za(),"nextOrObserver"),Za("opt_error",!0),Za("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[rt(ut(),Za(),"nextOrObserver"),Za("opt_error",!0),Za("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[J("email"),rt(ut("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[J("email"),ut("actionCodeSettings")]},yb:{name:"setPersistence",j:[J("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[so()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[so()]},Tc:{name:"signInWithCustomToken",j:[J("token")]},Uc:{name:"signInWithEmailAndPassword",j:[J("email"),J("password")]},Vc:{name:"signInWithEmailLink",j:[J("email"),J("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[J("phoneNumber"),Hd()]},Xc:{name:"signInWithPopup",j:[eu()]},Yc:{name:"signInWithRedirect",j:[eu()]},dd:{name:"updateCurrentUser",j:[rt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof zn)}}}(),Jr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[J(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[J("url"),ut("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[J("code")]}}),dN(Rr.prototype,{lc:{name:"languageCode",lb:rt(J(),Jr(),"languageCode")},ti:{name:"tenantId",lb:rt(J(),Jr(),"tenantId")}}),Rr.Persistence=Wa,Rr.Persistence.LOCAL="local",Rr.Persistence.SESSION="session",Rr.Persistence.NONE="none",Qe(zn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[J0("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[J0("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[so()]},rb:{name:"linkWithCredential",j:[so()]},Dc:{name:"linkWithPhoneNumber",j:[J("phoneNumber"),Hd()]},Ec:{name:"linkWithPopup",j:[eu()]},Fc:{name:"linkWithRedirect",j:[eu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[so()]},ub:{name:"reauthenticateWithCredential",j:[so()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[J("phoneNumber"),Hd()]},Nc:{name:"reauthenticateWithPopup",j:[eu()]},Oc:{name:"reauthenticateWithRedirect",j:[eu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[rt(ut("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[J(null,!0)]},cd:{name:"unlink",j:[J("provider")]},Cb:{name:"updateEmail",j:[J("email")]},Db:{name:"updatePassword",j:[J("password")]},ed:{name:"updatePhoneNumber",j:[so("phone")]},Eb:{name:"updateProfile",j:[ut("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[J("email"),rt(ut("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]}}),Qe(Ja.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qe(gc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qe(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),dN(OC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:J0("appVerificationDisabledForTesting")}}),Qe(g0.prototype,{confirm:{name:"confirm",j:[J("verificationCode")]}}),it($a,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[cB,fB,hB,lB],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[rt(J(),ut(),"json")]),it(ir,"credential",function(o,u){return new ro(o,u)},[J("email"),J("password")]),Qe(ro.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Qe(vs.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[ut("customOAuthParameters")]}}),it(vs,"credential",vk,[rt(J(),ut(),"token")]),it(ir,"credentialWithLink",_k,[J("email"),J("emailLink")]),Qe(gs.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[ut("customOAuthParameters")]}}),it(gs,"credential",gk,[rt(J(),ut(),"token")]),Qe(ms.prototype,{Ca:{name:"addScope",j:[J("scope")]},Ka:{name:"setCustomParameters",j:[ut("customOAuthParameters")]}}),it(ms,"credential",mk,[rt(J(),rt(ut(),Jr()),"idToken"),rt(J(),Jr(),"accessToken",!0)]),Qe(za.prototype,{Ka:{name:"setCustomParameters",j:[ut("customOAuthParameters")]}}),it(za,"credential",yk,[rt(J(),ut(),"token"),J("secret",!0)]),Qe(qn.prototype,{Ca:{name:"addScope",j:[J("scope")]},credential:{name:"credential",j:[rt(J(),rt(ut(),Jr()),"optionsOrIdToken"),rt(J(),Jr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ut("customOAuthParameters")]}}),Qe(Ei.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Qe(ds.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),it(bi,"credential",wk,[J("verificationId"),J("verificationCode")]),Qe(bi.prototype,{gb:{name:"verifyPhoneNumber",j:[rt(J(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Z0(f.session,Yl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Z0(f.session,dd)&&hN(f.multiFactorHint):f.session&&f.multiFactorUid?Z0(f.session,dd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Hd()]}}),Qe(io.prototype,{w:{name:"toJSON",j:[J(null,!0)]}}),Qe(x.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Qe(Jl.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Qe(ky.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Qe(_0.prototype,{toJSON:{name:"toJSON",j:[J(null,!0)]}}),Qe(y0.prototype,{Rc:{name:"resolveSignIn",j:[fN()]}}),Qe(E0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[fN(),J("displayName",!0)]},bd:{name:"unenroll",j:[rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:hN},J(),"multiFactorInfoIdentifier")]}}),Qe(X0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),it(py,"parseLink",X1,[J("link")]),it(z0,"assertion",function(o){return new jC(o)},[so("phone")]),function(){if(typeof te<"u"&&te.INTERNAL&&te.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:dy,VERIFY_AND_CHANGE_EMAIL:Gl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Rr,AuthCredential:$a,Error:x};it(o,"EmailAuthProvider",ir,[]),it(o,"FacebookAuthProvider",vs,[]),it(o,"GithubAuthProvider",gs,[]),it(o,"GoogleAuthProvider",ms,[]),it(o,"TwitterAuthProvider",za,[]),it(o,"OAuthProvider",qn,[J("providerId")]),it(o,"SAMLAuthProvider",pk,[J("providerId")]),it(o,"PhoneAuthProvider",bi,[U6()]),it(o,"RecaptchaVerifier",X0,[rt(J(),j6(),"recaptchaContainer"),ut("recaptchaParameters",!0),V6()]),it(o,"ActionCodeURL",py,[]),it(o,"PhoneMultiFactorGenerator",z0,[]),te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Rr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.registerVersion("@firebase/auth","0.16.8"),te.INTERNAL.extendNamespace({User:zn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var lH={},cH="@firebase/database",fH="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL="";function rL(e){nL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),yt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:xf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dH=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Jn(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hH(t)}}catch{}return new dH},Ms=iL("localStorage"),eE=iL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ru=new ma("@firebase/database"),oL=function(){var e=1;return function(){return e++}}(),sL=function(e){var t=R3(e),n=new k3;n.update(t);var r=n.digest();return _g.encodeByteArray(r)},hh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=hh.apply(null,i):typeof i=="object"?n+=yt(i):n+=i,n+=" "}return n},zs=null,KA=!0,aL=function(e,t){B(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ru.logLevel=_e.VERBOSE,zs=Ru.log.bind(Ru),t&&eE.set("logging_enabled",!0)):typeof e=="function"?zs=e:(zs=null,eE.remove("logging_enabled"))},At=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(KA===!0&&(KA=!1,zs===null&&eE.get("logging_enabled")===!0&&aL(!0)),zs){var n=hh.apply(null,e);zs(n)}},dh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];At.apply(void 0,ve([e],qt(t)))}},tE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+hh.apply(void 0,ve([],qt(e)));Ru.error(n)},fi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+hh.apply(void 0,ve([],qt(e)));throw Ru.error(n),new Error(n)},Ht=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+hh.apply(void 0,ve([],qt(e)));Ru.warn(n)},pH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Eg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vH=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ui="[MIN_NAME]",hi="[MAX_NAME]",ya=function(e,t){if(e===t)return 0;if(e===Ui||t===hi)return-1;if(t===Ui||e===hi)return 1;var n=dv(e),r=dv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},gH=function(e,t){return e===t?0:e<t?-1:1},Ac=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yt(t))},lT=function(e){if(typeof e!="object"||e===null)return yt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=yt(t[i]),r+=":",r+=lT(e[t[i]]);return r+="}",r},uL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function bt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var lL=function(e){B(!Eg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),g="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),g=g+m}return g.toLowerCase()},mH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _H(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var wH=new RegExp("^-?(0*)\\d{1,10}$"),cL=-2147483648,cT=2147483647,dv=function(e){if(wH.test(e)){var t=Number(e);if(t>=cL&&t<=cT)return t}return null},_l=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Ht("Exception was thrown by user callback.",n),t},Math.floor(0))}},EH=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bH=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Ht('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TH=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(t)},e}(),nf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT="5",fL="v",hL="s",dL="r",pL="f",vL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gL="ls",IH="p",nE="ac",mL="websocket",yL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ms.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ms.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function SH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function _L(e,t,n){B(typeof t=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");var r;if(t===mL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===yL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);SH(e)&&(n.ns=e.namespace);var i=[];return bt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kH=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return WD(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C_={},N_={};function dT(e){var t=e.toString();return C_[t]||(C_[t]=new kH),C_[t]}function CH(e,t){var n=e.toString();return N_[n]||(N_[n]=t()),N_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NH=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&_l(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA="start",AH="close",RH="pLPCommand",xH="pRTLPCB",wL="id",EL="pw",bL="ser",PH="cb",OH="seg",DH="ts",LH="d",MH="dframe",TL=1870,IL=30,FH=TL-IL,jH=25e3,UH=3e4,pT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dh(t),this.stats_=dT(n),this.urlFn=function(h){return c.appCheckToken&&(h[nE]=c.appCheckToken),_L(n,yL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NH(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(UH)),vH(function(){if(!r.isClosed_){r.scriptTagHolder=new VH(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=qt(a,5),h=c[0],p=c[1],g=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===GA)r.id=p,r.password=g;else if(h===AH)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=qt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[GA]="t",i[bL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[PH]=r.scriptTagHolder.uniqueCallbackIdentifier),i[fL]=fT,r.transportSessionId&&(i[hL]=r.transportSessionId),r.lastSessionId&&(i[gL]=r.lastSessionId),r.applicationId&&(i[IH]=r.applicationId),r.appCheckToken&&(i[nE]=r.appCheckToken),typeof location<"u"&&location.hostname&&vL.test(location.hostname)&&(i[dL]=pL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mH()&&!yH()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=HD(n),i=uL(r,FH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[MH]="t",r[wL]=t,r[EL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=yt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),VH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oL(),window[RH+this.uniqueCallbackIdentifier]=t,window[xH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){At("frame writing exception"),c.stack&&At(c.stack),At(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||At("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[wL]=this.myID,t[EL]=this.myPW,t[bL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+IL+r.length<=TL){var a=this.pendingSegs.shift();r=r+"&"+OH+i+"="+a.seg+"&"+DH+i+"="+a.ts+"&"+LH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(jH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){At("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BH=16384,$H=45e3,pv=null;typeof MozWebSocket<"u"?pv=MozWebSocket:typeof WebSocket<"u"&&(pv=WebSocket);var As=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dh(this.connId),this.stats_=dT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[fL]=fT,typeof location<"u"&&location.hostname&&vL.test(location.hostname)&&(s[dL]=pL),n&&(s[hL]=n),r&&(s[gL]=r),i&&(s[nE]=i),_L(t,mL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ms.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!QD()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&pv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Ms.isInMemoryStorage||Ms.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Ms.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=xf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=uL(n,BH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor($H))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[pT,As]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=As&&As.isAvailable(),s=i&&!As.previouslyFailed();if(t.webSocketOnly&&(i||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[As];else{var a=this.transports_=[];try{for(var l=Ot(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zH=6e4,HH=5e3,WH=10*1024,KH=100*1024,A_="t",QA="d",GH="s",YA="r",QH="e",XA="o",JA="a",ZA="n",eR="p",YH="h",SL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dh("c:"+this.id+":"),this.transportManager_=new qH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=tf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>KH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>WH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(A_ in t){var n=t[A_];n===JA?this.upgradeIfSecondaryHealthy_():n===YA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===XA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Ac("t",t),r=Ac("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:eR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ZA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Ac("t",t),r=Ac("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Ac(A_,t);if(QA in t){var r=t[QA];if(n===YH)this.onHandshake_(r);else if(n===ZA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GH?this.onConnectionShutdown_(r):n===YA?this.onReset_(r):n===QH?tE("Server Error: "+r):n===XA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fT!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),tf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(zH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(HH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:eR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ms.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ve([],qt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){B(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tR=function(e){G(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return B(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nR=32,rR=768,Re=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ne(){return new Re("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $o(e){return e.pieces_.length-e.pieceNum_}function Me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Re(e.pieces_,t)}function vT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function XH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Pf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function NL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Re(t,0)}function Ke(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Re)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Re(n,0)}function me(e){return e.pieceNum_>=e.pieces_.length}function wn(e,t){var n=ge(e),r=ge(t);if(n===null)return t;if(n===r)return wn(Me(e),Me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function JH(e,t){for(var n=Pf(e,0),r=Pf(t,0),i=0;i<n.length&&i<r.length;i++){var s=ya(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function gT(e,t){if($o(e)!==$o(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ur(e,t){var n=e.pieceNum_,r=t.pieceNum_;if($o(e)>$o(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ZH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Pf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=wg(this.parts_[r]);AL(this)}return e}();function eW(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wg(t),AL(e)}function tW(e){var t=e.parts_.pop();e.byteLength_-=wg(t),e.parts_.length>0&&(e.byteLength_-=1)}function AL(e){if(e.byteLength_>rR)throw new Error(e.errorPrefix_+"has a key path longer than "+rR+" bytes ("+e.byteLength_+").");if(e.parts_.length>nR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nR+") or object contains a cycle "+Cs(e))}function Cs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nW=function(e){G(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]},t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=1e3,rW=60*5*1e3,iW=3*1e3,iR=30*1e3,oW=1.3,sW=3e4,aW="server_kill",oR=3,Hs=function(e){G(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=dh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Rc,p.maxReconnectDelay_=rW,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!QD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return nW.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&tR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(yt(a)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new xt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},iW),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,g=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),g!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(g,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Jn(n,"w")){var i=ea(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Ht("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||I3(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=T3(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+yt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):tE("Unrecognized action received from server: "+yt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>sW&&(this.reconnectDelay_=Rc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oW)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,w,I,E=this;return N(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(S){B(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:h,sendRequest:p},g=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)])];case 2:return m=qt.apply(void 0,[T.sent(),2]),y=m[0],w=m[1],l?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new SL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){Ht(S+" ("+E.repoInfo_.toString()+")"),E.interrupt(aW)},a)),[3,4];case 3:return I=T.sent(),this.log_("Failed to get token: "+I),l||(this.repoInfo_.nodeAdmin&&Ht(I),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){At("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){At("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Jw(this.interruptReasons_)&&(this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return lT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Re(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){At("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=oR&&(this.reconnectDelay_=iR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){At("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=oR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Ot(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Ot(c.values())),p=h.next();!p.done;p=h.next()){var g=p.value;this.sendListen_(g)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+nL.replace(/\./g,"-")]=1,rT()?n["framework.cordova"]=1:GD()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=tR.getInstance().currentlyOnline();return Jw(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(kL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Te(Ui,t),i=new Te(Ui,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Te.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip,RL=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ip},set:function(n){ip=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return ya(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw ml("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(hi,ip)},t.prototype.makePost=function(n,r){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new Te(n,ip)},t.prototype.toString=function(){return".key"},t}(bg),si=new RL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Fr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??xi.EMPTY_NODE,this.right=s??xi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return xi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return xi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),uW=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Fr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),xi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new op(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new op(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new op(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new op(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new uW,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(e,t){return ya(e.name,t.name)}function mT(e,t){return ya(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rE;function cW(e){rE=e}var xL=function(e){return typeof e=="number"?"number:"+lL(e):"string:"+e},PL=function(e){if(e.isLeafNode()){var t=e.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jn(t,".sv"),"Priority must be a string or number.")}else B(e===rE||e.isEmpty(),"priority of unexpected type.");B(e===rE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sR,Vu=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return sR},set:function(t){sR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return me(t)?this:ge(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||$o(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+xL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=lL(this.value_):t+=this.value_,this.lazyHash_=sL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL,DL;function fW(e){OL=e}function hW(e){DL=e}var dW=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?ya(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(hi,new Vu("[PRIORITY-POST]",DL))},t.prototype.makePost=function(n,r){var i=OL(n);return new Te(r,new Vu("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(bg),Ue=new dW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pW=Math.log(2),vW=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/pW,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),vv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,g,m;if(p===0)return null;if(p===1)return g=e[c],m=n?n(g):g,new Fr(m,g.node,Fr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),I=i(y+1,h);return g=e[y],m=n?n(g):g,new Fr(m,g.node,Fr.BLACK,w,I)},s=function(c){for(var h=null,p=null,g=e.length,m=function(T,S){var R=g-T,P=g;g-=T;var M=i(R+1,P),O=e[R],z=n?n(O):O;y(new Fr(z,O.node,S,null,M))},y=function(T){h?(h.left=T,h=T):(p=T,h=T)},w=0;w<c.count;++w){var I=c.nextBitIsOne(),E=Math.pow(2,c.count-(w+1));I?m(E,Fr.BLACK):(m(E,Fr.BLACK),m(E,Fr.RED))}return p},a=new vW(e.length),l=s(a);return new xi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R_,nu={},gv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return B(nu&&Ue,"ChildrenNode.ts has not been loaded"),R_=R_||new e({".priority":nu},{".priority":Ue}),R_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ea(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof xi?n:null},e.prototype.hasIndex=function(t){return Jn(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){B(t!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Te.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=vv(r,t.getCompare()):l=nu;var c=t.toString(),h=ie({},this.indexSet_);h[c]=t;var p=ie({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=fv(this.indexes_,function(s,a){var l=ea(r.indexSet_,a);if(B(l,"Missing index implementation for "+a),s===nu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Te.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),vv(c,l.getCompare())}else return nu;else{var g=n.get(t.name),m=s;return g&&(m=m.remove(new Te(t.name,g))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=fv(this.indexes_,function(i){if(i===nu)return i;var s=n.get(t.name);return s?i.remove(new Te(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc,fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PL(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return xc||(xc=new e(new xi(mT),null,gv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||xc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?xc:n},e.prototype.getChild=function(t){var n=ge(t);return n===null?this:this.getImmediateChild(n).getChild(Me(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(B(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Te(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?xc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ge(t);if(r===null)return n;B(ge(t)!==".priority"||$o(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Me(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Ue,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+xL(this.getPriority().val())+":"),this.forEachChild(Ue,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":sL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Te(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ph?-1:0},e.prototype.withIndex=function(t){if(t===si||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===si||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Ue),i=n.getIterator(Ue),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===si?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),gW=function(e){G(t,e);function t(){return e.call(this,new xi(mT),fe.EMPTY_NODE,gv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fe),ph=new gW;Object.defineProperties(Te,{MIN:{value:new Te(Ui,fe.EMPTY_NODE)},MAX:{value:new Te(hi,ph)}});RL.__EMPTY_NODE=fe.EMPTY_NODE;Vu.__childrenNodeConstructor=fe;cW(ph);hW(ph);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=!0;function Ye(e,t){if(t===void 0&&(t=null),e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Vu(n,Ye(t))}if(!(e instanceof Array)&&mW){var r=[],i=!1,s=e;if(bt(s,function(h,p){if(h.substring(0,1)!=="."){var g=Ye(p);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),r.push(new Te(h,g)))}}),r.length===0)return fe.EMPTY_NODE;var a=vv(r,lW,function(h){return h.name},mT);if(i){var l=vv(r,Ue.getCompare());return new fe(a,Ye(t),new gv({".priority":l},{".priority":Ue}))}else return new fe(a,Ye(t),gv.Default)}else{var c=fe.EMPTY_NODE;return bt(e,function(h,p){if(Jn(e,h)&&h.substring(0,1)!=="."){var g=Ye(p);(g.isLeafNode()||!g.isEmpty())&&(c=c.updateImmediateChild(h,g))}}),c.updatePriority(Ye(t))}}fW(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yT=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,B(!me(n)&&ge(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?ya(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Ye(n),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(r,s)},t.prototype.maxPost=function(){var n=fe.EMPTY_NODE.updateChild(this.indexPath_,ph);return new Te(hi,n)},t.prototype.toString=function(){return Pf(this.indexPath_,0).join("/")},t}(bg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yW=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?ya(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return Te.MAX},t.prototype.makePost=function(n,r){var i=Ye(n);return new Te(r,i)},t.prototype.toString=function(){return".value"},t}(bg),_T=new yW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iE="-",LL="z",ML=786,_W=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Bu.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Bu.charAt(t[i]);return B(a.length===20,"nextPushId: Length should be 20."),a}}(),aR=function(e){if(e===""+cT)return iE;var t=dv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<ML)return n.push(iE),n.join("");for(var i=n.length-1;i>=0&&n[i]===LL;)i--;if(i===-1)return hi;var s=n[i],a=Bu.charAt(Bu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},uR=function(e){if(e===""+cL)return Ui;var t=dv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===iE?n.length===1?""+cT:(delete n[n.length-1],n.join("")):(n[n.length-1]=Bu.charAt(Bu.indexOf(n[n.length-1])-1),n.join("")+LL.repeat(ML-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(e){return{type:"value",snapshotNode:e}}function $u(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Of(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Df(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function wW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Of(n,l)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange($u(n,r)):a.trackChildChange(Df(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ue,function(i,s){n.hasChild(i)||r.trackChildChange(Of(i,s))}),n.isLeafNode()||n.forEachChild(Ue,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Df(i,s,a))}else r.trackChildChange($u(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL=function(){function e(t){this.indexedFilter_=new wT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Te(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);var s=this;return n.forEachChild(Ue,function(a,l){s.matches(new Te(a,l))||(i=i.updateImmediateChild(a,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EW=function(){function e(t){this.rangedFilter_=new jL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Te(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);var h=void 0,p=void 0,g=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();g=function(E,T){return m(T,E)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&g(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&g(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(S,R){return l(R,S)}}else a=this.index_.getCompare();var c=t;B(c.numChildren()===this.limit_,"");var h=new Te(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),I=g&&!r.isEmpty()&&w>=0;if(I)return s!=null&&s.trackChildChange(Df(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Of(n,m));var E=c.updateImmediateChild(n,fe.EMPTY_NODE),T=y!=null&&this.rangedFilter_.matches(y);return T?(s!=null&&s.trackChildChange($u(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}else return r.isEmpty()?t:g&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Of(p.name,p.node)),s.trackChildChange($u(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ui},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ue},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function bW(e){return e.loadsAllData()?new wT(e.getIndex()):e.hasLimit()?new EW(e):new jL(e)}function TW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function IW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function oE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function SW(e,t,n){var r;if(e.index_===si)typeof t=="string"&&(t=aR(t)),r=oE(e,t,n);else{var i=void 0;n==null?i=hi:i=aR(n),r=oE(e,t,i)}return r.startAfterSet_=!0,r}function sE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kW(e,t,n){var r,i;return e.index_===si?(typeof t=="string"&&(t=uR(t)),i=sE(e,t,n)):(n==null?r=Ui:r=uR(n),i=sE(e,t,r)),i.endBeforeSet_=!0,i}function Tg(e,t){var n=e.copy();return n.index_=t,n}function lR(e){var t={};if(e.isDefault())return t;var n;return e.index_===Ue?n="$priority":e.index_===_T?n="$value":e.index_===si?n="$key":(B(e.index_ instanceof yT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=yt(n),e.startSet_&&(t.startAt=yt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+yt(e.indexStartName_))),e.endSet_&&(t.endAt=yt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+yt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function cR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ue&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CW=function(e){G(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=dh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=lR(n._queryParams);this.restRequest_(l+".json",p,function(g,m){var y=m;if(g===404&&(y=null,g=null),g===null&&a.onDataUpdate_(l,y,!1,i),ea(a.listens_,c)===h){var w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=lR(n._queryParams),s=n._path.toString(),a=new xt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=qt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+S3(r);s.log_("Sending REST request for "+p);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(i&&g.readyState===4){s.log_("REST Response for "+p+" received. status:",g.status,"response:",g.responseText);var m=null;if(g.status>=200&&g.status<300){try{m=xf(g.responseText)}catch{Ht("Failed to parse JSON response for "+p+": "+g.responseText)}i(null,m)}else g.status!==401&&g.status!==404&&Ht("Got unsuccessful REST response for "+p+" Status: "+g.status),i(g.status);i=null}},g.open("GET",p,!0),g.send()})},t}(kL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NW=function(){function e(){this.rootNode_=fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){return{value:null,children:new Map}}function wl(e,t,n){if(me(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,mv());var i=e.children.get(r);t=Me(t),wl(i,t,n)}}function aE(e,t){if(me(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ue,function(s,a){wl(e,new Re(s),a)}),aE(e,t)}else if(e.children.size>0){var r=ge(t);if(t=Me(t),e.children.has(r)){var i=aE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function uE(e,t,n){e.value!==null?n(t,e.value):AW(e,function(r,i){var s=new Re(t.toString()+"/"+r);uE(i,s,n)})}function AW(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ie({},t);return this.last_&&bt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fR=10*1e3,RW=30*1e3,xW=5*60*1e3,PW=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VL(t);var r=fR+(RW-fR)*Math.random();tf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;bt(n,function(s,a){a>0&&Jn(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),tf(this.reportStats_.bind(this),Math.floor(Math.random()*2*xW))},e}();function OW(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ur||(Ur={}));function ET(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function TT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DW=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ur.ACK_USER_WRITE,this.source=ET()}return e.prototype.operationForChild=function(t){if(me(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Re(t));return new e(Ne(),n,this.revert)}else return B(ge(this.path)===t,"operationForChild called for unrelated child."),new e(Me(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BL=function(){function e(t,n){this.source=t,this.path=n,this.type=Ur.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,Ne()):new e(this.source,Me(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ig=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ur.OVERWRITE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,Ne(),this.snap.getImmediateChild(t)):new e(this.source,Me(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IT=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ur.MERGE}return e.prototype.operationForChild=function(t){if(me(this.path)){var n=this.children.subtree(new Re(t));return n.isEmpty()?null:n.value?new Ig(this.source,Ne(),n.value):new e(this.source,Ne(),n)}else return B(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;var n=ge(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LW=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function MW(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(wW(a.childName,a.snapshotNode))}),Pc(e,i,"child_removed",t,r,n),Pc(e,i,"child_added",t,r,n),Pc(e,i,"child_moved",s,r,n),Pc(e,i,"child_changed",t,r,n),Pc(e,i,"value",t,r,n),i}function Pc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return jW(e,l,c)}),a.forEach(function(l){var c=FW(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function FW(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function jW(e,t,n){if(t.childName==null||n.childName==null)throw ml("Should only compare child_ events.");var r=new Te(t.childName,t.snapshotNode),i=new Te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(e,t){return{eventCache:e,serverCache:t}}function rf(e,t,n,r){return Sg(new qo(t,n,r),e.serverCache)}function $L(e,t,n,r){return Sg(e.eventCache,new qo(t,n,r))}function yv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ta(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_,UW=function(){return x_||(x_=new xi(gH)),x_},Zn=function(){function e(t,n){n===void 0&&(n=UW()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return bt(t,function(r,i){n=n.set(new Re(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(me(t))return null;var r=ge(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Me(t),n);if(s!=null){var a=Ke(new Re(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(me(t))return this;var n=ge(t),r=this.children.get(n);return r!==null?r.subtree(Me(t)):new e(null)},e.prototype.set=function(t,n){if(me(t))return new e(n,this.children);var r=ge(t),i=this.children.get(r)||new e(null),s=i.set(Me(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(Me(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(me(t))return this.value;var n=ge(t),r=this.children.get(n);return r?r.get(Me(t)):null},e.prototype.setTree=function(t,n){if(me(t))return n;var r=ge(t),i=this.children.get(r)||new e(null),s=i.setTree(Me(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ne(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ke(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ne(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(me(t))return null;var s=ge(t),a=this.children.get(s);return a?a.findOnPath_(Me(t),Ke(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ne(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(me(t))return this;this.value&&r(n,this.value);var i=ge(t),s=this.children.get(i);return s?s.foreachOnPath_(Me(t),Ke(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ne(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ke(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Zn(null))},e}();function of(e,t,n){if(me(t))return new Li(new Zn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=wn(i,t);return s=s.updateChild(a,n),new Li(e.writeTree_.set(i,s))}else{var l=new Zn(n),c=e.writeTree_.setTree(t,l);return new Li(c)}}function lE(e,t,n){var r=e;return bt(n,function(i,s){r=of(r,Ke(t,i),s)}),r}function hR(e,t){if(me(t))return Li.empty();var n=e.writeTree_.setTree(t,new Zn(null));return new Li(n)}function cE(e,t){return _a(e,t)!=null}function _a(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(wn(n.path,t)):null}function dR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,function(r,i){t.push(new Te(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Te(r,i.value))}),t}function Po(e,t){if(me(t))return e;var n=_a(e,t);return n!=null?new Li(new Zn(n)):new Li(e.writeTree_.subtree(t))}function fE(e){return e.writeTree_.isEmpty()}function qu(e,t){return qL(Ne(),e.writeTree_,t)}function qL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qL(Ke(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ke(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(e,t){return KL(t,e)}function VW(e,t,n,r,i){B(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=of(e.visibleWrites,t,n)),e.lastWriteId=r}function BW(e,t,n,r){B(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=lE(e.visibleWrites,t,n),e.lastWriteId=r}function $W(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function qW(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});B(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&zW(l,r.path)?i=!1:ur(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return HW(e),!0;if(r.snap)e.visibleWrites=hR(e.visibleWrites,r.path);else{var c=r.children;bt(c,function(h){e.visibleWrites=hR(e.visibleWrites,Ke(r.path,h))})}return!0}else return!1}function zW(e,t){if(e.snap)return ur(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ur(Ke(e.path,n),t))return!0;return!1}function HW(e){e.visibleWrites=zL(e.allWrites,WW,Ne()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function WW(e){return e.visible}function zL(e,t,n){for(var r=Li.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)ur(n,a)?(l=wn(n,a),r=of(r,l,s.snap)):ur(a,n)&&(l=wn(a,n),r=of(r,Ne(),s.snap.getChild(l)));else if(s.children){if(ur(n,a))l=wn(n,a),r=lE(r,l,s.children);else if(ur(a,n))if(l=wn(a,n),me(l))r=lE(r,Ne(),s.children);else{var c=ea(s.children,ge(l));if(c){var h=c.getChild(Me(l));r=of(r,Ne(),h)}}}else throw ml("WriteRecord should have .snap or .children")}}return r}function HL(e,t,n,r,i){if(!r&&!i){var s=_a(e.visibleWrites,t);if(s!=null)return s;var a=Po(e.visibleWrites,t);if(fE(a))return n;if(n==null&&!cE(a,Ne()))return null;var l=n||fe.EMPTY_NODE;return qu(a,l)}else{var c=Po(e.visibleWrites,t);if(!i&&fE(c))return n;if(!i&&n==null&&!cE(c,Ne()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(ur(m.path,t)||ur(t,m.path))},p=zL(e.allWrites,h,t),l=n||fe.EMPTY_NODE;return qu(p,l)}}function KW(e,t,n){var r=fe.EMPTY_NODE,i=_a(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ue,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Po(e.visibleWrites,t);return n.forEachChild(Ue,function(l,c){var h=qu(Po(s,new Re(l)),c);r=r.updateImmediateChild(l,h)}),dR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Po(e.visibleWrites,t);return dR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function GW(e,t,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ke(t,n);if(cE(e.visibleWrites,s))return null;var a=Po(e.visibleWrites,s);return fE(a)?i.getChild(n):qu(a,i.getChild(n))}function QW(e,t,n,r){var i=Ke(t,n),s=_a(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Po(e.visibleWrites,i);return qu(a,r.getNode().getImmediateChild(n))}else return null}function YW(e,t){return _a(e.visibleWrites,t)}function XW(e,t,n,r,i,s,a){var l,c=Po(e.visibleWrites,t),h=_a(c,Ne());if(h!=null)l=h;else if(n!=null)l=qu(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],g=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)g(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function JW(){return{visibleWrites:Li.empty(),allWrites:[],lastWriteId:-1}}function _v(e,t,n,r){return HL(e.writeTree,e.treePath,t,n,r)}function ST(e,t){return KW(e.writeTree,e.treePath,t)}function pR(e,t,n,r){return GW(e.writeTree,e.treePath,t,n,r)}function wv(e,t){return YW(e.writeTree,Ke(e.treePath,t))}function ZW(e,t,n,r,i,s){return XW(e.writeTree,e.treePath,t,n,r,i,s)}function kT(e,t,n){return QW(e.writeTree,e.treePath,t,n)}function WL(e,t){return KL(Ke(e.treePath,t),e.writeTree)}function KL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Df(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Of(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$u(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Df(r,t.snapshotNode,i.oldSnap));else throw ml("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),GL=new tK,CT=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new qo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kT(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ta(this.viewCache_),s=ZW(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(e){return{filter:e}}function rK(e,t){B(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function iK(e,t,n,r,i){var s=new eK,a,l;if(n.type===Ur.OVERWRITE){var c=n;c.source.fromUser?a=hE(e,t,c.path,c.snap,r,i,s):(B(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!me(c.path),a=Ev(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Ur.MERGE){var h=n;h.source.fromUser?a=sK(e,t,h.path,h.children,r,i,s):(B(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=dE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Ur.ACK_USER_WRITE){var p=n;p.revert?a=lK(e,t,p.path,r,i,s):a=aK(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Ur.LISTEN_COMPLETE)a=uK(e,t,n.path,r,s);else throw ml("Unknown operation type: "+n.type);var g=s.getChanges();return oK(t,a,g),{viewCache:a,changes:g}}function oK(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(FL(yv(t)))}}function QL(e,t,n,r,i,s){var a=t.eventCache;if(wv(r,n)!=null)return t;var l=void 0,c=void 0;if(me(n))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ta(t),p=h instanceof fe?h:fe.EMPTY_NODE,g=ST(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var m=_v(r,ta(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=ge(n);if(y===".priority"){B($o(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var I=pR(r,n,w,c);I!=null?l=e.filter.updatePriority(w,I):l=a.getNode()}else{var E=Me(n),T=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var S=pR(r,n,a.getNode(),c);S!=null?T=a.getNode().getImmediateChild(y).updateChild(E,S):T=a.getNode().getImmediateChild(y)}else T=kT(r,y,t.serverCache);T!=null?l=e.filter.updateChild(a.getNode(),y,T,E,i,s):l=a.getNode()}}return rf(t,l,a.isFullyInitialized()||me(n),e.filter.filtersNodes())}function Ev(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(me(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var g=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),g,null)}else{var m=ge(n);if(!c.isCompleteForPath(n)&&$o(n)>1)return t;var y=Me(n),w=c.getNode().getImmediateChild(m),I=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),I):h=p.updateChild(c.getNode(),m,I,y,GL,null)}var E=$L(t,h,c.isFullyInitialized()||me(n),p.filtersNodes()),T=new CT(i,E,s);return QL(e,E,n,i,T,l)}function hE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new CT(i,t,s);if(me(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=rf(t,h,!0,e.filter.filtersNodes());else{var g=ge(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=rf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Me(n),y=l.getNode().getImmediateChild(g),w=void 0;if(me(m))w=r;else{var I=p.getCompleteChild(g);I!=null?vT(m)===".priority"&&I.getChild(NL(m)).isEmpty()?w=I:w=I.updateChild(m,r):w=fe.EMPTY_NODE}if(y.equals(w))c=t;else{var E=e.filter.updateChild(l.getNode(),g,w,m,p,a);c=rf(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function vR(e,t){return e.eventCache.isCompleteForChild(t)}function sK(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ke(n,c);vR(t,ge(p))&&(l=hE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ke(n,c);vR(t,ge(p))||(l=hE(e,l,p,h,i,s,a))}),l}function gR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function dE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;me(n)?h=r:h=new Zn(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(g,m){if(p.hasChild(g)){var y=t.serverCache.getNode().getImmediateChild(g),w=gR(e,y,m);c=Ev(e,c,new Re(g),w,i,s,a,l)}}),h.children.inorderTraversal(function(g,m){var y=!t.serverCache.isCompleteForChild(g)&&m.value===void 0;if(!p.hasChild(g)&&!y){var w=t.serverCache.getNode().getImmediateChild(g),I=gR(e,w,m);c=Ev(e,c,new Re(g),I,i,s,a,l)}}),c}function aK(e,t,n,r,i,s,a){if(wv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(me(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ev(e,t,n,c.getNode().getChild(n),i,s,l,a);if(me(n)){var h=new Zn(null);return c.getNode().forEachChild(si,function(g,m){h=h.set(new Re(g),m)}),dE(e,t,n,h,i,s,l,a)}else return t}else{var p=new Zn(null);return r.foreach(function(g,m){var y=Ke(n,g);c.isCompleteForPath(y)&&(p=p.set(g,c.getNode().getChild(y)))}),dE(e,t,n,p,i,s,l,a)}}function uK(e,t,n,r,i){var s=t.serverCache,a=$L(t,s.getNode(),s.isFullyInitialized()||me(n),s.isFiltered());return QL(e,a,n,r,GL,i)}function lK(e,t,n,r,i,s){var a;if(wv(r,n)!=null)return t;var l=new CT(r,t,i),c=t.eventCache.getNode(),h=void 0;if(me(n)||ge(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=_v(r,ta(t));else{var g=t.serverCache.getNode();B(g instanceof fe,"serverChildren would be complete if leaf node"),p=ST(r,g)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=ge(n),y=kT(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Me(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,fe.EMPTY_NODE,Me(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=_v(r,ta(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||wv(r,Ne())!=null,rf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new wT(r.getIndex()),s=bW(r);this.processor_=nK(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(fe.EMPTY_NODE,l.getNode(),null),p=new qo(c,a.isFullyInitialized(),i.filtersNodes()),g=new qo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Sg(g,p),this.eventGenerator_=new LW(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function fK(e){return e.viewCache_.serverCache.getNode()}function hK(e){return yv(e.viewCache_)}function dK(e,t){var n=ta(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!me(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function mR(e){return e.eventRegistrations_.length===0}function pK(e,t){e.eventRegistrations_.push(t)}function yR(e,t,n){var r=[];if(n){B(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function _R(e,t,n,r){t.type===Ur.MERGE&&t.source.queryId!==null&&(B(ta(e.viewCache_),"We should always have a full cache before handling merges"),B(yv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=iK(e.processor_,i,t,n,r);return rK(e.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,YL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function vK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Ue,function(s,a){r.push($u(s,a))})}return n.isFullyInitialized()&&r.push(FL(n.getNode())),YL(e,r,n.getNode(),t)}function YL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return MW(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bv,XL=function(){function e(){this.views=new Map}return e}();function gK(e){B(!bv,"__referenceConstructor has already been defined"),bv=e}function mK(){return B(bv,"Reference.ts has not been loaded"),bv}function yK(e){return e.views.size===0}function NT(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return B(l!=null,"SyncTree gave us an op for an invalid query."),_R(l,t,n,r)}else{var c=[];try{for(var h=Ot(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(_R(l,t,n,r))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function JL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=_v(n,i?r:null),c=!1;l?c=!0:r instanceof fe?(l=ST(n,r),c=!1):(l=fe.EMPTY_NODE,c=!1);var h=Sg(new qo(l,c,!1),new qo(r,i,!1));return new cK(t,h)}return a}function _K(e,t,n,r,i,s){var a=JL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),pK(a,n),vK(a,n)}function wK(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=zo(e);if(a==="default")try{for(var p=Ot(e.views.entries()),g=p.next();!g.done;g=p.next()){var m=qt(g.value,2),y=m[0],w=m[1];c=c.concat(yR(w,n,r)),mR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(I){i={error:I}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(yR(w,n,r)),mR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!zo(e)&&l.push(new(mK())(t._repo,t._path)),{removed:l,events:c}}function ZL(e){var t,n,r=[];try{for(var i=Ot(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Oo(e,t){var n,r,i=null;try{for(var s=Ot(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||dK(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function eM(e,t){var n=t._queryParams;if(n.loadsAllData())return Cg(e);var r=t._queryIdentifier;return e.views.get(r)}function tM(e,t){return eM(e,t)!=null}function zo(e){return Cg(e)!=null}function Cg(e){var t,n;try{for(var r=Ot(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tv;function EK(e){B(!Tv,"__referenceConstructor has already been defined"),Tv=e}function bK(){return B(Tv,"Reference.ts has not been loaded"),Tv}var TK=1,wR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Zn(null),this.pendingWriteTree_=JW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function AT(e,t,n,r,i){return VW(e.pendingWriteTree_,t,n,r,i),i?El(e,new Ig(ET(),t,n)):[]}function IK(e,t,n,r){BW(e.pendingWriteTree_,t,n,r);var i=Zn.fromObject(n);return El(e,new IT(ET(),t,i))}function To(e,t,n){n===void 0&&(n=!1);var r=$W(e.pendingWriteTree_,t),i=qW(e.pendingWriteTree_,t);if(i){var s=new Zn(null);return r.snap!=null?s=s.set(Ne(),!0):bt(r.children,function(a){s=s.set(new Re(a),!0)}),El(e,new DW(r.path,s,n))}else return[]}function vh(e,t,n){return El(e,new Ig(bT(),t,n))}function SK(e,t,n){var r=Zn.fromObject(n);return El(e,new IT(bT(),t,r))}function kK(e,t){return El(e,new BL(bT(),t))}function CK(e,t,n){var r=RT(e,n);if(r){var i=xT(r),s=i.path,a=i.queryId,l=wn(s,t),c=new BL(TT(a),l);return PT(e,s,c)}else return[]}function pE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||tM(s,t))){var l=wK(s,t,n,r);yK(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(S,R){return zo(R)});if(h&&!p){var g=e.syncPointTree_.subtree(i);if(!g.isEmpty())for(var m=xK(g),y=0;y<m.length;++y){var w=m[y],I=w.query,E=iM(e,w);e.listenProvider_.startListening(sf(I),Iv(e,I),E.hashFn,E.onComplete)}}if(!p&&c.length>0&&!r)if(h){var T=null;e.listenProvider_.stopListening(sf(t),T)}else c.forEach(function(S){var R=e.queryToTagMap.get(Ag(S));e.listenProvider_.stopListening(sf(S),R)});PK(e,c)}return a}function NK(e,t,n,r){var i=RT(e,r);if(i!=null){var s=xT(i),a=s.path,l=s.queryId,c=wn(a,t),h=new Ig(TT(l),c,n);return PT(e,a,h)}else return[]}function AK(e,t,n,r){var i=RT(e,r);if(i){var s=xT(i),a=s.path,l=s.queryId,c=wn(a,t),h=Zn.fromObject(n),p=new IT(TT(l),c,h);return PT(e,a,p)}else return[]}function ER(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(I,E){var T=wn(I,r);i=i||Oo(E,T),s=s||zo(E)});var a=e.syncPointTree_.get(r);a?(s=s||zo(a),i=i||Oo(a,Ne())):(a=new XL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=fe.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(I,E){var T=Oo(E,Ne());T&&(i=i.updateImmediateChild(I,T))})}var h=tM(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=Ag(t);B(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var g=OK();e.queryToTagMap.set(p,g),e.tagToQueryMap.set(g,p)}var m=kg(e.pendingWriteTree_,r),y=_K(a,t,n,m,i,l);if(!h&&!s){var w=eM(a,t);y=y.concat(DK(e,t,w))}return y}function Ng(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=wn(a,t),h=Oo(l,c);if(h)return h});return HL(i,t,s,n,r)}function RK(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var g=wn(h,n);r=r||Oo(p,g)});var i=e.syncPointTree_.get(n);i?r=r||Oo(i,Ne()):(i=new XL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new qo(r,!0,!1):null,l=kg(e.pendingWriteTree_,t._path),c=JL(i,t,l,s?a.getNode():fe.EMPTY_NODE,s);return hK(c)}function El(e,t){return nM(t,e.syncPointTree_,null,kg(e.pendingWriteTree_,Ne()))}function nM(e,t,n,r){if(me(e.path))return rM(e,t,n,r);var i=t.get(Ne());n==null&&i!=null&&(n=Oo(i,Ne()));var s=[],a=ge(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=WL(r,a);s=s.concat(nM(l,c,h,p))}return i&&(s=s.concat(NT(i,e,r,n))),s}function rM(e,t,n,r){var i=t.get(Ne());n==null&&i!=null&&(n=Oo(i,Ne()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=WL(r,a),p=e.operationForChild(a);p&&(s=s.concat(rM(p,l,c,h)))}),i&&(s=s.concat(NT(i,e,r,n))),s}function iM(e,t){var n=t.query,r=Iv(e,n);return{hashFn:function(){var i=fK(t)||fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?CK(e,n._path,r):kK(e,n._path);var s=_H(i,n);return pE(e,n,null,s)}}}function Iv(e,t){var n=Ag(t);return e.queryToTagMap.get(n)}function Ag(e){return e._path.toString()+"$"+e._queryIdentifier}function RT(e,t){return e.tagToQueryMap.get(t)}function xT(e){var t=e.indexOf("$");return B(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Re(e.substr(0,t))}}function PT(e,t,n){var r=e.syncPointTree_.get(t);B(r,"Missing sync point for query tag that we're tracking");var i=kg(e.pendingWriteTree_,t);return NT(r,n,i,null)}function xK(e){return e.fold(function(t,n,r){if(n&&zo(n)){var i=Cg(n);return[i]}else{var s=[];return n&&(s=ZL(n)),bt(r,function(a,l){s=s.concat(l)}),s}})}function sf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(bK())(e._repo,e._path):e}function PK(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Ag(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function OK(){return TK++}function DK(e,t,n){var r=t._path,i=Iv(e,t),s=iM(e,n),a=e.listenProvider_.startListening(sf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)B(!zo(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(g,m,y){if(!me(g)&&m&&zo(m))return[Cg(m).query];var w=[];return m&&(w=w.concat(ZL(m).map(function(I){return I.query}))),bt(y,function(I,E){w=w.concat(E)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(sf(p),Iv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LK=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),MK=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ke(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Ng(this.syncTree_,this.path_)},e}(),FK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bR=function(e,t,n){if(!e||typeof e!="object")return e;if(B(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return jK(e[".sv"],t,n);if(typeof e[".sv"]=="object")return UK(e[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},jK=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+e)}},UK=function(e,t,n){e.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);var i=t.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},oM=function(e,t,n,r){return DT(t,new MK(n,e),r)},OT=function(e,t,n){return DT(e,new LK(t),n)};function DT(e,t,n){var r=e.getPriority().val(),i=bR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=bR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new Vu(l,Ye(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new Vu(i))),c.forEachChild(Ue,function(h,p){var g=DT(p,t.getImmediateChild(h),n);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LT=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Rg(e,t){for(var n=t instanceof Re?t:new Re(t),r=e,i=ge(n);i!==null;){var s=ea(r.node.children,i)||{children:{},childCount:0};r=new LT(i,r,s),n=Me(n),i=ge(n)}return r}function wa(e){return e.node.value}function MT(e,t){e.node.value=t,vE(e)}function sM(e){return e.node.childCount>0}function VK(e){return wa(e)===void 0&&!sM(e)}function xg(e,t){bt(e.node.children,function(n,r){t(new LT(n,e,r))})}function aM(e,t,n,r){n&&!r&&t(e),xg(e,function(i){aM(i,t,!0,r)}),n&&r&&t(e)}function BK(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function gh(e){return new Re(e.parent===null?e.name:gh(e.parent)+"/"+e.name)}function vE(e){e.parent!==null&&$K(e.parent,e.name,e)}function $K(e,t,n){var r=VK(n),i=Jn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,vE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qK=/[\[\].#$\/\u0000-\u001F\u007F]/,zK=/[\[\].#$\u0000-\u001F\u007F]/,P_=10*1024*1024,Pg=function(e){return typeof e=="string"&&e.length!==0&&!qK.test(e)},uM=function(e){return typeof e=="string"&&e.length!==0&&!zK.test(e)},HK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),uM(e)},Lf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Eg(e)||e&&typeof e=="object"&&Jn(e,".sv")},di=function(e,t,n,r){r&&t===void 0||mh(Mn(e,"value"),t,n)},mh=function(e,t,n){var r=n instanceof Re?new ZH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Cs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Cs(r)+" with contents = "+t.toString());if(Eg(t))throw new Error(e+"contains "+t.toString()+" "+Cs(r));if(typeof t=="string"&&t.length>P_/3&&wg(t)>P_)throw new Error(e+"contains a string greater than "+P_+" utf8 bytes "+Cs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(bt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Pg(a)))throw new Error(e+" contains an invalid key ("+a+") "+Cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eW(r,a),mh(e,l,r),tW(r)}),i&&s)throw new Error(e+' contains ".value" child '+Cs(r)+" in addition to actual children.")}},WK=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Pf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Pg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(JH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&ur(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},lM=function(e,t,n,r){if(!(r&&t===void 0)){var i=Mn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];bt(t,function(a,l){var c=new Re(a);if(mh(i,l,Ke(n,c)),vT(c)===".priority"&&!Lf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),WK(i,s)}},FT=function(e,t,n){if(!(n&&t===void 0)){if(Eg(t))throw new Error(Mn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Lf(t))throw new Error(Mn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},KK=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Mn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},yh=function(e,t,n,r){if(!(r&&n===void 0)&&!Pg(n))throw new Error(Mn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Mf=function(e,t,n,r){if(!(r&&n===void 0)&&!uM(n))throw new Error(Mn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mf(e,t,n,r)},lr=function(e,t){if(ge(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},cM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Pg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HK(n))throw new Error(Mn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},QK=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Mn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YK=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Og(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!gT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function jT(e,t,n){Og(e,n),fM(e,function(r){return gT(r,t)})}function yr(e,t,n){Og(e,n),fM(e,function(r){return ur(r,t)||ur(t,r)})}function fM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(XK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function XK(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();zs&&At("event: "+n.toString()),_l(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hM="repo_interrupt",JK=25,ZK=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mv(),this.transactionQueueTree_=new LT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function eG(e,t,n){if(e.stats_=dT(e.repoInfo_),e.forceRestClient_||EH())e.server_=new CW(e.repoInfo_,function(r,i,s,a){TR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return IR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Hs(e.repoInfo_,t,function(r,i,s,a){TR(e,r,i,s,a)},function(r){IR(e,r)},function(r){nG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=CH(e.repoInfo_,function(){return new PW(e.stats_,e.server_)}),e.infoData_=new NW,e.infoSyncTree_=new wR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=vh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),UT(e,"connected",!1),e.serverSyncTree_=new wR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);yr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function dM(e){var t=e.infoData_.getNode(new Re(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function _h(e){return FK({timestamp:dM(e)})}function TR(e,t,n,r,i){e.dataUpdateCount++;var s=new Re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=fv(n,function(m){return Ye(m)});a=AK(e.serverSyncTree_,s,l,i)}else{var c=Ye(n);a=NK(e.serverSyncTree_,s,c,i)}else if(r){var h=fv(n,function(m){return Ye(m)});a=SK(e.serverSyncTree_,s,h)}else{var p=Ye(n);a=vh(e.serverSyncTree_,s,p)}var g=s;a.length>0&&(g=zu(e,s)),yr(e.eventQueue_,g,a)}function tG(e,t){e.interceptServerDataCallback_=t}function IR(e,t){UT(e,"connected",t),t===!1&&oG(e)}function nG(e,t){bt(t,function(n,r){UT(e,n,r)})}function UT(e,t,n){var r=new Re("/.info/"+t),i=Ye(n);e.infoData_.updateSnapshot(r,i);var s=vh(e.infoSyncTree_,r,i);yr(e.eventQueue_,r,s)}function Dg(e){return e.nextWriteId_++}function rG(e,t){var n=RK(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Ye(r).withIndex(t._queryParams.getIndex()),s=vh(e.serverSyncTree_,t._path,i);return jT(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return bl(e,"get for query "+yt(t)+" failed: "+r),Promise.reject(new Error(r))})}function VT(e,t,n,r,i){bl(e,"set",{path:t.toString(),value:n,priority:r});var s=_h(e),a=Ye(n,r),l=Ng(e.serverSyncTree_,t),c=OT(a,l,s),h=Dg(e),p=AT(e.serverSyncTree_,t,c,h,!0);Og(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Ht("set at "+t+" failed: "+m);var I=To(e.serverSyncTree_,h,!w);yr(e.eventQueue_,t,I),Ho(e,i,m,y)});var g=$T(e,t);zu(e,g),yr(e.eventQueue_,g,[])}function iG(e,t,n,r){bl(e,"update",{path:t.toString(),value:n});var i=!0,s=_h(e),a={};if(bt(n,function(h,p){i=!1,a[h]=oM(Ke(t,h),Ye(p),e.serverSyncTree_,s)}),i)At("update() called with empty data.  Don't do anything."),Ho(e,r,"ok",void 0);else{var l=Dg(e),c=IK(e.serverSyncTree_,t,a,l);Og(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var g=h==="ok";g||Ht("update at "+t+" failed: "+h);var m=To(e.serverSyncTree_,l,!g),y=m.length>0?zu(e,t):t;yr(e.eventQueue_,y,m),Ho(e,r,h,p)}),bt(n,function(h){var p=$T(e,Ke(t,h));zu(e,p)}),yr(e.eventQueue_,t,[])}}function oG(e){bl(e,"onDisconnectEvents");var t=_h(e),n=mv();uE(e.onDisconnect_,Ne(),function(i,s){var a=oM(i,s,e.serverSyncTree_,t);wl(n,i,a)});var r=[];uE(n,Ne(),function(i,s){r=r.concat(vh(e.serverSyncTree_,i,s));var a=$T(e,i);zu(e,a)}),e.onDisconnect_=mv(),yr(e.eventQueue_,Ne(),r)}function sG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&aE(e.onDisconnect_,t),Ho(e,n,r,i)})}function SR(e,t,n,r){var i=Ye(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&wl(e.onDisconnect_,t,i),Ho(e,r,s,a)})}function aG(e,t,n,r,i){var s=Ye(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&wl(e.onDisconnect_,t,s),Ho(e,i,a,l)})}function uG(e,t,n,r){if(Jw(n)){At("onDisconnect().update() called with empty data.  Don't do anything."),Ho(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&bt(n,function(a,l){var c=Ye(l);wl(e.onDisconnect_,Ke(t,a),c)}),Ho(e,r,i,s)})}function lG(e,t,n){var r;ge(t._path)===".info"?r=ER(e.infoSyncTree_,t,n):r=ER(e.serverSyncTree_,t,n),jT(e.eventQueue_,t._path,r)}function gE(e,t,n){var r;ge(t._path)===".info"?r=pE(e.infoSyncTree_,t,n):r=pE(e.serverSyncTree_,t,n),jT(e.eventQueue_,t._path,r)}function pM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hM)}function cG(e){e.persistentConnection_&&e.persistentConnection_.resume(hM)}function fG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new VL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);bt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function hG(e,t){e.stats_.incrementCounter(t),OW(e.statsReporter_,t)}function bl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),At.apply(void 0,ve([r],qt(t)))}function Ho(e,t,n,r){t&&_l(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function dG(e,t,n,r,i,s){bl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:oL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=BT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{mh("transaction failed: Data returned ",c,a.path),a.status=0;var h=Rg(e.transactionQueueTree_,t),p=wa(h)||[];p.push(a),MT(h,p);var g=void 0;if(typeof c=="object"&&c!==null&&Jn(c,".priority"))g=ea(c,".priority"),B(Lf(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Ng(e.serverSyncTree_,t)||fe.EMPTY_NODE;g=m.getPriority().val()}var y=_h(e),w=Ye(c,g),I=OT(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=I,a.currentWriteId=Dg(e);var E=AT(e.serverSyncTree_,t,I,a.currentWriteId,a.applyLocally);yr(e.eventQueue_,t,E),Lg(e,e.transactionQueueTree_)}}function BT(e,t,n){return Ng(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function Lg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Mg(e,t),wa(t)){var n=gM(e,t);B(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&pG(e,gh(t),n)}else sM(t)&&xg(t,function(i){Lg(e,i)})}function pG(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=BT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];B(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=wn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),g=t;e.server_.put(g.toString(),p,function(m){bl(e,"transaction put response",{path:g.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],I=function(T){n[T].status=2,y=y.concat(To(e.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&w.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},E=0;E<n.length;E++)I(E);Mg(e,Rg(e.transactionQueueTree_,t)),Lg(e,e.transactionQueueTree_),yr(e.eventQueue_,t,y);for(var E=0;E<w.length;E++)_l(w[E])}else{if(m==="datastale")for(var E=0;E<n.length;E++)n[E].status===3?n[E].status=4:n[E].status=0;else{Ht("transaction at "+g.toString()+" failed: "+m);for(var E=0;E<n.length;E++)n[E].status=4,n[E].abortReason=m}zu(e,t)}},a)}function zu(e,t){var n=vM(e,t),r=gh(n),i=gM(e,n);return vG(e,i,r),r}function vG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],g=wn(n,p.path),m=!1,y;if(B(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(To(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=JK)m=!0,y="maxretry",i=i.concat(To(e.serverSyncTree_,p.currentWriteId,!0));else{var w=BT(e,p.path,a);p.currentInputSnapshot=w;var I=t[h].update(w.val());if(I!==void 0){mh("transaction failed: Data returned ",I,p.path);var E=Ye(I),T=typeof I=="object"&&I!=null&&Jn(I,".priority");T||(E=E.updatePriority(w.getPriority()));var S=p.currentWriteId,R=_h(e),P=OT(E,w,R);p.currentOutputSnapshotRaw=E,p.currentOutputSnapshotResolved=P,p.currentWriteId=Dg(e),a.splice(a.indexOf(S),1),i=i.concat(AT(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(To(e.serverSyncTree_,S,!0))}else m=!0,y="nodata",i=i.concat(To(e.serverSyncTree_,p.currentWriteId,!0))}yr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(M){setTimeout(M,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Mg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)_l(r[c]);Lg(e,e.transactionQueueTree_)}}function vM(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);n!==null&&wa(r)===void 0;)r=Rg(r,n),t=Me(t),n=ge(t);return r}function gM(e,t){var n=[];return mM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function mM(e,t,n){var r=wa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);xg(t,function(s){mM(e,s,n)})}function Mg(e,t){var n=wa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,MT(t,n.length>0?n:void 0)}xg(t,function(s){Mg(e,s)})}function $T(e,t){var n=gh(vM(e,t)),r=Rg(e.transactionQueueTree_,t);return BK(r,function(i){O_(e,i)}),O_(e,r),aM(r,function(i){O_(e,i)}),n}function O_(e,t){var n=wa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(B(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(B(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(To(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?MT(t,void 0):n.length=s+1,yr(e.eventQueue_,gh(t),i);for(var a=0;a<r.length;a++)_l(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function mG(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Ot(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Ht("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var mE=function(e,t){var n=yG(e),r=n.namespace;n.domain==="firebase.com"&&fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pH();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Re(n.pathString)}},yG=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=gG(e.substring(p,g)));var m=mG(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+yt(this.snapshot.exportVal())},e}(),_M=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _G=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new xt;return sG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){lr("OnDisconnect.remove",this._path);var t=new xt;return SR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){lr("OnDisconnect.set",this._path),di("OnDisconnect.set",t,this._path,!1);var n=new xt;return SR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){lr("OnDisconnect.setWithPriority",this._path),di("OnDisconnect.setWithPriority",t,this._path,!1),FT("OnDisconnect.setWithPriority",n,!1);var r=new xt;return aG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){lr("OnDisconnect.update",this._path),lM("OnDisconnect.update",t,this._path,!1);var n=new xt;return uG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return me(this._path)?null:vT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new gi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=cR(this._queryParams),n=lT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return cR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=de(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=gT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+XH(this._path)},e}();function Fg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yo(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===si){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Ui)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==hi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ue){if(t!=null&&!Lf(t)||n!=null&&!Lf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(B(e.getIndex()instanceof yT||e.getIndex()===_T,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var gi=function(e){G(t,e);function t(n,r){return e.call(this,n,r,new UL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=NL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Er),Ug=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Re(t),r=na(this.ref,t);return new e(this._node.getChild(n),r,Ue)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,na(n.ref,i),Ue))})},e.prototype.hasChild=function(t){var n=new Re(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function EM(e,t){return e=de(e),e._checkNotDeleted("ref"),t!==void 0?na(e._root,t):e._root}function kR(e,t){e=de(e),e._checkNotDeleted("refFromURL");var n=mE(t,e._repo.repoInfo_.nodeAdmin);cM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&fi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),EM(e,n.path.toString())}function na(e,t){return e=de(e),ge(e._path)===null?GK("child","path",t,!1):Mf("child","path",t,!1),new gi(e._repo,Ke(e._path,t))}function wG(e,t){e=de(e),lr("push",e._path),di("push",t,e._path,!0);var n=dM(e._repo),r=_W(n),i=na(e,r),s=na(e,r),a;return t!=null?a=qT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function EG(e){return lr("remove",e._path),qT(e,null)}function qT(e,t){e=de(e),lr("set",e._path),di("set",t,e._path,!1);var n=new xt;return VT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function bG(e,t){e=de(e),lr("setPriority",e._path),FT("setPriority",t,!1);var n=new xt;return VT(e._repo,Ke(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function TG(e,t,n){if(lr("setWithPriority",e._path),di("setWithPriority",t,e._path,!1),FT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new xt;return VT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function IG(e,t){lM("update",t,e._path,!1);var n=new xt;return iG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function SG(e){return e=de(e),rG(e._repo,e).then(function(t){return new Ug(t,new gi(e._repo,e._path),e._queryParams.getIndex())})}var bM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new yM("value",this,new Ug(t.snapshotNode,new gi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _M(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),TM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _M(this,t,n):null},e.prototype.createEvent=function(t,n){B(t.childName!=null,"Child events should have a childName.");var r=na(new gi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new yM(t.type,this,new Ug(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function wh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,g){gE(e._repo,e,h),a(p,g)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new wM(n,s||void 0),h=t==="value"?new bM(c):new TM(t,c);return lG(e._repo,e,h),function(){return gE(e._repo,e,h)}}function yE(e,t,n,r){return wh(e,"value",t,n,r)}function CR(e,t,n,r){return wh(e,"child_added",t,n,r)}function NR(e,t,n,r){return wh(e,"child_changed",t,n,r)}function AR(e,t,n,r){return wh(e,"child_moved",t,n,r)}function RR(e,t,n,r){return wh(e,"child_removed",t,n,r)}function xR(e,t,n){var r=null,i=n?new wM(n):null;t==="value"?r=new bM(i):t&&(r=new TM(t,i)),gE(e._repo,e,r)}var qr=function(){function e(){}return e}(),IM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){di("endAt",this._value,n._path,!0);var r=sE(n._queryParams,this._value,this._key);if(jg(r),Yo(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(n._repo,n._path,r,n._orderByCalled)},t}(qr);function kG(e,t){return yh("endAt","key",t,!0),new IM(e,t)}var CG=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){di("endBefore",this._value,n._path,!1);var r=kW(n._queryParams,this._value,this._key);if(jg(r),Yo(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(n._repo,n._path,r,n._orderByCalled)},t}(qr);function NG(e,t){return yh("endBefore","key",t,!0),new CG(e,t)}var SM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){di("startAt",this._value,n._path,!0);var r=oE(n._queryParams,this._value,this._key);if(jg(r),Yo(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Er(n._repo,n._path,r,n._orderByCalled)},t}(qr);function AG(e,t){return e===void 0&&(e=null),yh("startAt","key",t,!0),new SM(e,t)}var RG=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){di("startAfter",this._value,n._path,!1);var r=SW(n._queryParams,this._value,this._key);if(jg(r),Yo(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Er(n._repo,n._path,r,n._orderByCalled)},t}(qr);function xG(e,t){return yh("startAfter","key",t,!0),new RG(e,t)}var PG=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(n._repo,n._path,TW(n._queryParams,this._limit),n._orderByCalled)},t}(qr);function OG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new PG(e)}var DG=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(n._repo,n._path,IW(n._queryParams,this._limit),n._orderByCalled)},t}(qr);function LG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new DG(e)}var MG=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Fg(n,"orderByChild");var r=new Re(this._path);if(me(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new yT(r),s=Tg(n._queryParams,i);return Yo(s),new Er(n._repo,n._path,s,!0)},t}(qr);function FG(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mf("orderByChild","path",e,!1),new MG(e)}var jG=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Fg(n,"orderByKey");var r=Tg(n._queryParams,si);return Yo(r),new Er(n._repo,n._path,r,!0)},t}(qr);function UG(){return new jG}var VG=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Fg(n,"orderByPriority");var r=Tg(n._queryParams,Ue);return Yo(r),new Er(n._repo,n._path,r,!0)},t}(qr);function BG(){return new VG}var $G=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Fg(n,"orderByValue");var r=Tg(n._queryParams,_T);return Yo(r),new Er(n._repo,n._path,r,!0)},t}(qr);function qG(){return new $G}var zG=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(di("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IM(this._value,this._key)._apply(new SM(this._value,this._key)._apply(n))},t}(qr);function HG(e,t){return yh("equalTo","key",t,!0),new zG(e,t)}function Pr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=de(e);try{for(var a=Ot(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}gK(gi);EK(gi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WG="FIREBASE_DATABASE_EMULATOR_HOST",_E={},kM=!1;function KG(e,t,n,r){e.repoInfo_=new hT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function CM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=mE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=lH[WG]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=mE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new nf(nf.OWNER):new TH(e.name,e.options,t);cM("Invalid Firebase Database URL",a),me(a.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");var g=QG(l,e,p,new bH(e.name,n));return new XG(g,e)}function GG(e,t){var n=_E[t];(!n||n[e.key]!==e)&&fi("Database "+t+"("+e.repoInfo_+") has already been deleted."),pM(e),delete n[e.key]}function QG(e,t,n,r){var i=_E[t.name];i||(i={},_E[t.name]=i);var s=i[e.toURLString()];return s&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ZK(e,kM,n,r),i[e.toURLString()]=s,s}function YG(e){kM=e}var XG=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(eG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new gi(this._repo,Ne())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(GG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&fi("Cannot call "+t+" on a deleted database.")},e}();function JG(e,t,n,r){r===void 0&&(r={}),e=de(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&fi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nf(nf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:nT(r.mockUserToken,e.app.options.projectId);s=new nf(a)}KG(i,t,n,s)}function ZG(e){e=de(e),e._checkNotDeleted("goOffline"),pM(e._repo)}function e8(e){e=de(e),e._checkNotDeleted("goOnline"),cG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t8={".sv":"timestamp"};function n8(){return t8}function r8(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function o8(e,t,n){var r;if(e=de(e),lr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new xt,a=function(c,h,p){var g=null;c?s.reject(c):(g=new Ug(p,new gi(e._repo,e._path),Ue),s.resolve(new i8(h,g)))},l=yE(e,function(){});return dG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s8=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),Nt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),Nt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),Nt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),Nt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Ht("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),Mf("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),Mf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),Nt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new Fs(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),NM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),Nt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,g){n.call(l.context,new af(s.database,p),g)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return yE(this._delegate,c,h),n;case"child_added":return CR(this._delegate,c,h),n;case"child_removed":return RR(this._delegate,c,h),n;case"child_changed":return NR(this._delegate,c,h),n;case"child_moved":return AR(this._delegate,c,h),n;default:throw new Error(Mn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),KK("Query.off",t,!0),Nt("Query.off","callback",n,!0),HA("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,xR(this._delegate,t,i)}else xR(this._delegate,t)},e.prototype.get=function(){var t=this;return SG(this._delegate).then(function(n){return new af(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),Nt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new xt,c=function(p,g){var m=new af(s.database,p);n&&n.call(a.context,m,g),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":yE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":CR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":RR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":NR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":AR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Mn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Pr(this._delegate,OG(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Pr(this._delegate,LG(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Pr(this._delegate,FG(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Pr(this._delegate,UG()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Pr(this._delegate,BG()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Pr(this._delegate,qG()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Pr(this._delegate,AG(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Pr(this._delegate,xG(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Pr(this._delegate,kG(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Pr(this._delegate,NG(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Pr(this._delegate,HG(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Nt(t,"cancel",i.cancel,!0),i.context=r,HA(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Mn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Fs(this.database,new gi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Fs=function(e){G(t,e);function t(n,r){var i=e.call(this,n,new Er(r._repo,r._path,new UL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,na(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),Nt("Reference.set","onComplete",r,!0);var i=qT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Ht("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lr("Reference.update",this._delegate._path),Nt("Reference.update","onComplete",r,!0);var a=IG(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),Nt("Reference.setWithPriority","onComplete",i,!0);var s=TG(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),Nt("Reference.remove","onComplete",n,!0);var r=EG(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),Nt("Reference.transaction","transactionUpdate",n,!1),Nt("Reference.transaction","onComplete",r,!0),QK("Reference.transaction","applyLocally",i,!0);var a=o8(this._delegate,n,{applyLocally:i}).then(function(l){return new a8(l.committed,new af(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),Nt("Reference.setPriority","onComplete",r,!0);var i=bG(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),Nt("Reference.push","onComplete",r,!0);var s=wG(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return lr("Reference.onDisconnect",this._delegate._path),new s8(new _G(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(NM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),JG(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof Fs){var n=kR(this._delegate,t.toString());return new Fs(this,n)}else{var n=EM(this._delegate,t);return new Fs(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=kR(this._delegate,t);return new Fs(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),ZG(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),e8(this._delegate)},e.ServerValue={TIMESTAMP:n8(),increment:function(t){return r8(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=function(){As.forceDisallow(),pT.forceAllow()},l8=function(){pT.forceDisallow()},c8=function(){return As.isAvailable()},f8=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},h8=function(e,t){fG(e._delegate._repo,t)},d8=function(e,t){hG(e._delegate._repo,t)},p8=function(e){return e._delegate._repo.dataUpdateCount},v8=function(e,t){return tG(e._delegate._repo,t)};function g8(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;rL(r);var c=new XD("auth-internal",new JD("database-standalone"));return c.setComponent(new ln("auth-internal",function(){return i},"PRIVATE")),{instance:new Sv(CM(t,c,void 0,n,l),t),namespace:s}}var m8=Object.freeze({__proto__:null,forceLongPolling:u8,forceWebSockets:l8,isWebSocketsAvailable:c8,setSecurityDebugCallback:f8,stats:h8,statsIncrementCounter:d8,dataUpdateCount:p8,interceptServerData:v8,initStandalone:g8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y8=Hs;Hs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Hs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var _8=SL,w8=function(e){var t=Hs.prototype.put;return Hs.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Hs.prototype.put=t}},E8=hT,b8=function(e){return e._delegate._queryIdentifier},T8=function(e){YG(e)},I8=Object.freeze({__proto__:null,DataConnection:y8,RealTimeConnection:_8,hijackHash:w8,ConnectionTarget:E8,queryIdentifier:b8,forceRestClient:T8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S8=Sv.ServerValue;function k8(e){rL(e.SDK_VERSION),e.INTERNAL.registerComponent(new ln("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Sv(CM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Fs,Query:NM,Database:Sv,DataSnapshot:af,enableLogging:aL,INTERNAL:m8,ServerValue:S8,TEST_ACCESS:I8}).setMultipleInstances(!0)),e.registerVersion(cH,fH)}k8(te);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wE=function(e,t){return wE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wE(e,t)};function C8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function AM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var N8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,zT=zT||{},ce=N8||self;function kv(){}function EE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Eh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function A8(e){return Object.prototype.hasOwnProperty.call(e,D_)&&e[D_]||(e[D_]=++R8)}var D_="closure_uid_"+(1e9*Math.random()>>>0),R8=0;function x8(e,t,n){return e.call.apply(e.bind,arguments)}function P8(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=x8:Wt=P8,Wt.apply(null,arguments)}function sp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function Xo(){this.s=this.s,this.o=this.o}var O8=0;Xo.prototype.s=!1;Xo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),O8!=0)&&A8(this)};Xo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var RM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function D8(e){e:{for(var t=S2,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function PR(e){return Array.prototype.concat.apply([],arguments)}function HT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cv(e){return/^[\s\xa0]*$/.test(e)}var OR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yn(e,t){return e.indexOf(t)!=-1}function L_(e,t){return e<t?-1:e>t?1:0}var _n;e:{var DR=ce.navigator;if(DR){var LR=DR.userAgent;if(LR){_n=LR;break e}}_n=""}function WT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function PM(e){var t={};for(var n in e)t[n]=e[n];return t}var MR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<MR.length;s++)n=MR[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function KT(e){return KT[" "](e),e}KT[" "]=kv;function L8(e){var t=j8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var M8=yn(_n,"Opera"),Hu=yn(_n,"Trident")||yn(_n,"MSIE"),DM=yn(_n,"Edge"),bE=DM||Hu,LM=yn(_n,"Gecko")&&!(yn(_n.toLowerCase(),"webkit")&&!yn(_n,"Edge"))&&!(yn(_n,"Trident")||yn(_n,"MSIE"))&&!yn(_n,"Edge"),F8=yn(_n.toLowerCase(),"webkit")&&!yn(_n,"Edge");function MM(){var e=ce.document;return e?e.documentMode:void 0}var Nv;e:{var M_="",F_=function(){var e=_n;if(LM)return/rv:([^\);]+)(\)|;)/.exec(e);if(DM)return/Edge\/([\d\.]+)/.exec(e);if(Hu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(F8)return/WebKit\/(\S+)/.exec(e);if(M8)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(F_&&(M_=F_?F_[1]:""),Hu){var j_=MM();if(j_!=null&&j_>parseFloat(M_)){Nv=String(j_);break e}}Nv=M_}var j8={};function U8(){return L8(function(){for(var e=0,t=OR(String(Nv)).split("."),n=OR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=L_(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||L_(s[2].length==0,a[2].length==0)||L_(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var TE;if(ce.document&&Hu){var FR=MM();TE=FR||parseInt(Nv,10)||void 0}else TE=void 0;var V8=TE,B8=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",kv,t),ce.removeEventListener("test",kv,t)}catch{}return e}();function on(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};function Ff(e,t){if(on.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(LM){e:{try{KT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$8[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ff.Z.h.call(this)}}Yt(Ff,on);var $8={2:"touch",3:"pen",4:"mouse"};Ff.prototype.h=function(){Ff.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bh="closure_listenable_"+(1e6*Math.random()|0),q8=0;function z8(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++q8,this.ca=this.fa=!1}function Vg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bg(e){this.src=e,this.g={},this.h=0}Bg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=SE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new z8(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function IE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=RM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function SE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var GT="closure_lm_"+(1e6*Math.random()|0),U_={};function FM(e,t,n,r,i){if(r&&r.once)return UM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)FM(e,t[s],n,r,i);return null}return n=XT(n),e&&e[bh]?e.N(t,n,Eh(r)?!!r.capture:!!r,i):jM(e,t,n,!1,r,i)}function jM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Eh(i)?!!i.capture:!!i,l=YT(e);if(l||(e[GT]=l=new Bg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=H8(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)B8||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(BM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function H8(){function e(n){return t.call(e.src,e.listener,n)}var t=W8;return e}function UM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)UM(e,t[s],n,r,i);return null}return n=XT(n),e&&e[bh]?e.O(t,n,Eh(r)?!!r.capture:!!r,i):jM(e,t,n,!0,r,i)}function VM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)VM(e,t[s],n,r,i);else r=Eh(r)?!!r.capture:!!r,n=XT(n),e&&e[bh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=SE(s,n,r,i),-1<n&&(Vg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=YT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=SE(t,n,r,i)),(n=-1<e?t[e]:null)&&QT(n))}function QT(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[bh])IE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(BM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=YT(t))?(IE(n,e),n.h==0&&(n.src=null,t[GT]=null)):Vg(e)}}}function BM(e){return e in U_?U_[e]:U_[e]="on"+e}function W8(e,t){if(e.ca)e=!0;else{t=new Ff(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&QT(e),e=n.call(r,t)}return e}function YT(e){return e=e[GT],e instanceof Bg?e:null}var V_="__closure_events_fn_"+(1e9*Math.random()>>>0);function XT(e){return typeof e=="function"?e:(e[V_]||(e[V_]=function(t){return e.handleEvent(t)}),e[V_])}function Lt(){Xo.call(this),this.i=new Bg(this),this.P=this,this.I=null}Yt(Lt,Xo);Lt.prototype[bh]=!0;Lt.prototype.removeEventListener=function(e,t,n,r){VM(this,e,t,n,r)};function Kt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new on(t,e);else if(t instanceof on)t.target=t.target||e;else{var i=t;t=new on(r,e),OM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ap(a,r,!0,t)&&i}if(a=t.g=e,i=ap(a,r,!0,t)&&i,i=ap(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=ap(a,r,!1,t)&&i}Lt.prototype.M=function(){if(Lt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Vg(n[r]);delete e.g[t],e.h--}}this.I=null};Lt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Lt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ap(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&IE(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var JT=ce.JSON.stringify;function K8(){var e=qM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var G8=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=$M.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),$M=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Q8},function(e){return e.reset()}),Q8=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Y8(e){ce.setTimeout(function(){throw e},0)}function ZT(e,t){kE||X8(),CE||(kE(),CE=!0),qM.add(e,t)}var kE;function X8(){var e=ce.Promise.resolve(void 0);kE=function(){e.then(J8)}}var CE=!1,qM=new G8;function J8(){for(var e;e=K8();){try{e.h.call(e.g)}catch(n){Y8(n)}var t=$M;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}CE=!1}function $g(e,t){Lt.call(this),this.h=e||1,this.g=t||ce,this.j=Wt(this.kb,this),this.l=Date.now()}Yt($g,Lt);Y=$g.prototype;Y.da=!1;Y.S=null;Y.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(eI(this),this.start()))}};Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function eI(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Y.M=function(){$g.Z.M.call(this),eI(this),delete this.g};function tI(e,t,n){if(typeof e=="function")n&&(e=Wt(e,n));else if(e&&typeof e.handleEvent=="function")e=Wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function zM(e){e.g=tI(function(){e.g=null,e.i&&(e.i=!1,zM(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var Z8=function(e){C8(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:zM(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xo);function jf(e){Xo.call(this),this.h=e,this.g={}}Yt(jf,Xo);var jR=[];function HM(e,t,n,r){Array.isArray(n)||(n&&(jR[0]=n.toString()),n=jR);for(var i=0;i<n.length;i++){var s=FM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function WM(e){WT(e.g,function(t,n){this.g.hasOwnProperty(n)&&QT(t)},e),e.g={}}jf.prototype.M=function(){jf.Z.M.call(this),WM(this)};jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qg(){this.g=!0}qg.prototype.Aa=function(){this.g=!1};function e2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function t2(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function mu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+r2(e,n)+(r?" "+r:"")})}function n2(e,t){e.info(function(){return"TIMEOUT: "+t})}qg.prototype.info=function(){};function r2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return JT(n)}catch{return t}}var Ea={},UR=null;function zg(){return UR=UR||new Lt}Ea.Ma="serverreachability";function KM(e){on.call(this,Ea.Ma,e)}Yt(KM,on);function Uf(e){var t=zg();Kt(t,new KM(t))}Ea.STAT_EVENT="statevent";function GM(e,t){on.call(this,Ea.STAT_EVENT,e),this.stat=t}Yt(GM,on);function En(e){var t=zg();Kt(t,new GM(t,e))}Ea.Na="timingevent";function QM(e,t){on.call(this,Ea.Na,e),this.size=t}Yt(QM,on);function Th(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var Hg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},YM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nI(){}nI.prototype.h=null;function VR(e){return e.h||(e.h=e.i())}function XM(){}var Ih={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rI(){on.call(this,"d")}Yt(rI,on);function iI(){on.call(this,"c")}Yt(iI,on);var NE;function Wg(){}Yt(Wg,nI);Wg.prototype.g=function(){return new XMLHttpRequest};Wg.prototype.i=function(){return{}};NE=new Wg;function Sh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new jf(this),this.P=i2,e=bE?125:void 0,this.W=new $g(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new JM}function JM(){this.i=null,this.g="",this.h=!1}var i2=45e3,AE={},Av={};Y=Sh.prototype;Y.setTimeout=function(e){this.P=e};function RE(e,t,n){e.K=1,e.v=Gg(Vi(t)),e.s=n,e.U=!0,ZM(e,null)}function ZM(e,t){e.F=Date.now(),kh(e),e.A=Vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sF(n.h,"t",r),e.C=0,n=e.l.H,e.h=new JM,e.g=kF(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Z8(Wt(e.Ia,e,e.g),e.O)),HM(e.V,e.g,"readystatechange",e.gb),t=e.H?PM(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Uf(),e2(e.j,e.u,e.A,e.m,e.X,e.s)}Y.gb=function(e){e=e.target;var t=this.L;t&&Pi(e)==3?t.l():this.Ia(e)};Y.Ia=function(e){try{if(e==this.g)e:{var t=Pi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||bE||this.g&&(this.h.h||this.g.ga()||zR(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Uf(3):Uf(2)),Kg(this);var i=this.g.ba();this.N=i;t:if(eF(this)){var s=zR(this.g);e="";var a=s.length,l=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),uf(this);var c="";break t}this.h.i=new ce.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,t2(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cv(h)){var g=h;break t}}g=null}if(i=g)mu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xE(this,i);else{this.i=!1,this.o=3,En(12),js(this),uf(this);break e}}this.U?(tF(this,t,c),bE&&this.i&&t==3&&(HM(this.V,this.W,"tick",this.fb),this.W.start())):(mu(this.j,this.m,c,null),xE(this,c)),t==4&&js(this),this.i&&!this.I&&(t==4?bF(this.l,this):(this.i=!1,kh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),js(this),uf(this)}}}catch{}finally{}};function eF(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function tF(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=o2(e,n),i==Av){t==4&&(e.o=4,En(14),r=!1),mu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==AE){e.o=4,En(15),mu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else mu(e.j,e.m,i,null),xE(e,i);eF(e)&&i!=Av&&i!=AE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dI(t),t.L=!0,En(11))):(mu(e.j,e.m,n,"[Invalid Chunked Response]"),js(e),uf(e))}Y.fb=function(){if(this.g){var e=Pi(this.g),t=this.g.ga();this.C<t.length&&(Kg(this),tF(this,e,t),this.i&&e!=4&&kh(this))}};function o2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Av:(n=Number(t.substring(n,r)),isNaN(n)?AE:(r+=1,r+n>t.length?Av:(t=t.substr(r,n),e.C=r+n,t)))}Y.cancel=function(){this.I=!0,js(this)};function kh(e){e.Y=Date.now()+e.P,nF(e,e.P)}function nF(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Th(Wt(e.eb,e),t)}function Kg(e){e.B&&(ce.clearTimeout(e.B),e.B=null)}Y.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(n2(this.j,this.A),this.K!=2&&(Uf(),En(17)),js(this),this.o=2,uf(this)):nF(this,this.Y-e)};function uf(e){e.l.G==0||e.I||bF(e.l,e)}function js(e){Kg(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,eI(e.W),WM(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||PE(n.i,e))){if(n.I=e.N,!e.J&&PE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ov(n),Xg(n);else break e;hI(n),En(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Th(Wt(n.ab,n),6e3));if(1>=lF(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Us(n,11)}else if((e.J||n.g==e)&&Ov(n),!Cv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=r.i;!g.g&&(yn(p,"spdy")||yn(p,"quic")||yn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(aI(g,g.h),g.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,We(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=SF(r,r.H?r.la:null,r.W),y.J){cF(r.i,y);var w=y,I=r.K;I&&w.setTimeout(I),w.B&&(Kg(w),kh(w)),r.g=y}else wF(r);0<n.l.length&&Jg(n)}else s[0]!="stop"&&s[0]!="close"||Us(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Us(n,7):fI(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Uf(4)}catch{}}function s2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(EE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function oI(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(EE(e)||typeof e=="string")xM(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(EE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=s2(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Tl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Y=Tl.prototype;Y.R=function(){sI(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Y.T=function(){return sI(this),this.g.concat()};function sI(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ra(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ra(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Y.get=function(e,t){return ra(this.h,e)?this.h[e]:t};Y.set=function(e,t){ra(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Y.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function ra(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var rF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function a2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ia(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ia){this.g=t!==void 0?t:e.g,Rv(this,e.j),this.s=e.s,xv(this,e.i),Pv(this,e.m),this.l=e.l,t=e.h;var n=new Vf;n.i=t.i,t.g&&(n.g=new Tl(t.g),n.h=t.h),BR(this,n),this.o=e.o}else e&&(n=String(e).match(rF))?(this.g=!!t,Rv(this,n[1]||"",!0),this.s=lf(n[2]||""),xv(this,n[3]||"",!0),Pv(this,n[4]),this.l=lf(n[5]||"",!0),BR(this,n[6]||"",!0),this.o=lf(n[7]||"")):(this.g=!!t,this.h=new Vf(null,this.g))}ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bc(t,$R,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Bc(t,$R,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Bc(n,n.charAt(0)=="/"?h2:f2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bc(n,p2)),e.join("")};function Vi(e){return new ia(e)}function Rv(e,t,n){e.j=n?lf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xv(e,t,n){e.i=n?lf(t,!0):t}function Pv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function BR(e,t,n){t instanceof Vf?(e.h=t,v2(e.h,e.g)):(n||(t=Bc(t,d2)),e.h=new Vf(t,e.g))}function We(e,t,n){e.h.set(t,n)}function Gg(e){return We(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function u2(e){return e instanceof ia?Vi(e):new ia(e,void 0)}function l2(e,t,n,r){var i=new ia(null,void 0);return e&&Rv(i,e),t&&xv(i,t),n&&Pv(i,n),r&&(i.l=r),i}function lf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,c2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function c2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var $R=/[#\/\?@]/g,f2=/[#\?:]/g,h2=/[#\?]/g,d2=/[#\?@]/g,p2=/#/g;function Vf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jo(e){e.g||(e.g=new Tl,e.h=0,e.i&&a2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Y=Vf.prototype;Y.add=function(e,t){Jo(this),this.i=null,e=Il(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function iF(e,t){Jo(e),t=Il(e,t),ra(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ra(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sI(e)))}function oF(e,t){return Jo(e),t=Il(e,t),ra(e.g.h,t)}Y.forEach=function(e,t){Jo(this),this.g.forEach(function(n,r){xM(n,function(i){e.call(t,i,r,this)},this)},this)};Y.T=function(){Jo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Y.R=function(e){Jo(this);var t=[];if(typeof e=="string")oF(this,e)&&(t=PR(t,this.g.get(Il(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=PR(t,e[n])}return t};Y.set=function(e,t){return Jo(this),this.i=null,e=Il(this,e),oF(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Y.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function sF(e,t,n){iF(e,t),0<n.length&&(e.i=null,e.g.set(Il(e,t),HT(n)),e.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Il(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function v2(e,t){t&&!e.j&&(Jo(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iF(this,r),sF(this,i,n))},e)),e.j=t}var g2=function(){function e(t,n){this.h=t,this.g=n}return e}();function aF(e){this.l=e||m2,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m2=10;function uF(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function lF(e){return e.h?1:e.g?e.g.size:0}function PE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function aI(e,t){e.g?e.g.add(t):e.h=t}function cF(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}aF.prototype.cancel=function(){var e,t;if(this.i=fF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=AM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function fF(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=AM(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return HT(e.i)}function uI(){}uI.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};uI.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function y2(){this.g=new uI}function _2(e,t,n){var r=n||"";try{oI(e,function(i,s){var a=i;Eh(i)&&(a=JT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function w2(e,t){var n=new qg;if(ce.Image){var r=new Image;r.onload=sp(up,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sp(up,n,r,"TestLoadImage: error",!1,t),r.onabort=sp(up,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sp(up,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function up(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ch(e){this.l=e.$b||null,this.j=e.ib||!1}Yt(Ch,nI);Ch.prototype.g=function(){return new Qg(this.l,this.j)};Ch.prototype.i=function(e){return function(){return e}}({});function Qg(e,t){Lt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(Qg,Lt);var lI=0;Y=Qg.prototype;Y.open=function(e,t){if(this.readyState!=lI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bf(this)};Y.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ce).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nh(this)),this.readyState=lI};Y.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bf(this)),this.g&&(this.readyState=3,Bf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hF(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function hF(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Y.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nh(this):Bf(this),this.readyState==3&&hF(this)}};Y.Ua=function(e){this.g&&(this.response=this.responseText=e,Nh(this))};Y.Ta=function(e){this.g&&(this.response=e,Nh(this))};Y.ha=function(){this.g&&Nh(this)};function Nh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bf(e)}Y.setRequestHeader=function(e,t){this.v.append(e,t)};Y.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Bf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Qg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var E2=ce.JSON.parse;function ht(e){Lt.call(this),this.headers=new Tl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dF,this.K=this.L=!1}Yt(ht,Lt);var dF="",b2=/^https?$/i,T2=["POST","PUT"];Y=ht.prototype;Y.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NE.g(),this.C=this.u?VR(this.u):VR(NE),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){qR(this,s);return}e=n||"";var i=new Tl(this.headers);r&&oI(r,function(s,a){i.set(a,s)}),r=D8(i.T()),n=ce.FormData&&e instanceof ce.FormData,!(0<=RM(T2,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gF(this),0<this.B&&((this.K=I2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=tI(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qR(this,s)}};function I2(e){return Hu&&U8()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function S2(e){return e.toLowerCase()=="content-type"}Y.pa=function(){typeof zT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))};function qR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pF(e),Yg(e)}function pF(e){e.D||(e.D=!0,Kt(e,"complete"),Kt(e,"error"))}Y.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kt(this,"complete"),Kt(this,"abort"),Yg(this))};Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yg(this,!0)),ht.Z.M.call(this)};Y.Fa=function(){this.s||(this.F||this.v||this.l?vF(this):this.cb())};Y.cb=function(){vF(this)};function vF(e){if(e.h&&typeof zT<"u"&&(!e.C[1]||Pi(e)!=4||e.ba()!=2)){if(e.v&&Pi(e)==4)tI(e.Fa,0,e);else if(Kt(e,"readystatechange"),Pi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(rF)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!b2.test(s?s.toLowerCase():"")}r=i}if(r)Kt(e,"complete"),Kt(e,"success");else{e.m=6;try{var l=2<Pi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",pF(e)}}finally{Yg(e)}}}}function Yg(e,t){if(e.g){gF(e);var n=e.g,r=e.C[0]?kv:null;e.g=null,e.C=null,t||Kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function gF(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ce.clearTimeout(e.A),e.A=null)}function Pi(e){return e.g?e.g.readyState:0}Y.ba=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}};Y.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),E2(t)}};function zR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dF:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Y.Da=function(){return this.m};Y.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function k2(e){var t="";return WT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function cI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=k2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):We(e,t,n))}function Oc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mF(e){this.za=0,this.l=[],this.h=new qg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oc("baseRetryDelayMs",5e3,e),this.$a=Oc("retryDelaySeedMs",1e4,e),this.Ya=Oc("forwardChannelMaxRetries",2,e),this.ra=Oc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new aF(e&&e.concurrentRequestLimit),this.Ca=new y2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Y=mF.prototype;Y.ma=8;Y.G=1;function fI(e){if(yF(e),e.G==3){var t=e.V++,n=Vi(e.F);We(n,"SID",e.J),We(n,"RID",t),We(n,"TYPE","terminate"),Ah(e,n),t=new Sh(e,e.h,t,void 0),t.K=2,t.v=Gg(Vi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.v.toString(),"")),!n&&ce.Image&&(new Image().src=t.v,n=!0),n||(t.g=kF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),kh(t)}IF(e)}Y.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Xg(e){e.g&&(dI(e),e.g.cancel(),e.g=null)}function yF(e){Xg(e),e.u&&(ce.clearTimeout(e.u),e.u=null),Ov(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ce.clearTimeout(e.m),e.m=null)}function B_(e,t){e.l.push(new g2(e.Za++,t)),e.G==3&&Jg(e)}function Jg(e){uF(e.i)||e.m||(e.m=!0,ZT(e.Ha,e),e.C=0)}function C2(e,t){return lF(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Th(Wt(e.Ha,e,t),TF(e,e.C)),e.C++,!0)}Y.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=PM(n),OM(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_F(this,t,r),i=Vi(this.F),We(i,"RID",e),We(i,"CVER",22),this.D&&We(i,"X-HTTP-Session-Id",this.D),Ah(this,i),this.o&&n&&cI(i,this.o,n),aI(this.i,t),this.Ra&&We(i,"TYPE","init"),this.ja?(We(i,"$req",r),We(i,"SID","null"),t.$=!0,RE(t,i,null)):RE(t,i,r),this.G=2}}else this.G==3&&(e?HR(this,e):this.l.length==0||uF(this.i)||HR(this))};function HR(e,t){var n;t?n=t.m:n=e.V++;var r=Vi(e.F);We(r,"SID",e.J),We(r,"RID",n),We(r,"AID",e.U),Ah(e,r),e.o&&e.s&&cI(r,e.o,e.s),n=new Sh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_F(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),aI(e.i,n),RE(n,r,t)}function Ah(e,t){e.j&&oI({},function(n,r){We(t,r,n)})}function _F(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Wt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{_2(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function wF(e){e.g||e.u||(e.Y=1,ZT(e.Ga,e),e.A=0)}function hI(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Th(Wt(e.Ga,e),TF(e,e.A)),e.A++,!0)}Y.Ga=function(){if(this.u=null,EF(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Th(Wt(this.bb,this),e)}};Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),Xg(this),EF(this))};function dI(e){e.B!=null&&(ce.clearTimeout(e.B),e.B=null)}function EF(e){e.g=new Sh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);We(t,"RID","rpc"),We(t,"SID",e.J),We(t,"CI",e.N?"0":"1"),We(t,"AID",e.U),Ah(e,t),We(t,"TYPE","xmlhttp"),e.o&&e.s&&cI(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gg(Vi(t)),n.s=null,n.U=!0,ZM(n,e)}Y.ab=function(){this.v!=null&&(this.v=null,Xg(this),hI(this),En(19))};function Ov(e){e.v!=null&&(ce.clearTimeout(e.v),e.v=null)}function bF(e,t){var n=null;if(e.g==t){Ov(e),dI(e),e.g=null;var r=2}else if(PE(e.i,t))n=t.D,cF(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=zg(),Kt(r,new QM(r,n)),Jg(e)}else wF(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&C2(e,t)||r==2&&hI(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Us(e,5);break;case 4:Us(e,10);break;case 3:Us(e,6);break;default:Us(e,2)}}}function TF(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Us(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Wt(e.jb,e);n||(n=new ia("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Rv(n,"https"),Gg(n)),w2(n.toString(),r)}else En(2);e.G=0,e.j&&e.j.va(t),IF(e),yF(e)}Y.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function IF(e){e.G=0,e.I=-1,e.j&&((fF(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,HT(e.l),e.l.length=0),e.j.ua())}function SF(e,t,n){var r=u2(n);if(r.i!="")t&&xv(r,t+"."+r.i),Pv(r,r.m);else{var i=ce.location;r=l2(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&WT(e.aa,function(s,a){We(r,a,s)}),t=e.D,n=e.sa,t&&n&&We(r,t,n),We(r,"VER",e.ma),Ah(e,r),r}function kF(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ht(new Ch({ib:!0})):new ht(e.qa),t.L=e.H,t}function CF(){}Y=CF.prototype;Y.xa=function(){};Y.wa=function(){};Y.va=function(){};Y.ua=function(){};Y.Oa=function(){};function Dv(){if(Hu&&!(10<=Number(V8)))throw Error("Environmental error: no available transport.")}Dv.prototype.g=function(e,t){return new er(e,t)};function er(e,t){Lt.call(this),this.g=new mF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Cv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cv(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Sl(this)}Yt(er,Lt);er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ZT(Wt(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=SF(e,null,e.W),Jg(e)};er.prototype.close=function(){fI(this.g)};er.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,B_(this.g,t)}else this.v?(t={},t.__data__=JT(e),B_(this.g,t)):B_(this.g,e)};er.prototype.M=function(){this.g.j=null,delete this.j,fI(this.g),delete this.g,er.Z.M.call(this)};function NF(e){rI.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yt(NF,rI);function AF(){iI.call(this),this.status=1}Yt(AF,iI);function Sl(e){this.g=e}Yt(Sl,CF);Sl.prototype.xa=function(){Kt(this.g,"a")};Sl.prototype.wa=function(e){Kt(this.g,new NF(e))};Sl.prototype.va=function(e){Kt(this.g,new AF)};Sl.prototype.ua=function(){Kt(this.g,"b")};Dv.prototype.createWebChannel=Dv.prototype.g;er.prototype.send=er.prototype.u;er.prototype.open=er.prototype.m;er.prototype.close=er.prototype.close;Hg.NO_ERROR=0;Hg.TIMEOUT=8;Hg.HTTP_ERROR=6;YM.COMPLETE="complete";XM.EventType=Ih;Ih.OPEN="a";Ih.CLOSE="b";Ih.ERROR="c";Ih.MESSAGE="d";Lt.prototype.listen=Lt.prototype.N;ht.prototype.listenOnce=ht.prototype.O;ht.prototype.getLastError=ht.prototype.La;ht.prototype.getLastErrorCode=ht.prototype.Da;ht.prototype.getStatus=ht.prototype.ba;ht.prototype.getResponseJson=ht.prototype.Qa;ht.prototype.getResponseText=ht.prototype.ga;ht.prototype.send=ht.prototype.ea;var N2=function(){return new Dv},A2=function(){return zg()},$_=Hg,R2=YM,x2=Ea,WR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},P2=Ch,lp=XM,O2=ht,D2={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Gn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return G(t,e),t}(Error),Vr=new ma("@firebase/firestore");function OE(){return Vr.logLevel}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vr.logLevel<=_e.DEBUG){var r=t.map(pI);Vr.debug.apply(Vr,ve(["Firestore (8.10.1): "+e],r))}}function ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vr.logLevel<=_e.ERROR){var r=t.map(pI);Vr.error.apply(Vr,ve(["Firestore (8.10.1): "+e],r))}}function $f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vr.logLevel<=_e.WARN){var r=t.map(pI);Vr.warn.apply(Vr,ve(["Firestore (8.10.1): "+e],r))}}function pI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ft(t),new Error(t)}function ae(e,t){e||ee()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=L2(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function Wu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function xF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ye=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Fn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ba(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PF(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ee(),r===void 0?r=t.length-n:r>t.length-n&&ee(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(OF),M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$r=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return M2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(OF),Ku=function(){function e(t){this.fields=t,t.sort($r.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Wu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Tn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Tn.EMPTY_BYTE_STRING=new Tn("");var F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(e){if(ae(!!e),typeof e=="string"){var t=0,n=F2.exec(e);if(ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ct(e.seconds),nanos:ct(e.nanos)}}function ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Gu(e){return typeof e=="string"?Tn.fromBase64String(e):Tn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DF(e){var t=e.mapValue.fields.__previous_value__;return vI(t)?DF(t):t}function qf(e){var t=Wo(e.mapValue.fields.__local_write_time__.timestampValue);return new Fn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(e){return e==null}function Lv(e){return e===0&&1/e==-1/0}function LF(e){return typeof e=="number"&&Number.isInteger(e)&&!Lv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ae.fromString(t))},e.fromName=function(t){return new e(Ae.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ae.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ae.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ae(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vI(e)?4:10:ee()}function pi(e,t){var n=oa(e);if(n!==oa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qf(e).isEqual(qf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Wo(r.timestampValue),a=Wo(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Gu(r.bytesValue).isEqual(Gu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ct(r.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ct(r.integerValue)===ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=ct(r.doubleValue),a=ct(i.doubleValue);return s===a?Lv(s)===Lv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Wu(e.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(KR(s)!==KR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!pi(s[l],a[l])))return!1;return!0}(e,t);default:return ee()}}function zf(e,t){return(e.values||[]).find(function(n){return pi(n,t)})!==void 0}function Qu(e,t){var n=oa(e),r=oa(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=ct(i.integerValue||i.doubleValue),l=ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return GR(e.timestampValue,t.timestampValue);case 4:return GR(qf(e),qf(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Gu(i),l=Gu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=be(ct(i.latitude),ct(s.latitude));return a!==0?a:be(ct(i.longitude),ct(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Qu(a[c],l[c]);if(h)return h}return be(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var g=be(l[p],h[p]);if(g!==0)return g;var m=Qu(a[l[p]],c[h[p]]);if(m!==0)return m}return be(l.length,h.length)}(e.mapValue,t.mapValue);default:throw ee()}}function GR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=Wo(e),r=Wo(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function gI(e){return DE(e)}function DE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Wo(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=DE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+DE(r.fields[c])}return i+"}"}(e.mapValue):ee();var t,n}function Mv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function LE(e){return!!e&&"integerValue"in e}function mI(e){return!!e&&"arrayValue"in e}function QR(e){return!!e&&"nullValue"in e}function YR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pp(e){return!!e&&"mapValue"in e}function cf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ba(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=cf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=cf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Pp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cf(n)},e.prototype.setAll=function(t){var n=this,r=$r.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=cf(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return pi(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Pp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ba(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(cf(this.value))},e}();function MF(e){var t=[];return ba(e.fields,function(n,r){var i=new $r([n]);if(Pp(r)){var s=MF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new Ku(t)}var Qt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ye.min(),Kn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Kn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Kn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),j2=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new j2(e,t,n,r,i,s,a)}function Rh(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+gI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Ta(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=jv(t.startAt)),t.endAt&&(n+="|ub:",n+=jv(t.endAt)),t.h=n}return t.h}function Zg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!W2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!pi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ZR(e.startAt,t.startAt)&&ZR(e.endAt,t.endAt)}function Fv(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Qn=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return G(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new U2(n,r,i):r==="array-contains"?new $2(n,i):r==="in"?new q2(n,i):r==="not-in"?new z2(n,i):r==="array-contains-any"?new H2(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new V2(n,i):new B2(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Qu(r,this.value)):r!==null&&oa(this.value)===oa(r)&&this.m(Qu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ee()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),U2=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ne.fromName(i.referenceValue),s}return G(t,e),t.prototype.matches=function(n){var r=ne.comparator(n.key,this.key);return this.m(r)},t}(Qn),V2=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=FF("in",r),i}return G(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Qn),B2=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=FF("not-in",r),i}return G(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Qn);function FF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ne.fromName(r.referenceValue)})}var $2=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return mI(r)&&zf(r.arrayValue,this.value)},t}(Qn),q2=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&zf(this.value.arrayValue,r)},t}(Qn),z2=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return G(t,e),t.prototype.matches=function(n){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!zf(this.value.arrayValue,r)},t}(Qn),H2=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return G(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!mI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return zf(r.value.arrayValue,s)})},t}(Qn),Hf=function(e,t){this.position=e,this.before=t};function jv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return gI(t)}).join(",")}var xu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function W2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function JR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ne.comparator(ne.fromName(a.referenceValue),n.key):Qu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ZR(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function jF(e,t,n,r,i,s,a,l){return new Wi(e,t,n,r,i,s,a,l)}function kl(e){return new Wi(e)}function Op(e){return!Ta(e.limit)&&e.limitType==="F"}function Uv(e){return!Ta(e.limit)&&e.limitType==="L"}function yI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _I(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function wI(e){return e.collectionGroup!==null}function Yu(e){var t=W(e);if(t.p===null){t.p=[];var n=_I(t),r=yI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new xu(n)),t.p.push(new xu($r.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new xu($r.keyField(),c))}}}return t.p}function _r(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=XR(t.path,t.collectionGroup,Yu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Yu(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new xu(s.field,a))}var l=t.endAt?new Hf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Hf(t.startAt.position,!t.startAt.before):null;t.T=XR(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function UF(e,t,n){return new Wi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xh(e,t){return Zg(_r(e),_r(t))&&e.limitType===t.limitType}function VF(e){return Rh(_r(e))+"|lt:"+e.limitType}function ME(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+gI(i.value);var i}).join(", ")+"]"),Ta(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+jv(t.startAt)),t.endAt&&(n+=", endAt: "+jv(t.endAt)),"Target("+n+")"}(_r(e))+"; limitType="+e.limitType+")"}function Ph(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!JR(n.startAt,Yu(n),r))&&(!n.endAt||!JR(n.endAt,Yu(n),r))}(e,t)}function BF(e){return function(t,n){for(var r=!1,i=0,s=Yu(e);i<s.length;i++){var a=s[i],l=K2(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function K2(e,t,n){var r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Qu(l,c):ee()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lv(t)?"-0":t}}function qF(e){return{integerValue:""+e}}function zF(e,t){return LF(t)?qF(t):$F(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var em=function(){this._=void 0};function G2(e,t,n){return e instanceof Xu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof sa?WF(e,t):e instanceof aa?KF(e,t):function(r,i){var s=HF(r,i),a=ex(s)+ex(r.A);return LE(s)&&LE(r.A)?qF(a):$F(r.R,a)}(e,t)}function Q2(e,t,n){return e instanceof sa?WF(e,t):e instanceof aa?KF(e,t):n}function HF(e,t){return e instanceof Ju?LE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Xu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t}(em),sa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(em);function WF(e,t){for(var n=GF(t),r=function(a){n.some(function(l){return pi(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var aa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(em);function KF(e,t){for(var n=GF(t),r=function(a){n=n.filter(function(l){return!pi(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ju=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return G(t,e),t}(em);function ex(e){return ct(e.integerValue||e.doubleValue)}function GF(e){return mI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oh=function(e,t){this.field=e,this.transform=t},Y2=function(e,t){this.version=e,this.transformResults=t},nn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Dp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var tm=function(){};function X2(e,t,n){e instanceof Dh?function(r,i,s){var a=r.value.clone(),l=rx(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Zo?function(r,i,s){if(Dp(r.precondition,i)){var a=rx(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(QF(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function FE(e,t,n){e instanceof Dh?function(r,i,s){if(Dp(r.precondition,i)){var a=r.value.clone(),l=ix(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(nx(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Zo?function(r,i,s){if(Dp(r.precondition,i)){var a=ix(r.fieldTransforms,s,i),l=i.data;l.setAll(QF(r)),l.setAll(a),i.convertToFoundDocument(nx(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Dp(r.precondition,i)&&i.convertToNoDocument(ye.min())}(e,t)}function J2(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=HF(s.transform,a||null);l!=null&&(n==null&&(n=Kn.empty()),n.set(s.field,l))}return n||null}function tx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Wu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof sa&&h instanceof sa||c instanceof aa&&h instanceof aa?Wu(c.elements,h.elements,pi):c instanceof Ju&&h instanceof Ju?pi(c.A,h.A):c instanceof Xu&&h instanceof Xu}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function nx(e){return e.isFoundDocument()?e.version:ye.min()}var Dh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return G(t,e),t}(tm),Zo=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return G(t,e),t}(tm);function QF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function rx(e,t,n){var r=new Map;ae(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Q2(a,l,n[i]))}return r}function ix(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,G2(l,c,t))}return r}var lt,Ie,Lh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return G(t,e),t}(tm),EI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return G(t,e),t}(tm),Z2=function(e){this.count=e};function YF(e){switch(e){case D.OK:return ee();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ee()}}function XF(e){if(e===void 0)return ft("GRPC error has no .code"),D.UNKNOWN;switch(e){case lt.OK:return D.OK;case lt.CANCELLED:return D.CANCELLED;case lt.UNKNOWN:return D.UNKNOWN;case lt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case lt.INTERNAL:return D.INTERNAL;case lt.UNAVAILABLE:return D.UNAVAILABLE;case lt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case lt.NOT_FOUND:return D.NOT_FOUND;case lt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case lt.ABORTED:return D.ABORTED;case lt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case lt.DATA_LOSS:return D.DATA_LOSS;default:return ee()}}(Ie=lt||(lt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function e(t,n){this.comparator=t,this.root=n||vo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new cp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new cp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new cp(this.root,t,this.comparator,!0)},e}(),cp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),vo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();var t=this.left.check();if(t!==this.right.check())throw ee();return t+(this.isRed()?0:1)},e}();vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ee()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ee()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new vo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et=function(){function e(t){this.comparator=t,this.data=new fn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ox(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ox(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ox=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),e7=new fn(ne.comparator);function pr(){return e7}var t7=new fn(ne.comparator);function jE(){return t7}var n7=new fn(ne.comparator);function JF(){return n7}var r7=new Et(ne.comparator);function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=r7,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var i7=new Et(be);function nm(){return i7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,TI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ye.min(),r,nm(),pr(),De())},e}(),TI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Tn.EMPTY_BYTE_STRING,n,De(),De(),De())},e}(),Lp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ZF=function(e,t){this.targetId=e,this.V=t},ej=function(e,t,n,r){n===void 0&&(n=Tn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},sx=function(){function e(){this.S=0,this.D=ux(),this.C=Tn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=De(),n=De(),r=De();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new TI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=ux()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),o7=function(){function e(t){this.W=t,this.G=new Map,this.H=pr(),this.J=ax(),this.Y=new Et(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:ee()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Fv(s))if(r===0){var a=new ne(s.path);this.tt(n,a,Qt.newNoDocument(a,ye.min()))}else ae(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Fv(c.target)){var h=new ne(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Qt.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=De();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new bI(t,r,this.Y,this.H,i);return this.H=pr(),this.J=ax(),this.Y=new Et(be),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new sx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Et(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new sx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ax(){return new fn(ne.comparator)}function ux(){return new fn(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s7={asc:"ASCENDING",desc:"DESCENDING"},a7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u7=function(e,t){this.databaseId=e,this.I=t};function Wf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tj(e,t){return e.I?t.toBase64():t.toUint8Array()}function l7(e,t){return Wf(e,t.toTimestamp())}function Pt(e){return ae(!!e),ye.fromTimestamp(function(t){var n=Wo(t);return new Fn(n.seconds,n.nanos)}(e))}function II(e,t){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function nj(e){var t=Ae.fromString(e);return ae(cj(t)),t}function Kf(e,t){return II(e.databaseId,t.path)}function ai(e,t){var n=nj(t);if(n.get(1)!==e.databaseId.projectId)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(ij(n))}function UE(e,t){return II(e.databaseId,t)}function rj(e){var t=nj(e);return t.length===4?Ae.emptyPath():ij(t)}function Gf(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ij(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function lx(e,t,n){return{name:Kf(e,t),fields:n.value.mapValue.fields}}function oj(e,t,n){var r=ai(e,t.name),i=Pt(t.updateTime),s=new Kn({mapValue:{fields:t.fields}}),a=Qt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Vv(e,t){var n;if(t instanceof Dh)n={update:lx(e,t.key,t.value)};else if(t instanceof Lh)n={delete:Kf(e,t.key)};else if(t instanceof Zo)n={update:lx(e,t.key,t.data),updateMask:p7(t.fieldMask)};else{if(!(t instanceof EI))return ee();n={verify:Kf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Xu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ju)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ee()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:l7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(e,t.precondition)),n}function cx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?nn.updateTime(Pt(h.updateTime)):h.exists!==void 0?nn.exists(h.exists):nn.none()}(t.currentDocument):nn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,g){var m=null;if("setToServerValue"in g)ae(g.setToServerValue==="REQUEST_TIME"),m=new Xu;else if("appendMissingElements"in g){var y=g.appendMissingElements.values||[];m=new sa(y)}else if("removeAllFromArray"in g){var w=g.removeAllFromArray.values||[];m=new aa(w)}else"increment"in g?m=new Ju(p,g.increment):ee();var I=$r.fromServerFormat(g.fieldPath);return new Oh(I,m)}(e,h)}):[];if(t.update){t.update.name;var i=ai(e,t.update.name),s=new Kn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new Ku(p.map(function(g){return $r.fromServerFormat(g)}))}(t.updateMask);return new Zo(i,s,a,n,r)}return new Dh(i,s,n,r)}if(t.delete){var l=ai(e,t.delete);return new Lh(l,n)}if(t.verify){var c=ai(e,t.verify);return new EI(c,n)}return ee()}function sj(e,t){return{documents:[UE(e,t.path)]}}function aj(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=UE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=UE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(YR(p.value))return{unaryFilter:{field:ru(p.field),op:"IS_NAN"}};if(QR(p.value))return{unaryFilter:{field:ru(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(YR(p.value))return{unaryFilter:{field:ru(p.field),op:"IS_NOT_NAN"}};if(QR(p.value))return{unaryFilter:{field:ru(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(p.field),op:f7(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:ru(h.field),direction:c7(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Ta(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=fx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=fx(t.endAt)),n}function uj(e){var t=rj(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=lj(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new xu(yu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var c=null;n.limit&&(c=function(g){var m;return Ta(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var h=null;n.startAt&&(h=hx(n.startAt));var p=null;return n.endAt&&(p=hx(n.endAt)),jF(t,i,l,a,c,"F",h,p)}function lj(e){return e?e.unaryFilter!==void 0?[d7(e)]:e.fieldFilter!==void 0?[h7(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return lj(t)}).reduce(function(t,n){return t.concat(n)}):ee():[]}function fx(e){return{before:e.before,values:e.position}}function hx(e){var t=!!e.before,n=e.values||[];return new Hf(n,t)}function c7(e){return s7[e]}function f7(e){return a7[e]}function ru(e){return{fieldPath:e.canonicalString()}}function yu(e){return $r.fromServerFormat(e.fieldPath)}function h7(e){return Qn.create(yu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}function d7(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yu(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yu(e.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yu(e.unaryFilter.field);return Qn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yu(e.unaryFilter.field);return Qn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ee()}}function p7(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function cj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dx(t)),t=v7(e.get(n),t);return dx(t)}function v7(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function dx(e){return e+""}function Oi(e){var t=e.length;if(ae(t>=2),t===2)return ae(e.charAt(0)===""&&e.charAt(1)===""),Ae.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ee(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:ee()}s=a+2}return new Ae(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g7=function(e,t){this.seconds=e,this.nanoseconds=t},Hn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Hn.store="owner",Hn.key="owner";var Do=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Do.store="mutationQueues",Do.keyPath="userId";var Be=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Be.store="mutations",Be.keyPath="batchId",Be.userMutationsIndex="userMutationsIndex",Be.userMutationsKeyPath=["userId","batchId"];var en=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Br(n)]},e.key=function(t,n,r){return[t,Br(n),r]},e}();en.store="documentMutations",en.PLACEHOLDER=new en;var m7=function(e,t){this.path=e,this.readTime=t},y7=function(e,t){this.path=e,this.version=t},Ze=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ze.store="remoteDocuments",Ze.readTimeIndex="readTimeIndex",Ze.readTimeIndexPath="readTime",Ze.collectionReadTimeIndex="collectionReadTimeIndex",Ze.collectionReadTimeIndexPath=["parentPath","readTime"];var ri=function(e){this.byteSize=e};ri.store="remoteDocumentGlobal",ri.key="remoteDocumentGlobalKey";var On=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var zt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};zt.store="targetDocuments",zt.keyPath=["targetId","path"],zt.documentTargetsIndex="documentTargetsIndex",zt.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Ws=function(e,t){this.collectionId=e,this.parent=t};Ws.store="collectionParents",Ws.keyPath=["collectionId","parent"];var Mi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Mi.store="clientMetadata",Mi.keyPath="clientId";var Zu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Zu.store="bundles",Zu.keyPath="bundleId";var el=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};el.store="namedQueries",el.keyPath="name";var _7=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[Do.store,Be.store,en.store,Ze.store,On.store,Hn.store,Wn.store,zt.store]),[Mi.store])),[ri.store])),[Ws.store])),[Zu.store,el.store]),fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hj=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),cn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),dj=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new cn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new ff(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=SI(i.target.error);r.ft.reject(new ff(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new ff(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new E7(n)},e}(),tl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Zs())===12.2&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return q("SimpleDb","Removing database:",t),Rs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Zs(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=D2)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new ff(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new j(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ff(t,h))},l.onupgradeneeded=function(c){q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var g,m,y,w,I;return N(this,function(E){switch(E.label){case 0:++a,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=E.sent(),g=dj.open(c.db,t,s?"readonly":"readwrite",r),m=i(g).catch(function(T){return g.abort(T),V.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,g.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return w=E.sent(),I=w.name!=="FirebaseError"&&a<3,q("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),c.close(),I?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),w7=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Rs(this.Pt.delete())},e}(),ff=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return G(t,e),t}(j);function Ia(e){return e.name==="IndexedDbTransactionError"}var E7=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Rs(r)},e.prototype.add=function(t){return q("SimpleDb","ADD",this.store.name,t,t),Rs(this.store.add(t))},e.prototype.get=function(t){var n=this;return Rs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return q("SimpleDb","DELETE",this.store.name,t),Rs(this.store.delete(t))},e.prototype.count=function(){return q("SimpleDb","COUNT",this.store.name),Rs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(r,i){n.onerror=function(s){var a=SI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new w7(l),h=n(l.primaryKey,l.value,c);if(h instanceof V){var p=h.catch(function(g){return c.done(),V.reject(g)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Rs(e){return new V(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=SI(r.target.error);n(i)}})}var px=!1;function SI(e){var t=tl._t(Zs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return px||(px=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return G(t,e),t}(hj);function Vn(e,t){var n=W(e);return tl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&X2(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&FE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&FE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ye.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},De())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wu(this.mutations,t.mutations,function(n,r){return tx(n,r)})&&Wu(this.baseMutations,t.baseMutations,function(n,r){return tx(n,r)})},e}(),b7=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ae(t.mutations.length===r.length);for(var i=JF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),rm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ye.min()),a===void 0&&(a=ye.min()),l===void 0&&(l=Tn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),pj=function(e){this.Lt=e};function VE(e,t){if(t.document)return oj(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ne.fromSegments(t.noDocument.path),r=rl(t.noDocument.readTime),i=Qt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ne.fromSegments(t.unknownDocument.path);return r=rl(t.unknownDocument.version),Qt.newUnknownDocument(s,r)}return ee()}function gx(e,t,n){var r=CI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(g,m){return{name:Kf(g,m.key),fields:m.data.value.mapValue.fields,updateTime:Wf(g,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ze(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=nl(t.version);return a=t.hasCommittedMutations,new Ze(null,new m7(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=nl(t.version);return new Ze(new y7(h,p),null,null,!0,r,i)}return ee()}function CI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vj(e){var t=new Fn(e[0],e[1]);return ye.fromTimestamp(t)}function nl(e){var t=e.toTimestamp();return new g7(t.seconds,t.nanoseconds)}function rl(e){var t=new Fn(e.seconds,e.nanoseconds);return ye.fromTimestamp(t)}function lu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return cx(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return cx(e.Lt,c)}),l=Fn.fromMillis(t.localWriteTimeMs);return new kI(t.batchId,l,n,a)}function $c(e){var t,n,r=rl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?rl(e.lastLimboFreeSnapshotVersion):ye.min();return e.query.documents!==void 0?(ae((n=e.query).documents.length===1),t=_r(kl(rj(n.documents[0])))):t=function(s){return _r(uj(s))}(e.query),new rm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tn.fromBase64String(e.resumeToken))}function gj(e,t){var n,r=nl(t.snapshotVersion),i=nl(t.lastLimboFreeSnapshotVersion);n=Fv(t.target)?sj(e.Lt,t.target):aj(e.Lt,t.target);var s=t.resumeToken.toBase64();return new On(t.targetId,Rh(t.target),r,s,t.sequenceNumber,i,n)}function NI(e){var t=uj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?UF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T7=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return mx(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:rl(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return mx(t).put({bundleId:(r=n).id,createTime:nl(Pt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return yx(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:NI(i.bundledQuery),readTime:rl(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return yx(t).put(function(r){return{name:r.name,readTime:nl(Pt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function mx(e){return Vn(e,Zu.store)}function yx(e){return Vn(e,el.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=function(){function e(){this.Bt=new AI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),AI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Et(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Et(Ae.comparator)).toArray()},e}(),S7=function(){function e(){this.qt=new AI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Br(s)};return _x(t).put(a)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[xF(n),""],!1,!0);return _x(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Oi(c.parent))}return r})},e}();function _x(e){return Vn(e,Ws.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(e,t,n){var r=e.store(Be.store),i=e.store(en.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,I,E){return l++,E.delete()});s.push(c.next(function(){ae(l===1)}));for(var h=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],y=en.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return V.waitFor(s).next(function(){return h})}function Bv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ee();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);var k7=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ae(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uo(t).$t({index:Be.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=cu(t),l=uo(t);return l.add({}).next(function(c){ae(typeof c=="number");for(var h=new kI(c,n,r,i),p=function(T,S,R){var P=R.baseMutations.map(function(O){return Vv(T.Lt,O)}),M=R.mutations.map(function(O){return Vv(T.Lt,O)});return new Be(S,R.batchId,R.localWriteTime.toMillis(),P,M)}(s.R,s.userId,h),g=[],m=new Et(function(T,S){return be(T.canonicalString(),S.canonicalString())}),y=0,w=i;y<w.length;y++){var I=w[y],E=en.key(s.userId,I.key.path,c);m=m.add(I.key.path.popLast()),g.push(l.put(p)),g.push(a.put(E,en.PLACEHOLDER))}return m.forEach(function(T){g.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),V.waitFor(g).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return uo(t).get(n).next(function(i){return i?(ae(i.userId===r.userId),lu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return uo(t).$t({index:Be.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ae(c.batchId>=i),a=lu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return uo(t).$t({index:Be.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uo(t).Nt(Be.userMutationsIndex,r).next(function(i){return i.map(function(s){return lu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=en.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return cu(t).$t({range:s},function(l,c,h){var p=l[0],g=l[1],m=l[2],y=Oi(g);if(p===r.userId&&n.path.isEqual(y))return uo(t).get(m).next(function(w){if(!w)throw ee();ae(w.userId===r.userId),a.push(lu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Et(be),s=[];return n.forEach(function(a){var l=en.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=cu(t).$t({range:c},function(p,g,m){var y=p[0],w=p[1],I=p[2],E=Oi(w);y===r.userId&&a.path.isEqual(E)?i=i.add(I):m.done()});s.push(h)}),V.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=en.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new Et(be);return cu(t).$t({range:l},function(h,p,g){var m=h[0],y=h[1],w=h[2],I=Oi(y);m===r.userId&&i.isPrefixOf(I)?I.length===s&&(c=c.add(w)):g.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(uo(t).get(a).next(function(l){if(l===null)throw ee();ae(l.userId===r.userId),i.push(lu(r.R,l))}))}),V.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return mj(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var i=IDBKeyRange.lowerBound(en.prefixForUser(n.userId)),s=[];return cu(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=Oi(a[1]);s.push(h)}else c.done()}).next(function(){ae(s.length===0)})})},e.prototype.containsKey=function(t,n){return yj(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return _j(t).get(this.userId).next(function(r){return r||new Do(n.userId,-1,"")})},e}();function yj(e,t,n){var r=en.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return cu(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],g=l[1];l[2],p===t&&g===i&&(a=!0),h.done()}).next(function(){return a})}function uo(e){return Vn(e,Be.store)}function cu(e){return Vn(e,en.store)}function _j(e){return Vn(e,Do.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),C7=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new $v(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ye.fromTimestamp(new Fn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return iu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ae(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return iu(t).$t(function(l,c){var h=$c(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return V.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return iu(t).$t(function(r,i){var s=$c(i);n(s)})},e.prototype.Xt=function(t){return Ex(t).get(Wn.key).next(function(n){return ae(n!==null),n})},e.prototype.Zt=function(t,n){return Ex(t).put(Wn.key,n)},e.prototype.te=function(t,n){return iu(t).put(gj(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Rh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return iu(t).$t({range:i,index:On.queryTargetsIndexName},function(a,l,c){var h=$c(l);Zg(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=go(t);return n.forEach(function(l){var c=Br(l.path);s.push(a.put(new zt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=go(t);return V.forEach(n,function(a){var l=Br(a.path);return V.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=go(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=go(t),s=De();return i.$t({range:r,Ft:!0},function(a,l,c){var h=Oi(a[1]),p=new ne(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Br(n.path),i=IDBKeyRange.bound([r],[xF(r)],!1,!0),s=0;return go(t).$t({index:zt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return iu(t).get(n).next(function(r){return r?$c(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(e){return Vn(e,On.store)}function Ex(e){return Vn(e,Wn.store)}function go(e){return Vn(e,zt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==fj)throw e;return q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=be(n,i);return a===0?be(r,s):a}var N7=function(){function e(t){this.ne=t,this.buffer=new Et(bx),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();bx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),A7=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ia(i=s.sent())?(q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Sa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),R7=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(Gn.o);var i=new N7(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(wx)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),wx):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),OE()<=_e.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-g)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),x7=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new R7(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return fp(t,r)},e.prototype.removeReference=function(t,n,r){return fp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return fp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return _j(r).Ot(function(a){return yj(r,a,i).next(function(l){return l&&(s=!0),V.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),go(t).delete([0,Br(l.path)])})});s.push(h)}}).next(function(){return V.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return fp(t,n)},e.prototype.we=function(t,n){var r,i=go(t),s=Gn.o;return i.$t({index:zt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==Gn.o&&n(new ne(Oi(r)),s),s=p,r=h):s=Gn.o}).next(function(){s!==Gn.o&&n(new ne(Oi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function fp(e,t){return go(e).put(function(n,r){return new zt(0,Br(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){ba(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return PF(this.inner)},e}(),wj=function(){function e(){this.changes=new Cl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ye.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Qt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),P7=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return ho(t).put(hp(n),r)},e.prototype.removeEntry=function(t,n){var r=ho(t),i=hp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return ho(t).get(hp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return ho(t).get(hp(n)).next(function(i){return{document:r.ye(n,i),size:Bv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=pr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=pr(),s=new fn(ne.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,Bv(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ho(t).$t({range:i},function(l,c,h){for(var p=ne.fromSegments(l);a&&ne.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=pr(),a=n.path.length+1,l={};if(r.isEqual(ye.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=CI(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=Ze.collectionReadTimeIndex}return ho(t).$t(l,function(g,m,y){if(g.length===a){var w=VE(i.R,m);n.path.isPrefixOf(w.key.path)?Ph(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new O7(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Tx(t).get(ri.key).next(function(n){return ae(!!n),n})},e.prototype.me=function(t,n){return Tx(t).put(ri.key,n)},e.prototype.ye=function(t,n){if(n){var r=VE(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ye.min()))return r}return Qt.newInvalidDocument(t)},e}(),O7=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Cl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Et(function(l,c){return be(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=gx(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var g=Bv(p);s+=g-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=gx(r.Ie.R,Qt.newNoDocument(l,ye.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),V.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(wj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e){return Vn(e,ri.store)}function ho(e){return Vn(e,Ze.store)}function hp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D7=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ae(r<i&&r>=0&&i<=11);var a=new dj("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Hn.store)}(t),function(c){c.createObjectStore(Do.store,{keyPath:Do.keyPath}),c.createObjectStore(Be.store,{keyPath:Be.keyPath,autoIncrement:!0}).createIndex(Be.userMutationsIndex,Be.userMutationsKeyPath,{unique:!0}),c.createObjectStore(en.store)}(t),Ix(t),function(c){c.createObjectStore(Ze.store)}(t));var l=V.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(zt.store),c.deleteObjectStore(On.store),c.deleteObjectStore(Wn.store)}(t),Ix(t)),l=l.next(function(){return function(c){var h=c.store(Wn.store),p=new Wn(0,0,ye.min().toTimestamp(),0);return h.put(Wn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Be.store).Nt().next(function(p){c.deleteObjectStore(Be.store),c.createObjectStore(Be.store,{keyPath:Be.keyPath,autoIncrement:!0}).createIndex(Be.userMutationsIndex,Be.userMutationsKeyPath,{unique:!0});var g=h.store(Be.store),m=p.map(function(y){return g.put(y)});return V.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Mi.store,{keyPath:Mi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(ri.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(Ze.store);h.createIndex(Ze.readTimeIndex,Ze.readTimeIndexPath,{unique:!1}),h.createIndex(Ze.collectionReadTimeIndex,Ze.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(Zu.store,{keyPath:Zu.keyPath})})(t),function(c){c.createObjectStore(el.store,{keyPath:el.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Ze.store).$t(function(r,i){n+=Bv(i)}).next(function(){var r=new ri(n);return t.store(ri.store).put(ri.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Do.store),i=t.store(Be.store);return r.Nt().next(function(s){return V.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Be.userMutationsIndex,l).next(function(c){return V.forEach(c,function(h){ae(h.userId===a.userId);var p=lu(n.R,h);return mj(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(zt.store),r=t.store(Ze.store);return t.store(Wn.store).get(Wn.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Ae(a),h=function(p){return[0,Br(p)]}(c);s.push(n.get(h).next(function(p){return p?V.resolve():function(g){return n.put(new zt(0,Br(g),i.highestListenSequenceNumber))}(c)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ws.store,{keyPath:Ws.keyPath});var r=n.store(Ws.store),i=new AI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Br(c)})}};return n.store(Ze.store).$t({Ft:!0},function(a,l){var c=new Ae(a);return s(c.popLast())}).next(function(){return n.store(en.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=Oi(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(On.store);return r.$t(function(i,s){var a=$c(s),l=gj(n.R,a);return r.put(l)})},e}();function Ix(e){e.createObjectStore(zt.store,{keyPath:zt.keyPath}).createIndex(zt.documentTargetsIndex,zt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var q_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",L7=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new j(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x7(this,i),this.Le=n+"main",this.R=new pj(c),this.Be=new tl(this.Le,11,new D7(this.R)),this.qe=new C7(this.referenceDelegate,this.R),this.Ut=new S7,this.Ue=function(g,m){return new P7(g,m)}(this.R,this.Ut),this.Ke=new T7,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,q_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Gn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return dp(n).put(new Mi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ia(n))return q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Dc(t).get(Hn.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return dp(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Vn(l,Mi.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),g=h.filter(function(m){return p.indexOf(m)===-1});return V.forEach(g,function(m){return c.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):Dc(t).get(Hn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,q_);return!1}}return!(!n.networkEnabled||!n.inForeground)||dp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Hn.store,Mi.store],function(r){var i=new vx(r,Gn.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return dp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return k7.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,_7,function(l){return s=new vx(l,i.Ne?i.Ne.next():Gn.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw ft("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(D.FAILED_PRECONDITION,fj);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Dc(t).get(Hn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(D.FAILED_PRECONDITION,q_)})},e.prototype.Ze=function(t){var n=new Hn(this.clientId,this.allowTabSynchronization,Date.now());return Dc(t).put(Hn.key,n)},e.yt=function(){return tl.yt()},e.prototype.Xe=function(t){var n=this,r=Dc(t);return r.get(Hn.key).next(function(i){return n.tn(i)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete(Hn.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(ft("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),m3()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return ft("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ft("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Dc(e){return Vn(e,Hn.store)}function dp(e){return Vn(e,Mi.store)}function RI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var M7=function(e,t){this.progress=e,this.wn=t},Ej=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):wI(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ne(n)).next(function(r){var i=jE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=jE();return this.Ut.getCollectionParents(t,s).next(function(l){return V.forEach(l,function(c){var h=function(p,g){return new Wi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var g=p[h],m=0,y=g.mutations;m<y.length;m++){var w=y[m],I=w.key,E=i.get(I);E==null&&(E=Qt.newInvalidDocument(I),i=i.insert(I,E)),FE(w,E,g.localWriteTime),E.isFoundDocument()||(i=i.remove(I))}})}).next(function(){return i.forEach(function(l,c){Ph(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=De(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof Zo&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(g){return g.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),F7=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=De(),i=De(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),bj=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Op(n)||Uv(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(OE()<=_e.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ME(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new Et(BF(t));return n.forEach(function(i,s){Ph(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return OE()<=_e.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ME(n)),this.Sn.getDocumentsMatchingQuery(t,n,ye.min())},e}(),j7=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new fn(be),this.Fn=new Cl(function(s){return Rh(s)},Zg),this.$n=ye.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ej(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(e,t,n,r){return new j7(e,t,n,r)}function Ij(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new Ej(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],g=[],m=De(),y=0,w=c;y<w.length;y++){var I=w[y];p.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var S=T[E];m=m.add(S.key)}}for(var R=0,P=h;R<P.length;R++){var M=P[R];g.push(M.batchId);for(var O=0,z=M.mutations;O<z.length;O++){var U=z[O];m=m.add(U.key)}}return i.pn(l,m).next(function(Q){return{Ln:Q,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function U7(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,g=p.keys(),m=V.resolve();return g.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var I=c.docVersions.get(y);ae(I!==null),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Sj(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function V7(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var m=i.get(g);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,g)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(g,w),function(I,E,T){return ae(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,w,p)&&l.push(n.qe.updateTargetData(s,w))}}});var c=pr();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(kj(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ye.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return V.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function kj(e,t,n,r,i){var s=De();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=pr();return n.forEach(function(c,h){var p=a.get(c),g=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ye.min())?(t.removeEntry(c,g),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,g),l=l.insert(c,h)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function B7(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function il(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,V.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new rm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function ol(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=W(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ia(a=l.sent()))throw a;return q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function qv(e,t,n){var r=W(e),i=ye.min(),s=De();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=W(l),g=p.Fn.get(h);return g!==void 0?V.resolve(p.kn.get(g)):p.qe.getTargetData(c,h)}(r,a,_r(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ye.min(),n?s:De())}).next(function(l){return{documents:l,Bn:s}})})}function Cj(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function Nj(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=W(r),l=pr(),c=CI(s),h=ho(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:Ze.readTimeIndex,range:p},function(g,m){var y=VE(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:vj(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function $7(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ho(i),a=ye.min();return s.$t({index:Ze.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=vj(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function q7(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return N(this,function(w){switch(w.label){case 0:for(i=W(e),s=De(),a=pr(),l=JF(),c=0,h=n;c<h.length;c++)p=h[c],g=t.qn(p.metadata.name),p.document&&(s=s.add(g)),a=a.insert(g,t.Un(p)),l=l.insert(g,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,il(i,function(I){return _r(kl(Ae.fromString("__bundle__/docs/"+I)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return kj(I,m,a,ye.min(),l).next(function(E){return m.apply(I),E}).next(function(E){return i.qe.removeMatchingKeysForTargetId(I,y.targetId).next(function(){return i.qe.addMatchingKeys(I,s,y.targetId)}).next(function(){return i.Mn.En(I,E)}).next(function(){return E})})})]}})})}function z7(e,t,n){return n===void 0&&(n=De()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,il(e,_r(NI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=W(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Pt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(Tn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H7=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Pt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:NI(r.bundledQuery),readTime:Pt(r.readTime)}}(n)),V.resolve()},e}(),xI=function(){function e(){this.Wn=new Et(Ct.Gn),this.zn=new Et(Ct.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Ct(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Ct(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ne(new Ae([])),i=new Ct(r,t),s=new Ct(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ne(new Ae([])),r=new Ct(n,t),i=new Ct(n,t+1),s=De();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Ct(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Ct=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ne.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||ne.comparator(t.key,n.key)},e}(),W7=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Et(Ct.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new kI(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Ct(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return V.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),V.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Et(be);return n.forEach(function(s){var a=new Ct(s,0),l=new Ct(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),V.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));var a=new Ct(new ne(s),0),l=new Et(be);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),V.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ae(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return V.forEach(n.mutations,function(s){var a=new Ct(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Ct(n,0),i=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),K7=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new fn(ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():Qt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=pr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Qt.newInvalidDocument(s))}),V.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=pr(),s=new ne(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,g=h.readTime;if(!n.path.isPrefixOf(c.path))break;g.compareTo(r)<=0||Ph(n,p)&&(i=i.insert(p.key,p.clone()))}return V.resolve(i)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new G7(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),G7=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(wj),Q7=function(){function e(t){this.persistence=t,this.ds=new Cl(function(n){return Rh(n)},Zg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ws=0,this._s=new xI,this.targetCount=0,this.ys=$v.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new $v(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),V.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),Y7=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Gn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Q7(this),this.Ut=new I7,this.Ue=function(i,s){return new K7(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new pj(n),this.Ke=new H7(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new W7(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("MemoryPersistence","Starting transaction:",t);var s=new X7(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),X7=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return G(t,e),t}(hj),J7=function(){function e(t){this.persistence=t,this.As=new xI,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ee()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(i){var s=ne.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Vt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(e,t){return"firestore_clients_"+e+"_"+t}function kx(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function z_(e,t){return"firestore_targets_"+e+"_"+t}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var Cx=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(ft("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),H_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),s?new e(t,i.state,r):(ft("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Nx=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=nm(),a=0;i&&a<r.activeTargetIds.length;++a)i=LF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(ft("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Z7=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(ft("SharedClientState","Failed to parse online state: "+t),null)},e}(),BE=function(){function e(){this.activeTargetIds=nm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),W_=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(be),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=Sx(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new BE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,g,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(Sx(this.persistenceKey,i)))&&(a=Nx.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)g=p[h],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(z_(this.persistenceKey,t));if(r){var i=H_.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(z_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(g){var m=Gn.o;if(g!=null)try{var y=JSON.parse(g);ae(typeof y=="number"),m=y}catch(w){ft("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==Gn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Cx(this.currentUser,t,n,r),s=kx(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=kx(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=z_(this.persistenceKey,t),s=new H_(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Nx.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Cx.Vs(new Vt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return H_.Vs(i,n)},e.prototype.js=function(t){return Z7.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=nm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),Aj=function(){function e(){this.li=new BE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new BE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),e9=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Ax=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),t9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},n9=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),r9=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return G(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new O2;c.listenOnce(R2.COMPLETE,function(){try{switch(c.getLastErrorCode()){case $_.NO_ERROR:var p=c.getResponseJson();q("Connection","XHR received:",JSON.stringify(p)),a(p);break;case $_.TIMEOUT:q("Connection",'RPC "'+n+'" timed out'),l(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case $_.HTTP_ERROR:var g=c.getStatus();if(q("Connection",'RPC "'+n+'" failed with status:',g,"response text:",c.getResponseText()),g>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var I=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(I)>=0?I:D.UNKNOWN}(m.status);l(new j(y,m.message))}else l(new j(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new j(D.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=N2(),a=A2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new P2({})),this.ki(l.initMessageHeaders,r),rT()||GD()||p3()||v3()||g3()||iT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");q("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,g=!1,m=new n9({Ei:function(w){g?q("Connection","Not sending because WebChannel is closed:",w):(p||(q("Connection","Opening WebChannel transport."),h.open(),p=!0),q("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,I,E){w.listen(I,function(T){try{E(T)}catch(S){setTimeout(function(){throw S},0)}})};return y(h,lp.EventType.OPEN,function(){g||q("Connection","WebChannel transport opened.")}),y(h,lp.EventType.CLOSE,function(){g||(g=!0,q("Connection","WebChannel transport closed"),m.Vi())}),y(h,lp.EventType.ERROR,function(w){g||(g=!0,$f("Connection","WebChannel transport errored:",w),m.Vi(new j(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,lp.EventType.MESSAGE,function(w){var I;if(!g){var E=w.data[0];ae(!!E);var T=E,S=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(S){q("Connection","WebChannel received error:",S);var R=S.status,P=function(O){var z=lt[O];if(z!==void 0)return XF(z)}(R),M=S.message;P===void 0&&(P=D.INTERNAL,M="Unknown error status: "+R+" with message "+S.message),g=!0,m.Vi(new j(P,M)),h.close()}else q("Connection","WebChannel received:",E),m.Si(E)}}),y(a,x2.STAT_EVENT,function(w){w.stat===WR.PROXY?q("Connection","Detected buffering proxy"):w.stat===WR.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);q("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return q("RestConnection","Received: ",l),l},function(l){throw $f("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=t9[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){return typeof window<"u"?window:null}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(e){return new u7(e,!0)}var PI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),xj=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new PI(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(ft(n.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new j(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),i9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return G(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ee()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(E,T){return E.I?(ae(T===void 0||typeof T=="string"),Tn.fromBase64String(T||"")):(ae(T===void 0||T instanceof Uint8Array),Tn.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(E){var T=E.code===void 0?D.UNKNOWN:XF(E.code);return new j(T,E.message||"")}(m);l=new ej(c,h,p,g||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=ai(s,c.document.name),p=Pt(c.document.updateTime);var m=new Kn({mapValue:{fields:c.document.fields}}),y=(g=Qt.newFoundDocument(h,p,m),c.targetIds||[]),w=c.removedTargetIds||[];l=new Lp(y,w,g.key,g)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=ai(s,c.document),p=c.readTime?Pt(c.readTime):ye.min(),m=Qt.newNoDocument(h,p),g=c.removedTargetIds||[],l=new Lp([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=ai(s,c.document),p=c.removedTargetIds||[],l=new Lp([],p,h,null);else{if(!("filter"in a))return ee();a.filter;var I=a.filter;I.targetId,c=I.count||0,h=new Z2(c),p=I.targetId,l=new ZF(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ye.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?Pt(a.readTime):ye.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Gf(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Fv(c)?{documents:sj(s,c)}:{query:aj(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=tj(s,a.resumeToken):a.snapshotVersion.compareTo(ye.min())>0&&(l.readTime=Wf(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ee()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Gf(this.R),r.removeTarget=n,this.cr(r)},t}(xj),o9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return G(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ae(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ae(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Pt(c.updateTime):Pt(h);return p.isEqual(ye.min())&&(p=Pt(h)),new Y2(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Pt(n.commitTime);return this.listener.Tr(i,r)}return ae(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Gf(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Vv(r.R,s)})};this.cr(i)},t}(xj),s9=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return G(t,e),t.prototype.br=function(){if(this.Rr)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),a9=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(ft(n),this.Vr=!1):q("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),u9=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return es(this)?(q("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=W(c)).Or.add(4),[4,Nl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Fh(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new a9(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!es(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Nl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function im(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),LI(n)?DI(n):Rl(n).er()&&OI(n,t))}function Qf(e,t){var n=W(e),r=Rl(n);n.$r.delete(t),r.er()&&Pj(n,t),n.$r.size===0&&(r.er()?r.ir():es(n)&&n.Br.set("Unknown"))}function OI(e,t){e.qr.U(t.targetId),Rl(e).mr(t)}function Pj(e,t){e.qr.U(t),Rl(e).yr(t)}function DI(e){e.qr=new o7({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Rl(e).start(),e.Br.Sr()}function LI(e){return es(e)&&!Rl(e).tr()&&e.$r.size>0}function es(e){return W(e).Or.size===0}function Oj(e){e.qr=void 0}function l9(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){OI(e,n)}),[2]})})}function c9(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return Oj(e),LI(e)?(e.Br.Nr(t),DI(e)):e.Br.set("Unknown"),[2]})})}function f9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ej&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return A(this,void 0,void 0,function(){var h,p,g,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,g=c.targetIds,y.label=1;case 1:return p<g.length?(m=g[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,zv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Lp?e.qr.X(t):t instanceof ZF?e.qr.rt(t):e.qr.et(t),n.isEqual(ye.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Sj(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),Pj(l,p);var m=new rm(g.target,p,1,g.sequenceNumber);OI(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,zv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function zv(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Ia(t))throw t;return e.Or.add(1),[4,Nl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Sj(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Fh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Dj(e,t){return t().catch(function(n){return zv(e,n,t)})}function Al(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=W(e),n=Ko(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return es(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,B7(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=Ko(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,zv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Lj(t)&&Mj(t),[2]}})})}function Lj(e){return es(e)&&!Ko(e).tr()&&e.Fr.length>0}function Mj(e){Ko(e).start()}function h9(e){return A(this,void 0,void 0,function(){return N(this,function(t){return Ko(e).Ar(),[2]})})}function d9(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=Ko(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function p9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=b7.from(r,t,n),[4,Dj(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Al(e)];case 2:return s.sent(),[2]}})})}function v9(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&Ko(e).pr?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return YF(a=i.code)&&a!==D.ABORTED?(s=r.Fr.shift(),Ko(r).sr(),[4,Dj(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Al(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Lj(e)&&Mj(e),[2]}})})}function $E(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,Fh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Nl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Rl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=W(n);return s.br(),new i9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:l9.bind(null,e),Ri:c9.bind(null,e),_r:f9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),LI(e)?DI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Oj(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Ko(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=W(n);return s.br(),new o9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:h9.bind(null,e),Ri:v9.bind(null,e),Ir:d9.bind(null,e),Tr:p9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Al(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(q("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var g9=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function xl(e,t){if(ft("AsyncQueue",t+": "+e),Ia(e))return new j(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fj=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ne.comparator(n.key,r.key)}:function(n,r){return ne.comparator(n.key,r.key)},this.keyedMap=jE(),this.sortedSet=new fn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Rx=function(){function e(){this.Qr=new fn(ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ee():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Hv=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,Fj.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),m9=function(){this.Wr=void 0,this.listeners=[]},y9=function(){this.queries=new Cl(function(e){return VF(e)},xh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=W(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new m9),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=xl(l,"Initialization of query '"+ME(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&jI(n),[2]}})})}function FI(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=W(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function _9(e,t){for(var n=W(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&jI(n)}function w9(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function jI(e){e.Gr.forEach(function(t){t.next()})}var UI=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Hv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Hv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),E9=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),xx=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return ai(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?oj(this.R,t.document,!1):Qt.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Pt(t)},e}(),b9=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=jj(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new xx(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],g=(n.get(p)||De()).add(l);n.set(p,g)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,q7(this.localStore,new xx(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,z7(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new M7(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uj=function(e){this.key=e},Vj=function(e){this.key=e},Bj=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=De(),this.mutatedKeys=De(),this.lo=BF(t),this.fo=new Fj(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Rx,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Op(this.query)&&s.size===this.query.limit?s.last():null,p=Uv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),I=Ph(r.query,y)?y:null,E=!!w&&r.mutatedKeys.has(w.key),T=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),S=!1;w&&I?w.data.isEqual(I.data)?E!==T&&(i.track({type:3,doc:I}),S=!0):r.yo(w,I)||(i.track({type:2,doc:I}),S=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(c=!0)):!w&&I?(i.track({type:0,doc:I}),S=!0):w&&!I&&(i.track({type:1,doc:w}),S=!0,(h||p)&&(c=!0)),S&&(I?(l=l.add(I),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Op(this.query)||Uv(this.query))for(;l.size>this.query.limit;){var g=Op(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(m,y){var w=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return w(m)-w(y)}(p.type,g.type)||i.lo(p.doc,g.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Hv(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rx,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=De(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Vj(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new Uj(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=De();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Hv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),T9=function(e,t,n){this.query=e,this.targetId=t,this.view=n},I9=function(e){this.key=e,this.bo=!1},S9=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Cl(function(l){return VF(l)},xh),this.Vo=new Map,this.So=new Set,this.Do=new fn(ne.comparator),this.Co=new Map,this.No=new xI,this.xo={},this.ko=new Map,this.Fo=$v.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function k9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=zI(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,il(n.localStore,_r(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,VI(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&im(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function VI(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(g,m,y){return function(w,I,E,T){return A(this,void 0,void 0,function(){var S,R,P;return N(this,function(M){switch(M.label){case 0:return S=I.view._o(E),S.Nn?[4,qv(w.localStore,I.query,!1).then(function(O){var z=O.documents;return I.view._o(z,S)})]:[3,2];case 1:S=M.sent(),M.label=2;case 2:return R=T&&T.targetChanges.get(I.targetId),P=I.view.applyChanges(S,w.isPrimaryClient,R),[2,(qE(w,I.targetId,P.To),P.snapshot)]}})})}(e,g,m,y)},[4,qv(e.localStore,t,!0)];case 1:return i=p.sent(),s=new Bj(t,i.Bn),a=s._o(i.documents),l=TI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),qE(e,n,c.To),h=new T9(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function C9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!xh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ol(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Qf(n.remoteStore,r.targetId),sl(n,r.targetId)}).catch(Sa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return sl(n,r.targetId),[4,ol(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function N9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=HI(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,g=W(c),m=Fn.now(),y=h.reduce(function(w,I){return w.add(I.key)},De());return g.persistence.runTransaction("Locally write mutations","readwrite",function(w){return g.Mn.pn(w,y).next(function(I){p=I;for(var E=[],T=0,S=h;T<S.length;T++){var R=S[T],P=J2(R,p.get(R.key));P!=null&&E.push(new Zo(R.key,P,MF(P.value.mapValue),nn.exists(!0)))}return g._n.addMutationBatch(w,m,E,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var g=c.xo[c.currentUser.toKey()];g||(g=new fn(be)),g=g.insert(h,p),c.xo[c.currentUser.toKey()]=g}(r,i.batchId,n),[4,Ki(r,i.changes)];case 3:return l.sent(),[4,Al(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=xl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function $j(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,V7(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ae(l.bo):s.removedDocuments.size>0&&(ae(l.bo),l.bo=!1))}),[4,Ki(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Sa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Px(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=W(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].zr(a)&&(c=!0)}),c&&jI(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function A9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new fn(ne.comparator)).insert(s,Qt.newNoDocument(s,ye.min())),l=De().add(s),c=new bI(ye.min(),new Map,new Et(be),a,l),[4,$j(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),qI(r),[3,4];case 2:return[4,ol(r.localStore,t,!1).then(function(){return sl(r,t,n)}).catch(Sa)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function R9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=W(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,U7(n.localStore,t)];case 2:return i=s.sent(),$I(n,r,null),BI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ki(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Sa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function x9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=W(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=W(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(g){return ae(g!==null),p=g.keys(),c._n.removeMutationBatch(h,g)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),$I(r,t,n),BI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ki(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Sa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function P9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:es((n=W(e)).remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=W(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=xl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function BI(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function $I(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function sl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||qj(e,a)})}function qj(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Qf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),qI(e))}function qE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Uj?(e.No.addReference(s.key,t),O9(e,s)):s instanceof Vj?(q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||qj(e,s.key)):ee()}}function O9(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(q("SyncEngine","New document in limbo: "+n),e.So.add(r),qI(e))}function qI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ne(Ae.fromString(t)),r=e.Fo.next();e.Co.set(r,new I9(n)),e.Do=e.Do.insert(n,r),im(e.remoteStore,new rm(_r(kl(n.path)),r,2,Gn.o))}}function Ki(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=W(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var g=F7.Pn(h.targetId,p);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return A(this,void 0,void 0,function(){var p,g,m,y,w,I,E,T,S;return N(this,function(R){switch(R.label){case 0:p=W(c),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return V.forEach(h,function(M){return V.forEach(M.bn,function(O){return p.persistence.referenceDelegate.addReference(P,M.targetId,O)}).next(function(){return V.forEach(M.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,M.targetId,O)})})})})];case 2:return R.sent(),[3,4];case 3:if(!Ia(g=R.sent()))throw g;return q("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],I=w.targetId,w.fromCache||(E=p.kn.get(I),T=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(T),p.kn=p.kn.insert(I,S));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function D9(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(q("SyncEngine","User change. New user:",t.toKey()),[4,Ij(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new j(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ki(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function L9(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return De().add(r.key);var i=De(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function M9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,qv((n=W(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&qE(n,t.targetId,i.To),i)]}})})}function F9(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,Nj((t=W(e)).localStore).then(function(r){return Ki(t,r)})]})})}function j9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=W(l),p=W(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,c).next(function(m){return m?h.Mn.pn(g,m):V.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Al(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?($I(i,t,r||null),BI(i,t),function(l,c){W(W(l)._n).Gt(c)}(i.localStore,t)):ee(),a.label=4;case 4:return[4,Ki(i,s)];case 5:return a.sent(),[3,7];case 6:q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function U9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return zI(n=W(e)),HI(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ox(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,$E(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],im(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return sl(n,m),ol(n.localStore,m,!0)}),Qf(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,Ox(n,c)];case 5:return p.sent(),function(g){var m=W(g);m.Co.forEach(function(y,w){Qf(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new fn(ne.comparator)}(n),n.$o=!1,[4,$E(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function Ox(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m,y,w,I,E;return N(this,function(T){switch(T.label){case 0:r=W(e),i=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,il(r.localStore,_r(p[0]))]:[3,7]):[3,13];case 2:h=T.sent(),g=0,m=p,T.label=3;case 3:return g<m.length?(y=m[g],w=r.Po.get(y),[4,M9(r,w)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,Cj(r.localStore,c)];case 8:return E=T.sent(),[4,il(r.localStore,E)];case 9:return h=T.sent(),[4,VI(r,zj(E),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(h),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function zj(e){return jF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function V9(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function B9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=W(e)).$o?(q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Nj(i.localStore)];case 3:return s=l.sent(),a=bI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Ki(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,ol(i.localStore,t,!0)];case 6:return l.sent(),sl(i,t,r),[3,8];case 7:ee(),l.label=8;case 8:return[2]}})})}function $9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:if(!(r=zI(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(q("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cj(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,il(r.localStore,l)];case 3:return c=y.sent(),[4,VI(r,zj(l),c.targetId,!1)];case 4:y.sent(),im(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(I){switch(I.label){case 0:return r.Vo.has(w)?[4,ol(r.localStore,w,!1).then(function(){Qf(r.remoteStore,w),sl(r,w)}).catch(Sa)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,g=n,y.label=7;case 7:return p<g.length?(m=g[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function zI(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$j.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=A9.bind(null,t),t.vo._r=_9.bind(null,t.eventManager),t.vo.Mo=w9.bind(null,t.eventManager),t}function HI(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,t),t}function q9(e,t,n){var r=W(e);(function(i,s,a){return A(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,I){var E=W(w),T=Pt(I.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",function(S){return E.Ke.getBundleMetadata(S,I.id)}).then(function(S){return!!S&&S.createTime.compareTo(T)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(jj(l)),c=new b9(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return g=y.sent(),[4,Ki(i,g.wn,void 0)];case 12:return y.sent(),[4,function(w,I){var E=W(w);return E.persistence.runTransaction("Save bundle","readwrite",function(T){return E.Ke.saveBundleMetadata(T,I)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(g.progress),[3,15];case 14:return $f("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Hj=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Tj(this.persistence,new bj,t.initialUser,this.R)},e.prototype.qo=function(t){return new Y7(J7.bs,this.R)},e.prototype.Bo=function(t){return new Aj},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Wj=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return G(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,$7(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,HI(this.Qo.syncEngine)];case 4:return i.sent(),[4,Al(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Tj(this.persistence,new bj,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new A7(r,n.asyncQueue)},t.prototype.qo=function(n){var r=RI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new L7(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Rj(),Mp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Aj},t}(Hj),z9=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return G(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof W_?(this.sharedClientState.syncEngine={ui:j9.bind(null,r),ai:B9.bind(null,r),hi:$9.bind(null,r),fn:V9.bind(null,r),ci:F9.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,U9(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Rj();if(!W_.yt(r))throw new j(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=RI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new W_(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(Wj),zE=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return Px(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=D9.bind(null,this.syncEngine),[4,$E(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new y9},e.prototype.createDatastore=function(t){var n,r=Mh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new r9(n));return function(s,a,l){return new s9(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return Px(l.syncEngine,c,0)},a=Ax.yt()?new Ax:new e9,new u9(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new S9(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),q("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Nl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),H9=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new cn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new E9(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),W9=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return l=W(s),c=Gf(l.R)+"/documents",h={documents:a.map(function(w){return Kf(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),g=new Map,p.forEach(function(w){var I=function(E,T){return"found"in T?function(S,R){ae(!!R.found),R.found.name,R.found.updateTime;var P=ai(S,R.found.name),M=Pt(R.found.updateTime),O=new Kn({mapValue:{fields:R.found.fields}});return Qt.newFoundDocument(P,M,O)}(E,T):"missing"in T?function(S,R){ae(!!R.missing),ae(!!R.readTime);var P=ai(S,R.missing),M=Pt(R.readTime);return Qt.newNoDocument(P,M)}(E,T):ee()}(l.R,w);g.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(w){var I=g.get(w.toString());ae(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Lh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ne.fromPath(s);n.mutations.push(new EI(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=W(i),l=Gf(a.R)+"/documents",c={writes:s.map(function(p){return Vv(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ee();n=ye.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?nn.updateTime(n):nn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new j(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),K9=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new PI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new W9(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ta(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!YF(n)}return!1},e}(),G9=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vt.UNAUTHENTICATED,this.clientId=RF.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return q("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=xl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,Ij(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Gj(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,WI(e)];case 1:return n=i.sent(),q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return A(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=W(a)).asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials"),h=es(c),c.Or.add(3),[4,Nl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,Fh(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function WI(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(q("FirestoreClient","Using default OfflineComponentProvider"),[4,Kj(e,new Hj)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function sm(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(q("FirestoreClient","Using default OnlineComponentProvider"),[4,Gj(e,new zE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Lx(e){return WI(e).then(function(t){return t.persistence})}function KI(e){return WI(e).then(function(t){return t.localStore})}function Mx(e){return sm(e).then(function(t){return t.remoteStore})}function GI(e){return sm(e).then(function(t){return t.syncEngine})}function al(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,sm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=k9.bind(null,t.syncEngine),n.onUnlisten=C9.bind(null,t.syncEngine),n)]}})})}function Fx(e,t,n){var r=this;n===void 0&&(n={});var i=new cn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new om({next:function(w){c.enqueueAndForget(function(){return FI(l,y)});var I=w.docs.has(h);!I&&w.fromCache?g.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:function(w){return g.reject(w)}}),y=new UI(kl(h.path),m,{includeMetadataChanges:!0,so:!0});return MI(l,y)},[4,al(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function jx(e,t,n){var r=this;n===void 0&&(n={});var i=new cn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new om({next:function(w){c.enqueueAndForget(function(){return FI(l,y)}),w.fromCache&&p.source==="server"?g.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:function(w){return g.reject(w)}}),y=new UI(h,m,{includeMetadataChanges:!0,so:!0});return MI(l,y)},[4,al(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Q9=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Wv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Ux=new Map,Qj=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Vx=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Vt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Y9=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),X9=function(){function e(t){var n=this;this.currentUser=Vt.UNAUTHENTICATED,this.oc=new cn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){q("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(q("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ae(typeof i.accessToken=="string"),new Qj(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new Vt(t)},e}(),J9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Z9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new J9(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Vt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(e,t,n){if(!n)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function YI(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Yj(e,t,n,r){if(t===!0&&r===!0)throw new j(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Bx(e){if(!ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $x(e){if(ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ee()}function Ce(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=am(e);throw new j(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function qx(e,t){if(t<=0)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zx=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Yj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Yf=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,t instanceof Wv?(this._databaseId=t,this._credentials=new Vx):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wv(r.options.projectId)}(t),this._credentials=new X9(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Vx;switch(n.type){case"gapi":var r=n.client;return ae(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Z9(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Ux.get(t))&&(q("ComponentProvider","Removing Datastore"),Ux.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Xe=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),jn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Lo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,kl(i))||this)._path=i,s.type="collection",s}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Xe(this.firestore,null,new ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(jn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),QI("collection","path",t),e instanceof Yf)return $x(n=Ae.fromString.apply(Ae,ve([t],r))),new Lo(e,null,n);if(!(e instanceof Xe||e instanceof Lo))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $x(n=Ae.fromString.apply(Ae,ve([e.path],r)).child(Ae.fromString(t))),new Lo(e.firestore,null,n)}function Fp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),arguments.length===1&&(t=RF.u()),QI("doc","path",t),e instanceof Yf)return Bx(n=Ae.fromString.apply(Ae,ve([t],r))),new Xe(e,null,new ne(n));if(!(e instanceof Xe||e instanceof Lo))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bx(n=e._path.child(Ae.fromString.apply(Ae,ve([t],r)))),new Xe(e.firestore,e instanceof Lo?e.converter:null,new ne(n))}function Jj(e,t){return e=de(e),t=de(t),(e instanceof Xe||e instanceof Lo)&&(t instanceof Xe||t instanceof Lo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Zj(e,t){return e=de(e),t=de(t),e instanceof jn&&t instanceof jn&&e.firestore===t.firestore&&xh(e._query,t._query)&&e.converter===t.converter}var eQ=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new PI(this,"async_queue_retry"),this.Ic=function(){var r=Mp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new cn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ia(t=r.sent()))throw t;return q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,ft("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=g9.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ee()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function ul(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var tQ=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),nQ=-1,st=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new eQ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return G(t,e),t.prototype._terminate=function(){return this._firestoreClient||eU(this),this._firestoreClient.terminate()},t}(Yf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){return e._firestoreClient||eU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new Q9(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new G9(e._credentials,e._queue,r)}function Hx(e,t,n){var r=this,i=new cn;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Kj(e,n)];case 1:return a.sent(),[4,Gj(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Wx(e){if(e._initialized||e._terminated)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ua=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Tn.fromBase64String(t))}catch(n){throw new j(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Tn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ka=function(e){this._methodName=e},um=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),rQ=/^__.*__$/,iQ=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dh(t,this.data,n,this.fieldTransforms)},e}(),tU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var rU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Kv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(nU(this.Nc)&&rQ.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),oQ=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Mh(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new rU({Nc:t,methodName:n,qc:r,path:$r.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ca(e){var t=e._freezeSettings(),n=Mh(e._databaseId);return new oQ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);eS("Data must be an object, but it was:",a,r);var l,c,h=sU(r,a);if(s.merge)l=new Ku(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],g=0,m=s.mergeFields;g<m.length;g++){var y=HE(t,m[g],n);if(!a.contains(y))throw new j(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");uU(p,y)||p.push(y)}l=new Ku(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new iQ(new Kn(h),l,c)}var XI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ka);function iU(e,t,n){return new rU({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){return new Oh(n.path,new Xu)},t.prototype.isEqual=function(n){return n instanceof t},t}(ka),aQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=iU(this,n,!0),i=this.Kc.map(function(a){return Na(a,r)}),s=new sa(i);return new Oh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ka),uQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=iU(this,n,!0),i=this.Kc.map(function(a){return Na(a,r)}),s=new aa(i);return new Oh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ka),lQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=new Ju(n.R,zF(n.R,this.Qc));return new Oh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ka);function JI(e,t,n,r){var i=e.Uc(1,t,n);eS("Data must be an object, but it was:",i,r);var s=[],a=Kn.empty();ba(r,function(c,h){var p=tS(t,c,n);h=de(h);var g=i.Oc(p);if(h instanceof XI)s.push(p);else{var m=Na(h,g);m!=null&&(s.push(p),a.set(p,m))}});var l=new Ku(s);return new tU(a,l,i.fieldTransforms)}function ZI(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[HE(t,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(HE(t,s[h])),c.push(s[h+1]);for(var p=[],g=Kn.empty(),m=l.length-1;m>=0;--m)if(!uU(p,l[m])){var y=l[m],w=c[m];w=de(w);var I=a.Oc(y);if(w instanceof XI)p.push(y);else{var E=Na(w,I);E!=null&&(p.push(y),g.set(y,E))}}var T=new Ku(p);return new tU(g,T,a.fieldTransforms)}function oU(e,t,n,r){return r===void 0&&(r=!1),Na(n,e.Uc(r?4:3,t))}function Na(e,t){if(aU(e=de(e)))return eS("Unsupported field value:",t,e),sU(e,t);if(e instanceof ka)return function(n,r){if(!nU(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Na(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=de(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Fn.fromDate(n);return{timestampValue:Wf(r.R,i)}}if(n instanceof Fn)return i=new Fn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Wf(r.R,i)};if(n instanceof um)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:tj(r.R,n._byteString)};if(n instanceof Xe){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:II(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+am(n))}(e,t)}function sU(e,t){var n={};return PF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(e,function(r,i){var s=Na(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function aU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fn||e instanceof um||e instanceof ua||e instanceof Xe||e instanceof ka)}function eS(e,t,n){if(!aU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=am(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function HE(e,t,n){if((t=de(t))instanceof ui)return t._internalPath;if(typeof t=="string")return tS(e,t);throw Kv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var cQ=new RegExp("[~\\*/\\[\\]]");function tS(e,t,n){if(t.search(cQ)>=0)throw Kv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(ui.bind.apply(ui,ve([void 0],t.split("."))))()._internalPath}catch{throw Kv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Kv(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new j(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function uU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xe(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new fQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Gv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),fQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Xf);function Gv(e,t){return typeof t=="string"?tS(e,t):t instanceof ui?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Fi=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return G(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Gv("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Xf),hf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Fi),mo=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new hf(r._firestore,r._userDataWriter,i.key,i,new Vs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new hf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new hf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:hQ(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function hQ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function lU(e,t){return e instanceof Fi&&t instanceof Fi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mo&&t instanceof mo&&e._firestore===t._firestore&&Zj(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e){if(Uv(e)&&e.explicitOrderBy.length===0)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jh=function(){};function lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var dQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return G(t,e),t.prototype._apply=function(n){var r=Ca(n.firestore),i=function(s,a,l,c,h,p,g){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){Xx(g,p);for(var y=[],w=0,I=g;w<I.length;w++){var E=I[w];y.push(Yx(c,s,E))}m={arrayValue:{values:y}}}else m=Yx(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Xx(g,p),m=oU(l,"where",g,p==="in"||p==="not-in");var T=Qn.create(h,p,m);return function(S,R){if(R.g()){var P=_I(S);if(P!==null&&!P.isEqual(R.field))throw new j(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+R.field.toString()+"'");var M=yI(S);M!==null&&hU(S,R.field,M)}var O=function(z,U){for(var Q=0,x=z.filters;Q<x.length;Q++){var yi=x[Q];if(U.indexOf(yi.op)>=0)return yi.op}return null}(S,function(z){switch(z){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(O!==null)throw O===R.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+R.op.toString()+"' filter."):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+R.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new jn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Wi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(jh),pQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return G(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new xu(s,a);return function(c,h){if(yI(c)===null){var p=_I(c);p!==null&&hU(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new jn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Wi(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(jh),Kx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return G(t,e),t.prototype._apply=function(n){return new jn(n.firestore,n.converter,UF(n._query,this.Hc,this.Jc))},t}(jh),Gx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new jn(n.firestore,n.converter,function(i,s){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(jh),Qx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new jn(n.firestore,n.converter,function(i,s){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(jh);function fU(e,t,n,r){if(n[0]=de(n[0]),n[0]instanceof Xf)return function(s,a,l,c,h){if(!c)throw new j(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=Yu(s);g<m.length;g++){var y=m[g];if(y.field.isKeyField())p.push(Mv(a,c.key));else{var w=c.data.field(y.field);if(vI(w))throw new j(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var I=y.field.canonicalString();throw new j(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(w)}}return new Hf(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ca(e.firestore);return function(s,a,l,c,h,p){var g=s.explicitOrderBy;if(h.length>g.length)throw new j(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(g[y].field.isKeyField()){if(typeof w!="string")throw new j(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!wI(s)&&w.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var I=s.path.child(Ae.fromString(w));if(!ne.isDocumentKey(I))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new ne(I);m.push(Mv(a,E))}else{var T=oU(l,c,w);m.push(T)}}return new Hf(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function Yx(e,t,n){if(typeof(n=de(n))=="string"){if(n==="")throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wI(t)&&n.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ae.fromString(n));if(!ne.isDocumentKey(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mv(e,new ne(r))}if(n instanceof Xe)return Mv(e,n._key);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+am(n)+".")}function Xx(e,t){if(!Array.isArray(e)||e.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function hU(e,t,n){if(!n.isEqual(t))throw new j(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nS=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ee()}},e.prototype.convertObject=function(t,n){var r=this,i={};return ba(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new um(ct(t.latitude),ct(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=DF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Wo(t);return new Fn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ae.fromString(t);ae(cj(r));var i=new Wv(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||ft("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new ua(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Xe(this.firestore,null,r)},t}(nS),gQ=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ca(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=yo(t,this._firestore),s=cm(i.converter,n,r),a=lm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,nn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=yo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof ui?ZI(this._dataReader,"WriteBatch.update",l._key,n,r,i):JI(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,nn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=yo(t,this._firestore);return this._mutations=this._mutations.concat(new Lh(n._key,nn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e,t){if((e=de(e)).firestore!==t)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new ua(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Xe(this.firestore,null,r)},t}(nS);function Jx(e,t,n){e=Ce(e,Xe);var r=Ce(e.firestore,st),i=cm(e.converter,t,n);return Uh(r,[lm(Ca(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,nn.none())])}function Zx(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ce(e,Xe);var s=Ce(e.firestore,st),a=Ca(s);return Uh(s,[(typeof(t=de(t))=="string"||t instanceof ui?ZI(a,"updateDoc",e._key,t,n,r):JI(a,"updateDoc",e._key,t)).toMutation(e._key,nn.exists(!0))])}function dU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=de(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||ul(i[l])||(a=i[l],l++);var c,h,p,g={includeMetadataChanges:a.includeMetadataChanges};if(ul(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Xe)h=Ce(e.firestore,st),p=kl(e._key.path),c={next:function(I){i[l]&&i[l](WE(h,e,I))},error:i[l+1],complete:i[l+2]};else{var y=Ce(e,jn);h=Ce(y.firestore,st),p=y._query;var w=new Ks(h);c={next:function(I){i[l]&&i[l](new mo(h,w,y,I))},error:i[l+1],complete:i[l+2]},cU(e._query)}return function(I,E,T,S){var R=this,P=new om(S),M=new UI(E,P,T);return I.asyncQueue.enqueueAndForget(function(){return A(R,void 0,void 0,function(){var O;return N(this,function(z){switch(z.label){case 0:return O=MI,[4,al(I)];case 1:return[2,O.apply(void 0,[z.sent(),M])]}})})}),function(){P.Wo(),I.asyncQueue.enqueueAndForget(function(){return A(R,void 0,void 0,function(){var O;return N(this,function(z){switch(z.label){case 0:return O=FI,[4,al(I)];case 1:return[2,O.apply(void 0,[z.sent(),M])]}})})})}}(Rt(h),p,g,c)}function Uh(e,t){return function(n,r){var i=this,s=new cn;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=N9,[4,GI(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Rt(e),t)}function WE(e,t,n){var r=n.docs.get(t._key),i=new Ks(e);return new Fi(e,i,t._key,r,new Vs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return G(t,e),t.prototype.get=function(n){var r=this,i=yo(n,this._firestore),s=new Ks(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Fi(r._firestore,s,i._key,a._document,new Vs(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ca(t)}return e.prototype.get=function(t){var n=this,r=yo(t,this._firestore),i=new vQ(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ee();var a=s[0];if(a.isFoundDocument())return new Xf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Xf(n._firestore,i,r._key,null,r.converter);throw ee()})},e.prototype.set=function(t,n,r){var i=yo(t,this._firestore),s=cm(i.converter,n,r),a=lm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=yo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof ui?ZI(this._dataReader,"Transaction.update",l._key,n,r,i):JI(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=yo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){if(typeof Uint8Array>"u")throw new j(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tP(){if(typeof atob>"u")throw new j(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return tP(),new e(ua.fromBase64String(t))},e.fromUint8Array=function(t){return eP(),new e(ua.fromUint8Array(t))},e.prototype.toBase64=function(){return tP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return eP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yQ=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Wx(r=Ce(r,st));var s=Rt(r),a=r._freezeSettings(),l=new zE;return Hx(s,l,new Wj(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Wx(n=Ce(n,st));var r=Rt(n),i=n._freezeSettings(),s=new zE;return Hx(r,s,new z9(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new cn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return tl.yt()?(c=l+"main",[4,tl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(RI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),rS=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Wv||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||$f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=Ce(i,Yf))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&$f("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=Vt.MOCK_USER;else{p=nT(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new j(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vt(m)}i._credentials=new Y9(new Qj(p,g))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,Lx(t)];case 1:return r=s.sent(),[4,Mx(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=W(a);return l.Or.delete(0),Fh(l)}(i))]}})})})}(Rt(Ce(this._delegate,st)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,Lx(t)];case 1:return r=s.sent(),[4,Mx(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return A(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=W(a)).Or.add(0),[4,Nl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Rt(Ce(this._delegate,st)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&Yj("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new cn;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=P9,[4,GI(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Rt(Ce(this._delegate,st)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new om(s);return i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,g){W(p).Gr.add(g),g.next()},[4,al(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,g){W(p).Gr.delete(g)},[4,al(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Rt(n=Ce(n,st)),ul(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this,Xj(this._delegate,t))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Gs(this,Fp(this._delegate,t))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Vh(this,function(n,r){if(n=Ce(n,Yf),QI("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jn(n,null,function(i){return new Wi(Ae.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new cn;return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(g){return sm(g).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new K9(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Rt(r),function(s){return i(new mQ(r,s))})}(this._delegate,function(r){return t(new vU(n,r))})},e.prototype.batch=function(){var t=this;return Rt(this._delegate),new gU(new gQ(this._delegate,function(n){return Uh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),fm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new pU(new ua(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Gs.eu(r,this.firestore,null)},t}(nS);function _Q(e){var t;t=e,Vr.setLogLevel(t)}var vU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new fm(t)}return e.prototype.get=function(t){var n=this,r=Bs(t);return this._delegate.get(r).then(function(i){return new Jf(n._firestore,new Fi(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Bs(t);return r?(YI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Bs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=Bs(t);return this._delegate.delete(n),this},e}(),gU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Bs(t);return r?(YI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Bs(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=Bs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),hm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new hf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Zf(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new fm(t),n),i.set(n,s)),s},e}();hm.su=new WeakMap;var Gs=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new fm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Xe(n._delegate,r,new ne(t)))},e.eu=function(t,n,r){return new e(n,new Xe(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this.firestore,Xj(this._delegate,t))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=de(t))instanceof Xe&&Jj(this._delegate,t)},e.prototype.set=function(t,n){n=YI("DocumentReference.set",n);try{return n?Jx(this._delegate,t,n):Jx(this._delegate,t)}catch(r){throw gn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?Zx(this._delegate,t):Zx.apply(void 0,ve([this._delegate,t,n],r))}catch(s){throw gn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Uh(Ce((t=this._delegate).firestore,st),[new Lh(t._key,nn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=mU(n),s=yU(n,function(a){return new Jf(t.firestore,new Fi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return dU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,Xe);var i=Ce(r.firestore,st),s=Rt(i),a=new Ks(i);return function(l,c){var h=this,p=new cn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=function(y,w,I){return A(this,void 0,void 0,function(){var E,T;return N(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(R,P){var M=W(R);return M.persistence.runTransaction("read document","readonly",function(O){return M.Mn.mn(O,P)})}(y,w)];case 1:return(T=S.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new j(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=S.sent(),T=xl(E,"Failed to get document '"+w+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,KI(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new Fi(i,a,r._key,l,new Vs(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,Xe);var i=Ce(r.firestore,st);return Fx(Rt(i),r._key,{source:"server"}).then(function(s){return WE(i,r,s)})}(this._delegate):function(r){r=Ce(r,Xe);var i=Ce(r.firestore,st);return Fx(Rt(i),r._key).then(function(s){return WE(i,r,s)})}(this._delegate)).then(function(r){return new Jf(n.firestore,new Fi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function gn(e,t,n){return e.message=e.message.replace(t,n),e}function mU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!ul(r))return r}return{}}function yU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=ul(e[0])?e[0]:ul(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Jf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Gs(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return lU(this._delegate,t._delegate)},e}(),Zf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Jf),Vh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new fm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,lo(this._delegate,function(i,s,a){var l=s,c=Gv("where",i);return new dQ(c,l,a)}(t,n,r)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,lo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Gv("orderBy",r);return new pQ(a,s)}(t,n)))}catch(r){throw gn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lo(this._delegate,function(n){return qx("limit",n),new Kx("limit",n,"F")}(t)))}catch(n){throw gn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lo(this._delegate,function(n){return qx("limitToLast",n),new Kx("limitToLast",n,"L")}(t)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Gx("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw gn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Gx("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw gn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Qx("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw gn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Qx("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw gn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Zj(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ce(r,jn);var i=Ce(r.firestore,st),s=Rt(i),a=new Ks(i);return function(l,c){var h=this,p=new cn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=function(y,w,I){return A(this,void 0,void 0,function(){var E,T,S,R,P;return N(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,qv(y,w,!0)];case 1:return P=M.sent(),E=new Bj(w,P.Bn),T=E._o(P.documents),S=E.applyChanges(T,!1),I.resolve(S.snapshot),[3,3];case 2:return R=M.sent(),P=xl(R,"Failed to execute query '"+w+" against cache"),I.reject(P),[3,3];case 3:return[2]}})})},[4,KI(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new mo(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ce(r,jn);var i=Ce(r.firestore,st),s=Rt(i),a=new Ks(i);return jx(s,r._query,{source:"server"}).then(function(l){return new mo(i,a,r,l)})}(this._delegate):function(r){r=Ce(r,jn);var i=Ce(r.firestore,st),s=Rt(i),a=new Ks(i);return cU(r._query),jx(s,r._query).then(function(l){return new mo(i,a,r,l)})}(this._delegate)).then(function(r){return new KE(n.firestore,new mo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=mU(n),s=yU(n,function(a){return new KE(t.firestore,new mo(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return dU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),wQ=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Zf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),KE=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Vh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Zf(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new wQ(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Zf(r._firestore,i))})},e.prototype.isEqual=function(t){return lU(this._delegate,t._delegate)},e}(),Qv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Gs(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Gs(this.firestore,n===void 0?Fp(this._delegate):Fp(this._delegate,n))}catch(r){throw gn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ce(i.firestore,st),l=Fp(i),c=cm(i.converter,s);return Uh(a,[lm(Ca(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,nn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Gs(r.firestore,i)})},t.prototype.isEqual=function(n){return Jj(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(hm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Vh);function Bs(e){return Ce(e,Xe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EQ=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(ui.bind.apply(ui,ve([void 0],t)))}return e.documentId=function(){return new e($r.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=de(t))instanceof ui&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),bQ=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new sQ("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new XI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new aQ("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new uQ("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new lQ("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(e){return function(t,n){var r=Rt(t=Ce(t,st)),i=new tQ;return function(s,a,l,c){var h=this,p=function(g,m){return function(y,w){return new H9(y,w)}(function(y,w){if(y instanceof Uint8Array)return Dx(y,w);if(y instanceof ArrayBuffer)return Dx(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof g=="string"?new TextEncoder().encode(g):g),m)}(l,Mh(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=q9,[4,GI(s)];case 1:return g.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function IQ(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var g=W(h);return g.persistence.runTransaction("Get named query","readonly",function(m){return g.Ke.getNamedQuery(m,p)})},[4,KI(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Rt(t=Ce(t,st)),n).then(function(i){return i?new jn(t,null,i.query):null})).then(function(i){return i?new Vh(r,i):null})}var SQ={Firestore:rS,GeoPoint:um,Timestamp:Fn,Blob:pU,Transaction:vU,WriteBatch:gU,DocumentReference:Gs,DocumentSnapshot:Jf,Query:Vh,QueryDocumentSnapshot:Zf,QuerySnapshot:KE,CollectionReference:Qv,FieldPath:EQ,FieldValue:bQ,setLogLevel:_Q,CACHE_SIZE_UNLIMITED:nQ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(e){(function(t,n){t.INTERNAL.registerComponent(new ln("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},SQ)))})(e,function(t,n){return new rS(t,new st(t,n),new yQ)}),e.registerVersion("@firebase/firestore","2.4.1")}kQ(te);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(e){e.prototype.loadBundle=TQ,e.prototype.namedQuery=IQ}CQ(rS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pu=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function NQ(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function AQ(e,t,n){var r=NQ(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!nP[l])return new Pu("internal","internal");r=nP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Pu(r,i,s)}var RQ=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xQ="type.googleapis.com/google.protobuf.Int64Value",PQ="type.googleapis.com/google.protobuf.UInt64Value";function rP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var OQ=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return rP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case xQ:case PQ:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?rP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Pu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var iP=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new OQ,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new RQ(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y,w,I;return N(this,function(E){switch(E.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=E.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=DQ(c),p=h.timer,g=h.promise,[4,Promise.race([oP(p,this.postJSON(i,s,a)),g,oP(p,this.cancelAllRequests)])];case 2:if(m=E.sent(),!m)throw new Pu("cancelled","Firebase Functions instance was deleted.");if(y=AQ(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Pu("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new Pu("internal","Response is missing data field.");return I=this.serializer.decode(w),[2,{data:I}]}})})},e}();function oP(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LQ="functions";function MQ(e,t){var n={Functions:iP};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new iP(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new ln(LQ,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var FQ="@firebase/functions",jQ="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */MQ(te,fetch.bind(self));te.registerVersion(FQ,jQ);function UQ(e){return Array.prototype.slice.call(e)}function _U(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function dm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),_U(r).then(s,a)});return i.request=r,i}function VQ(e,t,n){var r=dm(e,t,n);return r.then(function(i){if(i)return new eh(i,r.request)})}function Pl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function iS(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return dm(this[t],i,arguments)})})}function pm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function wU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return VQ(this[t],i,arguments)})})}function Aa(e){this._index=e}Pl(Aa,"_index",["name","keyPath","multiEntry","unique"]);iS(Aa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);wU(Aa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function eh(e,t){this._cursor=e,this._request=t}Pl(eh,"_cursor",["direction","key","primaryKey","value"]);iS(eh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(eh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),_U(t._request).then(function(r){if(r)return new eh(r,t._request)})})})});function mi(e){this._store=e}mi.prototype.createIndex=function(){return new Aa(this._store.createIndex.apply(this._store,arguments))};mi.prototype.index=function(){return new Aa(this._store.index.apply(this._store,arguments))};Pl(mi,"_store",["name","keyPath","indexNames","autoIncrement"]);iS(mi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);wU(mi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);pm(mi,"_store",IDBObjectStore,["deleteIndex"]);function Bh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Bh.prototype.objectStore=function(){return new mi(this._tx.objectStore.apply(this._tx,arguments))};Pl(Bh,"_tx",["objectStoreNames","mode"]);pm(Bh,"_tx",IDBTransaction,["abort"]);function vm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Bh(n)}vm.prototype.createObjectStore=function(){return new mi(this._db.createObjectStore.apply(this._db,arguments))};Pl(vm,"_db",["name","version","objectStoreNames"]);pm(vm,"_db",IDBDatabase,["deleteObjectStore","close"]);function gm(e){this._db=e}gm.prototype.transaction=function(){return new Bh(this._db.transaction.apply(this._db,arguments))};Pl(gm,"_db",["name","version","objectStoreNames"]);pm(gm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[mi,Aa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=UQ(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Aa,mi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function oS(e,t,n){var r=dm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new vm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new gm(s)})}function K_(e){return dm(indexedDB,"deleteDatabase",[e])}var BQ="@firebase/installations",EU="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bU=1e4,TU="w:"+EU,IU="FIS_v2",$Q="https://firebaseinstallations.googleapis.com/v1",qQ=60*60*1e3,zQ="installations",HQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co,WQ=(co={},co["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',co["not-registered"]="Firebase Installation is not registered.",co["installation-not-found"]="Firebase Installation not found.",co["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',co["app-offline"]="Could not process request. Application offline.",co["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",co),Bi=new Hi(zQ,HQ,WQ);function SU(e){return e instanceof yl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(e){var t=e.projectId;return $Q+"/projects/"+t+"/installations"}function kU(e){return{token:e.token,requestStatus:2,expiresIn:KQ(e.expiresIn),creationTime:Date.now()}}function aS(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Bi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function CU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NU(e,t){var n=t.refreshToken,r=CU(e);return r.append("Authorization",GQ(n)),r}function uS(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function KQ(e){return Number(e.replace("s","000"))}function GQ(e){return IU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=sS(e),i=CU(e),s={fid:n,authVersion:IU,appId:e.appId,sdkVersion:TU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,uS(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:kU(c.authToken)},[2,h];case 3:return[4,aS("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(e){var t=btoa(String.fromCharCode.apply(String,ve([],qt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ=/^[cdef][\w-]{21}$/,GE="";function JQ(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=ZQ(e);return XQ.test(n)?n:GE}catch{return GE}}function ZQ(e){var t=YQ(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll=new Map;function RU(e,t){var n=Ol(e);xU(n,t),nY(n,t)}function eY(e,t){PU();var n=Ol(e),r=ll.get(n);r||(r=new Set,ll.set(n,r)),r.add(t)}function tY(e,t){var n=Ol(e),r=ll.get(n);r&&(r.delete(t),r.size===0&&ll.delete(n),OU())}function xU(e,t){var n,r,i=ll.get(e);if(i)try{for(var s=Ot(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function nY(e,t){var n=PU();n&&n.postMessage({key:e,fid:t}),OU()}var $s=null;function PU(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=function(e){xU(e.data.key,e.data.fid)}),$s}function OU(){ll.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rY="firebase-installations-database",iY=1,la="firebase-installations-store",G_=null;function lS(){return G_||(G_=oS(rY,iY,function(e){switch(e.oldVersion){case 0:e.createObjectStore(la)}})),G_}function Yv(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=Ol(e),[4,lS()];case 1:return r=l.sent(),i=r.transaction(la,"readwrite"),s=i.objectStore(la),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&RU(e,t.fid),[2,t]}})})}function cS(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Ol(e),[4,lS()];case 1:return n=i.sent(),r=n.transaction(la,"readwrite"),[4,r.objectStore(la).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function $h(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Ol(e),[4,lS()];case 1:return r=c.sent(),i=r.transaction(la,"readwrite"),s=i.objectStore(la),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&RU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,$h(e,function(s){var a=oY(s),l=sY(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==GE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function oY(e){var t=e||{fid:JQ(),registrationStatus:0};return DU(t)}function sY(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Bi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=aY(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uY(e)}:{installationEntry:t}}function aY(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,QQ(e,t)];case 1:return n=i.sent(),[2,Yv(e,n)];case 2:return r=i.sent(),SU(r)&&r.customData.serverCode===409?[4,cS(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Yv(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function uY(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,sP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,AU(100)];case 3:return s.sent(),[4,sP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,fS(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function sP(e){return $h(e,function(t){if(!t)throw Bi.create("installation-not-found");return DU(t)})}function DU(e){return lY(e)?{fid:e.fid,registrationStatus:0}:e}function lY(e){return e.registrationStatus===1&&e.registrationTime+bU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g;return N(this,function(m){switch(m.label){case 0:return i=fY(n,t),s=NU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:TU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,uS(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),g=kU(p),[2,g];case 3:return[4,aS("Generate Auth Token",h)];case 4:throw m.sent()}})})}function fY(e,t){var n=t.fid;return sS(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,$h(e.appConfig,function(l){if(!LU(l))throw Bi.create("not-registered");var c=l.authToken;if(!t&&pY(c))return l;if(c.requestStatus===1)return n=hY(e,t),l;if(!navigator.onLine)throw Bi.create("app-offline");var h=gY(l);return n=dY(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function hY(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,aP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,AU(100)];case 3:return i.sent(),[4,aP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,hS(e,t)]:[2,r]}})})}function aP(e){return $h(e,function(t){if(!LU(t))throw Bi.create("not-registered");var n=t.authToken;return mY(n)?ie(ie({},t),{authToken:{requestStatus:0}}):t})}function dY(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,cY(e,t)];case 1:return n=s.sent(),i=ie(ie({},t),{authToken:n}),[4,Yv(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),SU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,cS(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ie(ie({},t),{authToken:{requestStatus:0}}),[4,Yv(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function LU(e){return e!==void 0&&e.registrationStatus===2}function pY(e){return e.requestStatus===2&&!vY(e)}function vY(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qQ}function gY(e){var t={requestStatus:1,requestTime:Date.now()};return ie(ie({},e),{authToken:t})}function mY(e){return e.requestStatus===1&&e.requestTime+bU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,fS(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):hS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,wY(e.appConfig)];case 1:return r.sent(),[4,hS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function wY(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,fS(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=bY(e,t),r=NU(e,t),i={method:"DELETE",headers:r},[4,uS(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,aS("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function bY(e,t){var n=t.fid;return sS(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,$h(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Bi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Bi.create("app-offline");case 3:return[4,EY(t,n)];case 4:return r.sent(),[4,cS(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(e,t){var n=e.appConfig;return eY(n,t),function(){tY(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(e){var t,n;if(!e||!e.options)throw Q_("App Configuration");if(!e.name)throw Q_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ot(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Q_(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Q_(e){return Bi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(e){var t="installations";e.INTERNAL.registerComponent(new ln(t,function(n){var r=n.getProvider("app").getImmediate(),i=SY(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return yY(a)},getToken:function(c){return _Y(a,c)},delete:function(){return TY(a)},onIdChange:function(c){return IY(a,c)}};return l},"PUBLIC")),e.registerVersion(BQ,EU)}kY(te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,CY=(mt={},mt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',mt["only-available-in-window"]="This method is available in a Window context.",mt["only-available-in-sw"]="This method is available in a service worker context.",mt["permission-default"]="The notification permission was not granted and dismissed instead.",mt["permission-blocked"]="The notification permission was not granted and blocked instead.",mt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",mt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",mt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",mt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",mt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",mt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",mt["token-update-no-token"]="FCM returned no token when updating the user to push.",mt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",mt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",mt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",mt["invalid-vapid-key"]="The public VAPID key must be a string.",mt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",mt),Oe=new Hi("messaging","Messaging",CY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NY="/firebase-messaging-sw.js",AY="/firebase-cloud-messaging-push-scope",Xv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",RY="https://fcmregistrations.googleapis.com/v1",MU="FCM_MSG",xY="FirebaseMessaging: ",PY="google.c.a.e",FU="google.c.a.c_id",OY="google.c.a.ts",DY="google.c.a.c_l",LY=1e3,MY=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ca;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ca||(ca={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ve([],qt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FY(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_="fcm_token_details_db",jY=5,uP="fcm_token_object_Store";function UY(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(Y_))return[2,null];a.label=2;case 2:return r=null,[4,oS(Y_,jY,function(l){return A(s,void 0,void 0,function(){var c,h,p,p,p,g;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(uP)?(c=l.transaction.objectStore(uP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(g=p.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:ki(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ki(p.auth),p256dh:ki(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ki(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ki(p.auth),p256dh:ki(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ki(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,K_(Y_)];case 4:return a.sent(),[4,K_("fcm_vapid_details_db")];case 5:return a.sent(),[4,K_("undefined")];case 6:return a.sent(),[2,VY(r)?r:null]}})})}function VY(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BY="firebase-messaging-database",$Y=1,fa="firebase-messaging-store",X_=null;function dS(){return X_||(X_=oS(BY,$Y,function(e){switch(e.oldVersion){case 0:e.createObjectStore(fa)}})),X_}function Jv(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=vS(e),[4,dS()];case 1:return n=s.sent(),[4,n.transaction(fa).objectStore(fa).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,UY(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,pS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function pS(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=vS(e),[4,dS()];case 1:return r=s.sent(),i=r.transaction(fa,"readwrite"),[4,i.objectStore(fa).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function qY(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=vS(e),[4,dS()];case 1:return n=i.sent(),r=n.transaction(fa,"readwrite"),[4,r.objectStore(fa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function vS(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,mS(e)];case 1:n=h.sent(),r=UU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(gS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Oe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Oe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Oe.create("token-subscribe-no-token");return[2,s.token]}})})}function HY(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,mS(e)];case 1:n=h.sent(),r=UU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(gS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Oe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Oe.create("token-update-failed",{errorInfo:c});if(!s.token)throw Oe.create("token-update-no-token");return[2,s.token]}})})}function jU(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,mS(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(gS(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Oe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Oe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function gS(e){var t=e.projectId;return RY+"/projects/"+t+"/registrations"}function mS(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function UU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Xv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WY=7*24*60*60*1e3;function QE(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Oe.create("permission-blocked");return[4,GY(t,n)];case 1:return r=l.sent(),[4,Jv(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ki(r.getKey("auth")),p256dh:ki(r.getKey("p256dh"))},i?[3,3]:[2,lP(e,s)];case 3:if(QY(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,jU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,lP(e,s)];case 8:return Date.now()>=i.createTime+WY?[2,KY({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function df(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Jv(e)];case 1:return n=i.sent(),n?[4,jU(e,n.token)]:[3,4];case 2:return i.sent(),[4,qY(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function KY(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,HY(t,e)];case 1:return r=a.sent(),i=ie(ie({},e),{token:r,createTime:Date.now()}),[4,pS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,df(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function lP(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,zY(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,pS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function GY(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FY(t)})]}})})}function QY(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YY(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return XY(t,e),JY(t,e),ZY(t,e),t}function XY(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function JY(e,t){t.data&&(e.data=t.data)}function ZY(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){return typeof e=="object"&&!!e&&FU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Oe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Jv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Xv,i.label=2;case 2:return[2,QE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return df(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Oe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Oe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Oe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Oe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Oe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Oe.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=nX(t),n?[4,BU()]:(console.debug(xY+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),iX(r)?[2,oX(r,n)]:(i=!1,n.notification?[4,sX(tX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=YY(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,cP(LY)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,df(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Jv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,df(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,QE(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Xv)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[MU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=aX(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,rX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,cP(MY)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=ca.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function tX(e){var t,n=ie({},e.notification);return n.data=(t={},t[MU]=e,t),n}function nX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function rX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,BU()];case 1:t=c.sent();try{for(n=Ot(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function iX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function oX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ca.PUSH_RECEIVED;try{for(var i=Ot(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function BU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function sX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function aX(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(VU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===ca.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(cX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,VU(r)&&r[PY]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Oe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,QE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Xv),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Oe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(NY,{scope:AY})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Oe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,df(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Oe.create("permission-blocked"):Oe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Oe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Oe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Oe.create("invalid-sw-registration");if(this.swRegistration)throw Oe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Oe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Oe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=lX(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[FU],message_name:n[DY],message_time:n[OY],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function lX(e){switch(e){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cX(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(e){var t,n;if(!e||!e.options)throw J_("App Configuration Object");if(!e.name)throw J_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Ot(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw J_(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function J_(e){return Oe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hX="messaging";function dX(e){var t=e.getProvider("app").getImmediate(),n=fX(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!$U())throw Oe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new eX(s):new uX(s)}var pX={isSupported:$U};te.INTERNAL.registerComponent(new ln(hX,dX,"PUBLIC").setServiceProps(pX));function $U(){return self&&"ServiceWorkerGlobalScope"in self?gX():vX()}function vX(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function gX(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qU="firebasestorage.googleapis.com",zU="storageBucket",mX=2*60*1e3,yX=10*60*1e3,dt=function(e){G(t,e);function t(n,r){var i=e.call(this,Z_(n),"Firebase Storage: "+r+" ("+Z_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return Z_(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(yl);function Z_(e){return"storage/"+e}function yS(){var e="An unknown error occurred, please check the error payload for server response.";return new dt("unknown",e)}function _X(e){return new dt("object-not-found","Object '"+e+"' does not exist.")}function wX(e){return new dt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EX(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt("unauthenticated",e)}function bX(){return new dt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function TX(e){return new dt("unauthorized","User does not have permission to access '"+e+"'.")}function IX(){return new dt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function HU(){return new dt("canceled","User canceled the upload/download.")}function SX(e){return new dt("invalid-url","Invalid URL '"+e+"'.")}function kX(e){return new dt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function CX(){return new dt("no-default-bucket","No default bucket found. Did you set the '"+zU+"' property when initializing the app?")}function WU(){return new dt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NX(){return new dt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function AX(){return new dt("no-download-url","The given file does not have any download URLs.")}function Ou(e){return new dt("invalid-argument",e)}function KU(){return new dt("app-deleted","The Firebase app was deleted.")}function GU(e){return new dt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pf(e,t){return new dt("invalid-format","String does not match format '"+e+"': "+t)}function pp(e){throw new dt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ew=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function QU(e,t){switch(e){case cr.RAW:return new ew(YU(t));case cr.BASE64:case cr.BASE64URL:return new ew(XU(e,t));case cr.DATA_URL:return new ew(PX(t),OX(t))}throw yS()}function YU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xX(e){var t;try{t=decodeURIComponent(e)}catch{throw pf(cr.DATA_URL,"Malformed data URL.")}return YU(t)}function XU(e,t){switch(e){case cr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw pf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case cr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw pf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=RX(t)}catch{throw pf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var JU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw pf(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=DX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function PX(e){var t=new JU(e);return t.base64?XU(cr.BASE64,t.rest):xX(t.rest)}function OX(e){var t=new JU(e);return t.contentType}function DX(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LX={STATE_CHANGED:"state_changed"},mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tw(e){switch(e){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Qs||(Qs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MX=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Qs.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Qs.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw pp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw pp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw pp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw pp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function FX(){return new MX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX=function(){function e(){}return e.prototype.createConnection=function(){return FX()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw kX(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(Q){Q.path_=decodeURIComponent(Q.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+g+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},I=n===qU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+i+"/"+E,"i"),S={bucket:1,path:2},R=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:T,indices:S,postModify:h}],P=0;P<R.length;P++){var M=R[P],O=M.regex.exec(t);if(O){var z=O[M.indices.bucket],U=O[M.indices.path];U||(U=""),r=new e(z,U),M.postModify(r);break}}if(r==null)throw SX(t);return r},e}(),UX=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],I=0;I<arguments.length;I++)w[I]=arguments[I];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(g,l())},w)}function g(w){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!c){if(w){h.call.apply(h,ve([null,w],I));return}var T=l()||s;if(T){h.call.apply(h,ve([null,w],I));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,p(S)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function BX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(e){return e!==void 0}function qX(e){return typeof e=="function"}function zX(e){return typeof e=="object"&&!Array.isArray(e)}function mm(e){return typeof e=="string"||e instanceof String}function fP(e){return _S()&&e instanceof Blob}function _S(){return typeof Blob<"u"}function YE(e,t,n,r){if(r<t)throw Ou("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ou("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function ZU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX=function(){function e(t,n,r,i,s,a,l,c,h,p,g){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=g,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new vp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===Qs.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===Qs.ABORT;i(!1,new vp(!1,null,p));return}var g=t.successCodes_.indexOf(h)!==-1;i(!0,new vp(g,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());$X(h)?a(h):a()}catch(g){l(g)}else if(c!==null){var p=yS();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?KU():HU();l(p)}else{var p=IX();l(p)}}this.canceled_?r(!1,new vp(!1,null,!0)):this.backoffId_=VX(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&BX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),vp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function WX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function KX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function GX(e,t){t&&(e["X-Firebase-GMPID"]=t)}function QX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function YX(e,t,n,r,i,s){var a=ZU(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return GX(c,t),WX(c,n),KX(c,s),QX(c,r),new HX(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=XX();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(_S())return new Blob(e);throw new dt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function ZX(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wS=function(){function e(t,n){var r=0,i="";fP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(fP(this.data_)){var r=this.data_,i=ZX(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(_S()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(JX.apply(null,r))}else{var i=t.map(function(c){return mm(c)?QU(cr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e){var t;try{t=JSON.parse(e)}catch{return null}return zX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function tJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function e4(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(e,t){return t}var pn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||nJ}return e}(),gp=null;function rJ(e){return!mm(e)||e.length<2?e:e4(e)}function ym(){if(gp)return gp;var e=[];e.push(new pn("bucket")),e.push(new pn("generation")),e.push(new pn("metageneration")),e.push(new pn("name","fullPath",!0));function t(s,a){return rJ(a)}var n=new pn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new pn("size");return i.xform=r,e.push(i),e.push(new pn("timeCreated")),e.push(new pn("updated")),e.push(new pn("md5Hash",null,!0)),e.push(new pn("cacheControl",null,!0)),e.push(new pn("contentDisposition",null,!0)),e.push(new pn("contentEncoding",null,!0)),e.push(new pn("contentLanguage",null,!0)),e.push(new pn("contentType",null,!0)),e.push(new pn("metadata","customMetadata",!0)),gp=e,gp}function iJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new fr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function oJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return iJ(r,e),r}function t4(e,t,n){var r=ES(t);if(r===null)return null;var i=r;return oJ(e,i,n)}function sJ(e,t,n){var r=ES(t);if(r===null||!mm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,g="/b/"+s(h)+"/o/"+s(p),m=ts(g,n),y=ZU({alt:"media",token:c});return m+y});return l[0]}function bS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hP="prefixes",dP="items";function aJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hP])for(var i=0,s=n[hP];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new fr(t,l));r.prefixes.push(c)}if(n[dP])for(var h=0,p=n[dP];h<p.length;h++){var g=p[h],c=e._makeStorageReference(new fr(t,g.name));r.items.push(c)}return r}function uJ(e,t,n){var r=ES(n);if(r===null)return null;var i=r;return aJ(e,t,i)}var Gi=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e){if(!e)throw yS()}function _m(e,t){function n(r,i){var s=t4(e,i,t);return li(s!==null),s}return n}function lJ(e,t){function n(r,i){var s=uJ(e,t,i);return li(s!==null),s}return n}function cJ(e,t){function n(r,i){var s=t4(e,i,t);return li(s!==null),sJ(s,i,e.host)}return n}function Dl(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=bX():i=EX():n.getStatus()===402?i=wX(e.bucket):n.getStatus()===403?i=TX(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function wm(e){var t=Dl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=_X(e.path)),s.serverResponse=i.serverResponse,s}return n}function n4(e,t,n){var r=t.fullServerUrl(),i=ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Gi(i,s,_m(e,n),a);return l.errorHandler=wm(t),l}function fJ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=ts(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new Gi(l,c,lJ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Dl(t),p}function hJ(e,t,n){var r=t.fullServerUrl(),i=ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Gi(i,s,cJ(e,n),a);return l.errorHandler=wm(t),l}function dJ(e,t,n,r){var i=t.fullServerUrl(),s=ts(i,e.host),a="PATCH",l=bS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new Gi(s,a,_m(e,r),h);return p.headers=c,p.body=l,p.errorHandler=wm(t),p}function pJ(e,t){var n=t.fullServerUrl(),r=ts(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new Gi(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=wm(t),l}function vJ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function r4(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=vJ(null,t)),r}function gJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var R="",P=0;P<2;P++)R=R+Math.random().toString().slice(2);return R}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=r4(t,r,i),p=bS(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=wS.getBlob(g,r,m);if(y===null)throw WU();var w={name:h.fullPath},I=ts(s,e.host),E="POST",T=e.maxUploadRetryTime,S=new Gi(I,E,_m(e,n),T);return S.urlParams=w,S.headers=a,S.body=y.uploadData(),S.errorHandler=Dl(t),S}var Zv=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function TS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{li(!1)}var r=t||["active"];return li(!!n&&r.indexOf(n)!==-1),n}function mJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=r4(t,r,i),l={name:a.fullPath},c=ts(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=bS(a,n),m=e.maxUploadRetryTime;function y(I){TS(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{li(!1)}return li(mm(E)),E}var w=new Gi(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=g,w.errorHandler=Dl(t),w}function yJ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=TS(h,["active","final"]),g=null;try{g=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{li(!1)}g||li(!1);var m=Number(g);return li(!isNaN(m)),new Zv(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new Gi(n,a,s,l);return c.headers=i,c.errorHandler=Dl(t),c}var pP=256*1024;function _J(e,t,n,r,i,s,a,l){var c=new Zv(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw NX();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var g=c.current,m=g+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},I=r.slice(g,m);if(I===null)throw WU();function E(P,M){var O=TS(P,["active","final"]),z=c.current+p,U=r.size(),Q;return O==="final"?Q=_m(t,s)(P,M):Q=null,new Zv(z,U,O==="final",Q)}var T="POST",S=t.maxUploadRetryTime,R=new Gi(n,T,E,S);return R.headers=w,R.body=I.uploadData(),R.progressCallback=l||null,R.errorHandler=Dl(e),R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ=function(){function e(t,n,r){var i=qX(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=ym(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=mJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=yJ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=pP*this._chunkMultiplier,r=new Zv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=_J(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=pP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=n4(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=gJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=HU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=tw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new wJ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(tw(this._state)){case mn.SUCCESS:ou(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:var n=this._reject;ou(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=tw(this._state);switch(n){case mn.RUNNING:case mn.PAUSED:t.next&&ou(t.next.bind(t,this.snapshot))();break;case mn.SUCCESS:t.complete&&ou(t.complete.bind(t))();break;case mn.CANCELED:case mn.ERROR:t.error&&ou(t.error.bind(t,this._error))();break;default:t.error&&ou(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){function e(t,n){this._service=t,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new fr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return e4(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=eJ(this._location.path);if(t===null)return null;var n=new fr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw GU(t)},e}();function EJ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new i4(e,new wS(t),n)}function bJ(e){var t={prefixes:[],items:[]};return o4(e,t).then(function(){return t})}function o4(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,s4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,o4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function s4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&YE("options.maxResults",1,1e3,t.maxResults),n=t||{},r=fJ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function TJ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=n4(e.storage,e._location,ym()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function IJ(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=dJ(e.storage,e._location,t,ym()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function SJ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=hJ(e.storage,e._location,ym()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw AX();return r})]}})})}function kJ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=pJ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function a4(e,t){var n=tJ(e._location.path,t),r=new fr(e._location.bucket,n);return new Em(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(e){return/^[A-Za-z]+:\/\//.test(e)}function CJ(e,t){return new Em(e,t)}function u4(e,t){if(e instanceof bm){var n=e;if(n._bucket==null)throw CX();var r=new Em(n,n._bucket);return t!=null?u4(r,t):r}else return t!==void 0?a4(e,t):e}function NJ(e,t){if(t&&XE(t)){if(e instanceof bm)return CJ(e,t);throw Ou("To use ref(service, url), the first argument must be a Storage instance.")}else return u4(e,t)}function vP(e,t){var n=t==null?void 0:t[zU];return n==null?null:fr.makeFromBucketSpec(n,e)}function AJ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:nT(i,e.app.options.projectId))}var bm=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=qU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mX,this._maxUploadRetryTime=yX,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=vP(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,t):this._bucket=vP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){YE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){YE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Em(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new UX(KU());var s=YX(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(e,t,n){return e=de(e),EJ(e,t,n)}function xJ(e){return e=de(e),TJ(e)}function PJ(e,t){return e=de(e),IJ(e,t)}function OJ(e,t){return e=de(e),s4(e,t)}function DJ(e){return e=de(e),bJ(e)}function LJ(e){return e=de(e),SJ(e)}function MJ(e){return e=de(e),kJ(e)}function gP(e,t){return e=de(e),NJ(e,t)}function FJ(e,t){return a4(e,t)}function jJ(e,t,n,r){r===void 0&&(r={}),AJ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mP=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new mp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new mp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new mp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new mp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),yP=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new th(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new th(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=FJ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new mP(RJ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=cr.RAW),this._throwIfRoot("putString");var i=QU(n,t),s=ie({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new mP(new i4(this._delegate,new wS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return DJ(this._delegate).then(function(n){return new yP(n,t.storage)})},e.prototype.list=function(t){var n=this;return OJ(this._delegate,t||void 0).then(function(r){return new yP(r,n.storage)})},e.prototype.getMetadata=function(){return xJ(this._delegate)},e.prototype.updateMetadata=function(t){return PJ(this._delegate,t)},e.prototype.getDownloadURL=function(){return LJ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),MJ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw GU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UJ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(XE(t))throw Ou("ref() expected a child path but got a URL, use refFromURL instead.");return new th(gP(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!XE(t))throw Ou("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fr.makeFromUrl(t,this._delegate.host)}catch{throw Ou("refFromUrl() expected a valid full URL but got an invalid one.")}return new th(gP(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),jJ(this._delegate,t,n,r)},e}(),VJ="@firebase/storage",BJ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $J="storage";function qJ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new UJ(r,new bm(r,i,s,new jX,n,te.SDK_VERSION));return a}function zJ(e){var t={TaskState:mn,TaskEvent:LX,StringFormat:cr,Storage:bm,Reference:th};e.INTERNAL.registerComponent(new ln($J,qJ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(VJ,BJ)}zJ(te);var HJ="@firebase/performance",l4="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c4=l4,WJ="FB-PERF-TRACE-START",KJ="FB-PERF-TRACE-STOP",JE="FB-PERF-TRACE-MEASURE",f4="_wt_",h4="_fp",d4="_fcp",p4="_fid",v4="@firebase/performance/config",g4="@firebase/performance/configexpire",GJ="performance",m4="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,QJ=(jt={},jt["trace started"]="Trace {$traceName} was started before.",jt["trace stopped"]="Trace {$traceName} is not running.",jt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",jt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",jt["no window"]="Window is not available.",jt["no app id"]="App id is not available.",jt["no project id"]="Project id is not available.",jt["no api key"]="Api key is not available.",jt["invalid cc log"]="Attempted to queue invalid cc event",jt["FB not default"]="Performance can only start when Firebase app instance is the default one.",jt["RC response not ok"]="RC response is not ok",jt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",jt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",jt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",jt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",jt),Zt=new Hi(GJ,m4,QJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=new ma(m4);$i.logLevel=_e.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw,y4,sn=function(){function e(t){if(this.window=t,!t)throw Zt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?($i.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):fh()?!0:($i.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return nw===void 0&&(nw=new e(y4)),nw},e}();function YJ(e){y4=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(e,t){var n=e.length-t.length;if(n<0||n>1)throw Zt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rw,wt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=_P("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=_P("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Zt.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Zt.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Zt.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return rw===void 0&&(rw=new e),rw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _4;function XJ(){var e=wt.getInstance().installationsService.getId();return e.then(function(t){_4=t}),e}function IS(){return _4}function JJ(){var e=wt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Du||(Du={}));var ZJ=["firebase_","google_","ga_"],eZ=new RegExp("^[a-zA-Z]\\w*$"),tZ=40,nZ=100;function rZ(){var e=sn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function w4(){var e=sn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Du.VISIBLE;case"hidden":return Du.HIDDEN;default:return Du.UNKNOWN}}function iZ(){var e=sn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function oZ(e){if(e.length===0||e.length>tZ)return!1;var t=ZJ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(eZ)}function sZ(e){return e.length!==0&&e.length<=nZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ="0.0.1",uZ={loggingEnabled:!0},lZ="FIREBASE_INSTALLATIONS_AUTH";function cZ(e){var t=fZ();return t?(wP(t),Promise.resolve()):pZ(e).then(wP).then(function(n){return hZ(n)},function(){})}function fZ(){var e=sn.getInstance().localStorage;if(e){var t=e.getItem(g4);if(!(!t||!vZ(t))){var n=e.getItem(v4);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function hZ(e){var t=sn.getInstance().localStorage;!e||!t||(t.setItem(v4,JSON.stringify(e)),t.setItem(g4,String(Date.now()+wt.getInstance().configTimeToLive*60*60*1e3)))}var dZ="Could not fetch config, will use default configs";function pZ(e){return JJ().then(function(t){var n=wt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+wt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:lZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:wt.getInstance().getAppId(),app_version:c4,sdk_version:aZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Zt.create("RC response not ok")})}).catch(function(){$i.info(dZ)})}function wP(e){if(!e)return e;var t=wt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=uZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=EP(t.tracesSamplingRate),t.logNetworkAfterSampling=EP(t.networkRequestsSamplingRate),e}function vZ(e){return Number(e)>Date.now()}function EP(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=1,iw;function E4(){return SS=2,iw=iw||mZ(),iw}function gZ(){return SS===3}function mZ(){return yZ().then(function(){return XJ()}).then(function(e){return cZ(e)}).then(function(){return bP()},function(){return bP()})}function yZ(){var e=sn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function bP(){SS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kS=10*1e3,_Z=5.5*1e3,b4=3,wZ=1e3,eg=b4,Mo=[],TP=!1;function EZ(){TP||(Tm(_Z),TP=!0)}function Tm(e){setTimeout(function(){if(eg!==0){if(!Mo.length)return Tm(kS);bZ()}},e)}function bZ(){var e=Mo.splice(0,wZ),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:wt.getInstance().logSource,log_event:t};TZ(n,e).catch(function(){Mo=ve(ve([],e),Mo),eg--,$i.info("Tries left: "+eg+"."),Tm(kS)})}function TZ(e,t){return IZ(e).then(function(n){return n.ok||$i.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=kS;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Mo=ve(ve([],t),Mo),$i.info("Retry transport request later.")),eg=b4,Tm(i)})}function IZ(e){var t=wt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function SZ(e){if(!e.eventTime||!e.message)throw Zt.create("invalid cc log");Mo=ve(ve([],Mo),[e])}function kZ(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);SZ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow;function T4(e,t){ow||(ow=kZ(NZ)),ow(e,t)}function yp(e){var t=wt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||sn.getInstance().requiredApisAvailable()&&(e.isAuto&&w4()!==Du.VISIBLE||(gZ()?sw(e):E4().then(function(){return sw(e)},function(){return sw(e)})))}function sw(e){if(IS()){var t=wt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return T4(e,1)},0)}}function CZ(e){var t=wt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return T4(e,0)},0)}}function NZ(e,t){return t===0?AZ(e):RZ(e)}function AZ(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:I4(),network_request_metric:t};return JSON.stringify(n)}function RZ(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:I4(),trace_metric:t};return JSON.stringify(r)}function I4(){return{google_app_id:wt.getInstance().getAppId(),app_instance_id:IS(),web_app_info:{sdk_version:c4,page_url:sn.getInstance().getUrl(),service_worker_status:rZ(),visibility_state:w4(),effective_connection_type:iZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ=100,PZ="_",OZ=[h4,d4,p4];function DZ(e,t){return e.length===0||e.length>xZ?!1:t&&t.startsWith(f4)&&OZ.indexOf(e)>-1||!e.startsWith(PZ)}function LZ(e){var t=Math.floor(e);return t<e&&$i.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=sn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=WJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=KJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||JE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Zt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Zt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),yp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Zt.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Zt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ie({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}yp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(DZ(t,this.name))this.counters[t]=LZ(n);else throw Zt.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=oZ(t),i=sZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Zt.create("invalid attribute name",{attributeName:t});if(!i)throw Zt.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ie({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=sn.getInstance().getUrl();if(i){var s=new e(f4+i,!0),a=Math.floor(sn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(g){return g.name===l});h&&h.startTime&&s.putMetric(h4,Math.floor(h.startTime*1e3));var p=n.find(function(g){return g.name===c});p&&p.startTime&&s.putMetric(d4,Math.floor(p.startTime*1e3)),r&&s.putMetric(p4,Math.floor(r*1e3))}yp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);yp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=sn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};CZ(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MZ=5e3;function SP(){IS()&&(setTimeout(function(){return jZ()},0),setTimeout(function(){return FZ()},0),setTimeout(function(){return UZ()},0))}function FZ(){for(var e=sn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];IP(i)}e.setupObserver("resource",IP)}function jZ(){var e=sn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){vf.createOobTrace(t,n),r=void 0},MZ);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),vf.createOobTrace(t,n,i))})}else vf.createOobTrace(t,n)}function UZ(){for(var e=sn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];kP(i)}e.setupObserver("measure",kP)}function kP(e){var t=e.name;t.substring(0,JE.length)!==JE&&vf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VZ=function(){function e(t){this.app=t,sn.getInstance().requiredApisAvailable()&&oT().then(function(n){n&&(EZ(),E4().then(SP,SP))}).catch(function(n){$i.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new vf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return wt.getInstance().instrumentationEnabled},set:function(t){wt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return wt.getInstance().dataCollectionEnabled},set:function(t){wt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BZ="[DEFAULT]";function $Z(e){var t=function(n,r){if(n.name!==BZ)throw Zt.create("FB not default");if(typeof window>"u")throw Zt.create("no window");return YJ(window),wt.getInstance().firebaseAppInstance=n,wt.getInstance().installationsService=r,new VZ(n)};e.INTERNAL.registerComponent(new ln("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(HJ,l4)}$Z(te);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qZ="firebase_id",zZ="origin",HZ=60*1e3,WZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S4="https://www.googletagmanager.com/gtag/js",an;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(an||(an={}));var ZE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(ZE||(ZE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(an.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ie(ie({},r),{send_to:s}),e(an.EVENT,n,a),l.label=3;case 3:return[2]}})})}function GZ(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(an.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(an.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function QZ(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(an.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(an.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function YZ(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(an.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(an.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function XZ(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t=new ma("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(e,t){var n=document.createElement("script");n.src=S4+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function ZZ(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function eee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(g){return g.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),$t.error(h),[3,8];case 8:return e(an.CONFIG,i,s),[2]}})})}function tee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h,p,g,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(I){var E=l.find(function(S){return S.measurementId===I}),T=E&&t[E.appId];if(T)s.push(T);else return s=[],"break"},h=0,p=a;h<p.length&&(g=p[h],m=c(g),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(an.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),$t.error(y),[3,5];case 5:return[2]}})})}function nee(e,t,n,r){function i(s,a,l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==an.EVENT?[3,2]:[4,tee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==an.CONFIG?[3,4]:[4,eee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(an.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),$t.error(c),[3,7];case 7:return[2]}})})}return i}function ree(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=nee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function iee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(S4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or,oee=(Or={},Or["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Or["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Or["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Or["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Or["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Or["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Or["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Or["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Or["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Or),vr=new Hi("analytics","Analytics",oee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var see=30,aee=1e3,uee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=aee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),k4=new uee;function lee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function cee(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:lee(r)},s=WZ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function fee(e,t,n){return t===void 0&&(t=k4),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw vr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw vr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new pee,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(g){return c.abort(),[2]})})},n!==void 0?n:HZ),[2,C4({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function C4(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=k4),A(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,hee(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return $t.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,cee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!dee(p)){if(r.deleteThrottleMetadata(a),l)return $t.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return g=Number(p.customData.httpStatus)===503?Zw(s,r.intervalMillis,see):Zw(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,m),$t.debug("Calling attemptFetch again in "+g+" millis"),[2,C4(e,m,n,r)];case 7:return[2]}})})}function hee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(vr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dee(e){if(!(e instanceof yl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var pee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return fh()?[3,1]:($t.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,oT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),$t.warn(vr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function gee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return a=fee(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&$t.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return $t.error(w)}),t.push(a),l=vee().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],iee()||JZ(s,h.measurementId),i("js",new Date),g=(m={},m[zZ]="firebase",m.update=!0,m),p!=null&&(g[qZ]=p),i(an.CONFIG,h.measurementId,g),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si={},CP=[],NP={},jp="dataLayer",N4="gtag",AP,Lc,eb=!1;function mee(e){if(eb)throw vr.create("already-initialized");e.dataLayerName&&(jp=e.dataLayerName),e.gtagName&&(N4=e.gtagName)}function yee(){var e=[];if(iT()&&e.push("This is a browser extension environment."),YD()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:t});$t.warn(n.message)}}function _ee(e,t){yee();var n=e.options.appId;if(!n)throw vr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)$t.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw vr.create("no-api-key");if(Si[n]!=null)throw vr.create("already-exists",{id:n});if(!eb){ZZ(jp);var r=ree(Si,CP,NP,jp,N4),i=r.wrappedGtag,s=r.gtagCore;Lc=i,AP=s,eb=!0}Si[n]=gee(e,CP,NP,t,AP,jp);var a={app:e,logEvent:function(l,c,h){KZ(Lc,Si[n],l,c,h).catch(function(p){return $t.error(p)})},setCurrentScreen:function(l,c){GZ(Lc,Si[n],l,c).catch(function(h){return $t.error(h)})},setUserId:function(l,c){QZ(Lc,Si[n],l,c).catch(function(h){return $t.error(h)})},setUserProperties:function(l,c){YZ(Lc,Si[n],l,c).catch(function(h){return $t.error(h)})},setAnalyticsCollectionEnabled:function(l){XZ(Si[n],l).catch(function(c){return $t.error(c)})},INTERNAL:{delete:function(){return delete Si[n],Promise.resolve()}}};return a}var wee="@firebase/analytics",Eee="0.6.18",RP="analytics";function bee(e){e.INTERNAL.registerComponent(new ln(RP,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return _ee(r,i)},"PUBLIC").setServiceProps({settings:mee,EventName:ZE,isSupported:Tee})),e.INTERNAL.registerComponent(new ln("analytics-internal",t,"PRIVATE")),e.registerVersion(wee,Eee);function t(n){try{var r=n.getProvider(RP).getImmediate();return{logEvent:r.logEvent}}catch(i){throw vr.create("interop-component-reg-failed",{reason:i})}}}bee(te);function Tee(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(iT())return[2,!1];if(!YD())return[2,!1];if(!fh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,oT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iee=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,See=(vn={},vn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",vn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",vn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",vn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",vn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",vn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",vn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",vn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",vn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",vn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',vn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',vn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",vn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",vn),hr=new Hi("remoteconfig","Remote Config",See);function kee(e,t){return e instanceof yl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nee=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,w,I,E,T,S,R,P;return N(this,function(M){switch(M.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=M.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Cee()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),g=new Promise(function(O,z){t.signal.addEventListener(function(){var U=new Error("The operation was aborted.");U.name="AbortError",z(U)})}),M.label=2;case 2:return M.trys.push([2,5,,6]),[4,Promise.race([p,g])];case 3:return M.sent(),[4,p];case 4:return m=M.sent(),[3,6];case 5:throw y=M.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),hr.create(w,{originalErrorMessage:y.message});case 6:if(I=m.status,E=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];R=void 0,M.label=7;case 7:return M.trys.push([7,9,,10]),[4,m.json()];case 8:return R=M.sent(),[3,10];case 9:throw P=M.sent(),hr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:T=R.entries,S=R.state,M.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?I=500:S==="NO_CHANGE"?I=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(T={}),I!==304&&I!==200)throw hr.create("fetch-status",{httpStatus:I});return[2,{status:I,eTag:E,config:T}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ree=!1,xee="",xP=0,Pee=["1","true","t","yes","y","on"],aw=function(){function e(t,n){n===void 0&&(n=xee),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?Ree:Pee.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return xP;var t=Number(this._value);return isNaN(t)&&(t=xP),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oee=60*1e3,Dee=12*60*60*1e3,Lee=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Oee,minimumFetchIntervalMillis:Dee},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=_e.DEBUG;break;case"silent":this._logger.logLevel=_e.SILENT;break;default:this._logger.logLevel=_e.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new Aee,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=kee(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Mee(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new aw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new aw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new aw("static"))},e}();function Mee(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ie(ie({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(e,t){var n=e.target.error||void 0;return hr.create(t,{originalErrorMessage:n&&n.message})}var Ns="app_namespace_store",Fee="firebase_remote_config",jee=1;function Uee(){return new Promise(function(e,t){var n=indexedDB.open(Fee,jee);n.onerror=function(r){t(Up(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ns,{keyPath:"compositeKey"})}}})}var Vee=function(){function e(t,n,r,i){i===void 0&&(i=Uee()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ns],"readonly"),c=l.objectStore(Ns),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(g){a(Up(g,"storage-get"))},p.onsuccess=function(g){var m=g.target.result;s(m?m.value:void 0)}}catch(g){a(hr.create("storage-get",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Ns],"readwrite"),h=c.objectStore(Ns),p=i.createCompositeKey(t);try{var g=h.put({compositeKey:p,value:n});g.onerror=function(m){l(Up(m,"storage-set"))},g.onsuccess=function(){a()}}catch(m){l(hr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ns],"readwrite"),c=l.objectStore(Ns),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(g){a(Up(g,"storage-delete"))},p.onsuccess=function(){s()}}catch(g){a(hr.create("storage-delete",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bee=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(hr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function qee(e){if(!(e instanceof yl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var zee=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,$ee(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!qee(a))throw a;return l={throttleEndTimeMillis:Date.now()+Zw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),PP="@firebase/remote-config",Hee="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(e){e.INTERNAL.registerComponent(new ln("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(PP,Hee);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw hr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw hr.create("registration-project-id");if(!h)throw hr.create("registration-api-key");if(!p)throw hr.create("registration-app-id");i=i||"firebase";var g=new Vee(p,s.name,i),m=new Bee(g),y=new ma(PP);y.logLevel=_e.ERROR;var w=new Nee(a,e.SDK_VERSION,i,c,h,p),I=new zee(w,g),E=new Iee(I,g,m,y),T=new Lee(s,E,m,g,y);return T.ensureInitialized(),T}}Wee(te);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,Kee=(Dr={},Dr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Dr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Dr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Dr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dr["recaptcha-error"]="ReCAPTCHA error.",Dr),Yn=new Hi("appCheck","AppCheck",Kee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A4=new Map,Gee={activated:!1,tokenObservers:[]},Qee={enabled:!1};function In(e){return A4.get(e)||Gee}function ci(e,t){A4.set(e,t)}function CS(){return Qee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R4="https://content-firebaseappcheck.googleapis.com/v1beta",Yee="exchangeRecaptchaToken",Xee="exchangeDebugToken",OP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jee=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new xt,[4,Zee(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new xt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Zee(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return self.grecaptcha}function x4(e){if(!In(e).activated)throw Yn.create("use-before-activation",{appName:e.name})}function ete(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function tte(e){return _g.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(e,t){var n=e.url,r=e.body;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return N(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),Yn.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw Yn.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw p=w.sent(),Yn.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(g=h.ttl.match(/^([\d.]+)(s)$/),!g||!g[2]||isNaN(Number(g[1])))throw Yn.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(g[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function nte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:R4+"/projects/"+r+"/apps/"+i+":"+Yee+"?key="+s,body:{recaptcha_token:t}}}function rte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:R4+"/projects/"+r+"/apps/"+i+":"+Xee+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ite="firebase-app-check-database",ote=1,nh="firebase-app-check-store",O4="debug-token",_p=null;function D4(){return _p||(_p=new Promise(function(e,t){try{var n=indexedDB.open(ite,ote);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(Yn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nh,{keyPath:"compositeKey"})}}}catch(r){t(Yn.create("storage-open",{originalErrorMessage:r.message}))}}),_p)}function ste(e){return M4(F4(e))}function ate(e,t){return L4(F4(e),t)}function ute(e){return L4(O4,e)}function lte(){return M4(O4)}function L4(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,D4()];case 1:return n=a.sent(),r=n.transaction(nh,"readwrite"),i=r.objectStore(nh),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(Yn.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function M4(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,D4()];case 1:return t=s.sent(),n=t.transaction(nh,"readonly"),r=n.objectStore(nh),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(Yn.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function F4(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=new ma("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!fh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ste(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Im.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function LP(e,t){return fh()?ate(e,t).catch(function(n){Im.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function fte(){return A(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,lte()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=ete(),ute(t).catch(function(r){return Im.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(){var e=CS();return e.enabled}function dte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=CS(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function pte(){var e=y3();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=CS();t.enabled=!0;var n=new xt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(fte())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vte={error:"UNKNOWN_ERROR"};function tg(e,t,n){return n===void 0&&(n=!1),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return x4(e),r=In(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&rh(a)&&(i=a,ci(e,ie(ie({},r),{token:i})),MP(e,{token:i.token})),y.label=2;case 2:return!n&&i&&rh(i)?[2,{token:i.token}]:hte()?(c=P4,h=rte,p=[e],[4,dte()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,LP(e,l)];case 5:return y.sent(),ci(e,ie(ie({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return g=y.sent(),Im.error(g),s=g,[3,9];case 9:return i?[3,10]:(m=mte(s),[3,12]);case 10:return m={token:i.token},ci(e,ie(ie({},r),{token:i})),[4,LP(e,i)];case 11:y.sent(),y.label=12;case 12:return MP(e,m),[2,m]}})})}function j4(e,t,n,r,i){var s=In(e),a={next:r,error:i,type:n},l=ie(ie({},s),{tokenObservers:ve(ve([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=gte(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&rh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&rh(p)&&r({token:p.token})}).catch(function(){});ci(e,l)}function NS(e,t){var n=In(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ci(e,ie(ie({},n),{tokenObservers:r}))}function gte(e,t){var n=this;return new Jee(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=In(e),r.token?[3,2]:[4,tg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,tg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=In(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},OP.RETRIAL_MIN_WAIT,OP.RETRIAL_MAX_WAIT)}function MP(e,t){for(var n=In(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function rh(e){return e.expireTimeMillis-Date.now()>0}function mte(e){return{token:tte(vte),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yte="https://www.google.com/recaptcha/api.js";function _te(e,t){var n=In(e),r=new xt;ci(e,ie(ie({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=DP();return a?a.ready(function(){FP(e,t,a,i),r.resolve(a)}):Ete(function(){var l=DP();if(!l)throw new Error("no recaptcha");l.ready(function(){FP(e,t,l,i),r.resolve(l)})}),r.promise}function wte(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return x4(e),t=In(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=In(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function FP(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=In(e);ci(e,ie(ie({},s),{reCAPTCHAState:ie(ie({},s.reCAPTCHAState),{widgetId:i})}))}function Ete(e){var t=document.createElement("script");t.src=""+yte,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tb=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Yn.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,wte(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),Yn.create("recaptcha-error");case 4:return[2,P4(nte(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,_te(t,this._siteKey).catch(function(){})},e}(),nb=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw Yn.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=b3(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ie(ie({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(e,t,n,r){var i=In(e);if(i.activated)throw Yn.create("already-activated",{appName:e.name});var s=ie(ie({},i),{activated:!0});s.cachedTokenPromise=cte(e).then(function(a){return a&&rh(a)&&ci(e,ie(ie({},In(e)),{token:a})),a}),typeof t=="string"?s.provider=new tb(t):t instanceof tb||t instanceof nb?s.provider=t:s.provider=new nb({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,ci(e,s),s.provider.initialize(e,n)}function Tte(e,t){var n=In(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),ci(e,ie(ie({},n),{isTokenAutoRefreshEnabled:t}))}function Ite(e,t,n){return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,tg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Ste(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),j4(e,t,"EXTERNAL",s,a),function(){return NS(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(e,t){return{app:e,activate:function(n,r){return bte(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return Tte(e,n)},getToken:function(n){return Ite(e,t,n)},onTokenChanged:function(n,r,i){return Ste(e,t,n,r)},INTERNAL:{delete:function(){for(var n=In(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];NS(e,s.next)}return Promise.resolve()}}}}function Cte(e,t){return{getToken:function(n){return tg(e,t,n)},addTokenListener:function(n){return j4(e,t,"INTERNAL",n)},removeTokenListener:function(n){return NS(e,n)}}}var Nte="@firebase/app-check",Ate="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rte="appCheck",jP="app-check-internal";function xte(e){e.INTERNAL.registerComponent(new ln(Rte,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return kte(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:tb,CustomProvider:nb}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(jP);i.initialize()})),e.INTERNAL.registerComponent(new ln(jP,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Cte(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Nte,Ate)}xte(te);pte();var Pte="firebase",U4="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */te.registerVersion(Pte,U4,"app");te.SDK_VERSION=U4;var Ote="firebase",Dte="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);te.registerVersion(Ote,Dte);const Lte="AIzaSyDM8mIKG75bihhtAtwpEpCAcH5FA9Zm2IM",Mte={apiKey:Lte,authDomain:"resume-bbd43.firebaseapp.com",databaseURL:"https://resume-bbd43-default-rtdb.firebaseio.com",projectId:"resume-bbd43",storageBucket:"resume-bbd43.appspot.com",messagingSenderId:"899941858131",appId:"1:899941858131:web:44e23ae6642e4ccb36ffa6",measurementId:"G-17LKMEH19D"},Fte=te.initializeApp(Mte),jte=Fte.firestore(),Ute=e=>{const[t,n]=H.useState({name:"",email:"",message:""}),[r,i]=H.useState(!1),{setPageLocation:s}=H.useContext(ga);H.useContext(zi);const a=H.useRef();H.useEffect(()=>(window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)),[]);const l=()=>{window.pageYOffset+window.innerHeight>=a.current.offsetTop+125&&s("contact")};function c(w){for(var I="",E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",T=10,S=0;S<w;S++)I+=E.charAt(Math.floor(Math.random()*T));return I}const h=w=>{n(I=>({...I,[w.target.name]:w.target.value}))};function p(w){var I=new Date,E=t.name+"-"+I.getTime(),T=String(I.getMonth()+1)+"-"+String(I.getDate())+"-"+String(I.getFullYear()),S=()=>{var M;return I.getMinutes()<10?M="0"+I.getUTCMinutes():M=String(I.getUTCMinutes()),M},R=String(I.getHours())+":"+S()+"."+String(I.getSeconds()),P=c(10);jte.collection("messages").doc(E).set({name:t.name,email:t.email,message:t.message,date:T,time:R,timezone:I.getTimezoneOffset(),id:P}).then(()=>{console.log("Great news! Message sent successfully!")}).catch(M=>{console.error("Krikey! Error sending message: ",M)}),r||i(!0)}function g(){i(!1)}let m={margin:"auto",display:"block",padding:"2px 25px",outline:"none",background:"rgba(255, 71, 70, 1)",color:"white",fontWeight:"bold",fontSize:"1.4em",width:"100%",border:"0pt solid white",fontFamily:"Cabin"},y={margin:"auto",display:"block",padding:"5px 25px",outline:"none",background:"white",border:"1pt solid rgba(255,71,70)",color:"black",fontSize:"1.2em",borderRadius:"25px",fontFamily:"Cabin"};return k.jsxs("div",{className:"container",id:"contact-container",ref:a,children:[k.jsx("div",{children:k.jsxs("p",{style:{textAlign:"center",display:"none"},children:["Schedule an appointment",k.jsx("a",{style:{},href:"https://calendly.com/sleighs",target:"blank",children:"here"})]})}),r?k.jsxs("div",{className:"msg",style:{textAlign:"center"},children:[k.jsx("br",{}),k.jsx("p",{style:{fontSize:"1.2em"},children:"Message sent!"}),k.jsx("button",{className:"new-message-btn",style:y,onClick:w=>{g()},children:"New Message"})]}):k.jsxs("form",{className:"contact-form",children:[k.jsx("div",{style:{display:"none"},children:k.jsx("p",{children:"Or use this contact form below:"})}),k.jsxs("div",{style:{display:"none"},className:"form-group contact-form__input-container",children:[k.jsx("label",{name:"inputName",className:"form-text",children:"Name"}),k.jsx("input",{type:"text",className:"form-control",id:"name-input",name:"name",value:t.name,onChange:w=>{h(w)}})]}),k.jsxs("div",{className:"form-group contact-form__input-container",children:[k.jsx("label",{name:"inputEmail",className:"form-text",children:"Email"}),k.jsx("input",{type:"email",className:"form-control",id:"email-input",placeholder:"your@email.com","aria-describedby":"emailHelp",value:t.email,name:"email",onChange:w=>{h(w)}})]}),k.jsxs("div",{className:"form-group contact-form__input-container",children:[k.jsx("label",{name:"inputMessage",className:"form-text",children:"Message"}),k.jsx("textarea",{type:"text",className:"form-control form-msg",id:"message-input",placeholder:"Message...",name:"message",value:t.message,onChange:w=>{h(w)}})]}),k.jsx("input",{type:"submit",className:"input for-control submit",style:m,value:"Send",onClick:w=>{w.preventDefault(),p()}})]})]})};function Vte(){const{theme:e}=H.useContext(zi);return k.jsxs("div",{className:`contact__info contact__info-${e}`,children:[k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link1`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"mailto:wsright987@gmail.com",rel:"noreferrer",children:"swrightdev@gmail.com"})]}),k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link2`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-github",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"http://github.com/sleighs",rel:"noreferrer",children:"github.com/sleighs"})]}),k.jsxs("div",{className:`home-contact-info__link-${e} home-contact-info__link3`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-phone-fill",viewBox:"0 0 16 16",style:{width:20,marginRight:8,marginBottom:4},children:k.jsx("path",{d:"M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"})}),k.jsx("a",{className:"contact-info-link",target:"_blank",href:"tel:609-472-2897",rel:"noreferrer",children:"+1 609 472 2897"})]})]})}const Bte=e=>{const t=[{latin:"Audentes fortuna iuvat",english:"Fortune favors the bold",author:"Virgil"},{latin:"Fiat justitia, ruat caelum",english:"Let justice be done, though the heavens fall",author:"Anonymous"},{latin:"Astra inclinant, sed non obligant",english:"The stars incline us, they do not bind us",author:"Anonymous"},{latin:"Aut viam inveniam aut faciam",english:"I will either find a way or make one",author:"Hannibal"}];let n=t[Math.floor(Math.random()*t.length)];const[r,i]=H.useState(n);return H.useEffect(()=>{console.table(n),i({title:n.latin,text:n.english,author:n==null?void 0:n.author})},[]),k.jsxs("footer",{id:"footer-container",children:[k.jsxs("div",{className:"footer-icons",children:[k.jsx("a",{className:"footer-info-link",style:{marginRight:18},target:"_blank",href:"mailto:wsright987@gmail.com",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"})})}),k.jsx("a",{className:"footer-info-link",style:{marginRight:16,display:"none"},target:"_blank",href:"tel:6094722897",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-phone-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"})})}),k.jsx("a",{className:"footer-info-link",style:{marginRight:16},target:"_blank",href:"http://github.com/sleighs",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-github",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})}),k.jsx("a",{className:"footer-info-link",target:"_blank",href:"https://www.linkedin.com/in/samuelwrightdev/",rel:"noreferrer",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-linkedin",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"})})})]}),k.jsxs("div",{className:"footer-text",children:[k.jsx("p",{style:{display:"none"},children:"2023  Created by Samuel Wright"}),k.jsx("p",{id:"proverb",style:{padding:"5px 0px 7px 0px"},title:`"${r==null?void 0:r.title}" ${r!=null&&r.author?"-"+r.author:""}`,children:`${r==null?void 0:r.text}`})]})]})};function $te(){const{lightbulb:e,changeTheme:t}=H.useContext(zi);return k.jsx("div",{className:"theme-toggle",onClick:t,children:e?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-lightbulb-off-fill",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M2 6c0-.572.08-1.125.23-1.65l8.558 8.559A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm10.303 4.181L3.818 1.697a6 6 0 0 1 8.484 8.484zM5 14.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1-.5-.5zM2.354 1.646a.5.5 0 1 0-.708.708l12 12a.5.5 0 0 0 .708-.708l-12-12z"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-lightbulb",viewBox:"0 0 16 16",children:k.jsx("path",{d:"M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"})})})}function qte(e){const{pageLocation:t,setPageLocation:n}=H.useContext(ga),{theme:r}=H.useContext(zi),[i,s]=H.useState(!1),[a,l]=H.useState(0),c=m=>{document.getElementById(m).scrollIntoView({behavior:"smooth",block:"start"})},h=()=>{const m=window.pageYOffset;l(m)};H.useEffect(()=>(window.addEventListener("scroll",h,{passive:!0}),()=>{window.removeEventListener("scroll",h)}),[]);const p={boxShadow:r==="dark"&&a>775?"0px 0px 1px 1px rgba(255, 255, 255, 0.1)":""},g=window.innerWidth<=550;return k.jsxs("nav",{className:`navigation navigation-${r}`,style:p,children:[k.jsxs("div",{className:"main-nav",children:[k.jsx("div",{className:"nav-location",children:k.jsxs("div",{className:"nav-location__title",children:[k.jsx("span",{className:"nav-location__title-red",style:{display:"none"},children:`${t}`}),k.jsx("span",{className:"nav-location__title2",style:{display:"none"},children:" // "}),k.jsx("span",{className:"nav-location__title",onClick:()=>{c("home"),n("home")},children:g?"":"samuelwright.dev"})]})}),k.jsx("button",{className:`hamburger hamburger-${r}`,onClick:()=>{s(!i)},children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:k.jsx("path",{fillRule:"evenodd",d:`
                M3 5a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1 
                1 0 01-1-1z 
                
                M3 10a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1
                1 0 01-1-1z  
                
                M3 15a1 
                1 0 011-1h12a1 
                1 0 110 2H4a1 
                1 0 01-1-1z`,clipRule:"evenodd"})})}),k.jsx("div",{className:i?"navigation-menu expanded":"navigation-menu",children:k.jsxs("ul",{children:[k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="home"?"nav-link-highlighted main-nav__list-item":"nav-link-normal main-nav__list-item main-nav__list-item-"+r,onClick:()=>{c("home"),n("home"),s(!i)},children:g?"samuelwright.dev":"home"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="projects"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("projects"),c("projects"),s(!i)},children:"projects"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="about"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("about"),c("about"),s(!i)},children:"about"})}),k.jsx("li",{className:"main-nav__list-item-container",style:{display:"none"},children:k.jsx("div",{className:t==="skills"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("skills"),c("skills"),s(!i)},children:"skills"})}),k.jsx("li",{className:"main-nav__list-item-container",style:{display:"none"},children:k.jsx("div",{className:t==="work"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("work"),c("work"),s(!i)},children:"work"})}),k.jsx("li",{className:"main-nav__list-item-container",children:k.jsx("div",{className:t==="contact"?"nav-link-highlighted main-nav__list-item":`nav-link-normal main-nav__list-item main-nav__list-item-${r}`,onClick:()=>{n("contact"),c("contact"),s(!i)},children:"contact"})})]})})]}),k.jsx($te,{})]})}function zte(){const{theme:e}=H.useContext(zi),{setPageLocation:t}=H.useContext(ga),n=H.useRef();H.useEffect(()=>(window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)),[]);const r=()=>{window.pageYOffset+window.innerHeight>=n.current.offsetTop&&t("home")};return k.jsx("div",{className:"about-intro about-intro-"+e,ref:n,style:{overflow:"hidden",maxWidth:"100vw"},children:k.jsxs("p",{className:"about-intro__text",children:["Hi, I'm Samuel Wright, a ",k.jsx("strong",{children:"full stack web developer"})," focused on creating ",k.jsx("strong",{children:"beautiful"})," and ",k.jsx("strong",{children:"user friendly"})," applications while writing ",k.jsx("strong",{children:"clean code"}),"."]})})}const Hte=e=>{const{theme:t}=H.useContext(zi);return k.jsxs("div",{id:"home-container",children:[k.jsxs("div",{className:"intro-container intro-container-"+t,id:"home",children:[k.jsx(zte,{}),k.jsx(Vte,{})]}),k.jsx("div",{className:"section-header section-header-first",id:"projects",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"Projects"})})}),k.jsx("div",{className:"home-projects__container",children:k.jsx(c3,{})}),k.jsx("div",{className:"section-header",id:"about",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"About"})})}),k.jsx(i3,{}),k.jsx("div",{className:"section-header",id:"contact",children:k.jsx("h3",{className:"section-title",children:k.jsx("strong",{children:"Contact"})})}),k.jsx(Ute,{})]})},Wte=e=>{const{pageLocation:t,setPageLocation:n}=H.useContext(ga),{theme:r}=H.useContext(zi);return k.jsxs("div",{id:"app",className:`app-${r}`,children:[k.jsx(qte,{pageLocation:t,setPageLocation:n}),k.jsx(Mz,{children:k.jsx($D,{path:"/",element:k.jsx(Hte,{})})}),k.jsx(Bte,{}),k.jsx("div",{className:"app-container hidden"})]})},Kte=document.getElementById("root");Z5.render(k.jsx(jz,{children:k.jsx(r3,{children:k.jsx(n3,{children:k.jsx(Wte,{})})})}),Kte);
