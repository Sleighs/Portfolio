{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/samuelwright/Projects/portfolio/src/Components/Contact/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { DataContext } from '../../Context/DataContext';\nimport { db } from '../../firebase';\nimport './style.css';\n\nconst Contact = props => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    message: '',\n    dataSent: ''\n  });\n  const {\n    setPageLocation\n  } = useContext(DataContext);\n  const hiddenRef = useRef();\n  useEffect(() => {\n    window.addEventListener('scroll', scrollHandler);\n    return () => window.removeEventListener('scroll', scrollHandler);\n  }, []);\n\n  const scrollHandler = () => {\n    if (window.pageYOffset + window.innerHeight >= hiddenRef.current.offsetTop + 125) {\n      setPageLocation('contact');\n    }\n  };\n\n  function makeid(length) {\n    var result = \"\";\n    var characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    var charactersLength = 10;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  }\n\n  const handleChange = e => {\n    setFormData(prevData => {\n      return { ...prevData,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  function handleSubmit(event) {\n    event.preventDafault(); // Make a unique name for the message\n\n    var d = new Date();\n    var msgName = String(this.state.name + '-' + d.getTime()); // Get date of message\n\n    var date = String(d.getMonth() + 1) + '-' + String(d.getDate()) + '-' + String(d.getFullYear()); // Get time of message\n\n    var minutes = () => {\n      var a;\n\n      if (d.getMinutes() < 10) {\n        a = String('0' + d.getUTCMinutes());\n      } else {\n        a = String(d.getUTCMinutes());\n      }\n\n      return a;\n    };\n\n    var time = String(d.getHours()) + ':' + minutes() + '.' + String(d.getSeconds()); // Make new id\n\n    var id = makeid(10); // Add message to database\n\n    db.collection(\"messages\").doc(msgName).set({\n      name: this.state.name,\n      email: this.state.email,\n      message: this.state.message,\n      date: date,\n      time: time,\n      timezone: d.getTimezoneOffset(),\n      id: id\n    }).then(() => {\n      console.log(\"Great news! Message sent successfully!\");\n      /*console.log({\n          name: this.state.name,\n          email: this.state.email,\n          message: this.state.message,\n          date: date,\n          time: time,\n          timezone: d.getTimezoneOffset(),\n          id: id\n      })*/\n    }).catch(error => {\n      console.error(\"Krikey! Error sending message: \", error);\n    }); // For component to show message was sent\n\n    if (!formData.dataSent) {\n      setFormData(prevData => {\n        return { ...prevData,\n          dataSent: true\n        };\n      });\n    }\n  }\n\n  function resetSend() {\n    setFormData(prevData => {\n      return { ...prevData,\n        dataSent: false\n      };\n    });\n  }\n\n  let contactInfoStyle = {\n    textAlign: 'center',\n    marginTop: 15,\n    width: '100%'\n  };\n  let contactInfoStyle2 = {\n    textAlign: 'center',\n    fontSize: '.8em',\n    color: 'rgb(1,1,1,.25)'\n  };\n  let formOptionStyle = {\n    textAlign: 'center'\n  };\n  let contactFormStyle = {\n    maxWidth: 450,\n    margin: 'auto',\n    padding: '0 3%'\n  };\n  let contactFormBtn = {\n    margin: 'auto',\n    display: 'block',\n    padding: '5px 25px',\n    outline: 'none',\n    background: 'rgba(0, 187, 16, .5)',\n    border: '1pt solid white',\n    color: 'white',\n    fontSize: '1.2em',\n    borderRadius: '25px'\n  };\n  let contactFormBtn2 = {\n    margin: 'auto',\n    display: 'block',\n    padding: '5px 25px',\n    outline: 'none',\n    background: 'lightgray',\n    border: '1pt solid white',\n    color: 'white',\n    fontSize: '1.2em',\n    borderRadius: '25px'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"contact-container\",\n    ref: hiddenRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          display: 'none'\n        },\n        children: [\"Schedule an appointment\", /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {},\n          href: \"https://calendly.com/sleighs\",\n          target: \"blank\",\n          children: \"here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), this.state.dataSent ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"msg\",\n      style: {\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1.2em'\n        },\n        children: \"Great news! Message sent successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"new-message-btn\",\n        style: contactFormBtn2,\n        onClick: e => {\n          resetSend();\n        },\n        children: \"New Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      style: contactFormStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: formOptionStyle,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Or use this contact form below:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          name: \"inputName\",\n          children: \"Your Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"name-input\",\n          name: \"name\",\n          value: formData.name,\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          name: \"inputEmail\",\n          children: \"Your Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"email-input\",\n          \"aria-describedby\": \"emailHelp\",\n          value: formData.email,\n          name: \"email\",\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          name: \"inputMessage\",\n          className: \"form-text\",\n          children: \"Your Message \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"message-input\",\n          name: \"message\",\n          value: formData.message,\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"input for-control submit\",\n        style: contactFormBtn,\n        value: \"Send\",\n        onClick: e => {\n          handleSubmit(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Contact, \"m8Fpiq0Kp/QAXI3RbyCzef9GyBk=\");\n\n_c = Contact;\nexport default Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"sources":["/Users/samuelwright/Projects/portfolio/src/Components/Contact/index.js"],"names":["React","useContext","useEffect","useRef","useState","DataContext","db","Contact","props","formData","setFormData","name","email","message","dataSent","setPageLocation","hiddenRef","window","addEventListener","scrollHandler","removeEventListener","pageYOffset","innerHeight","current","offsetTop","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","handleChange","e","prevData","target","value","handleSubmit","event","preventDafault","d","Date","msgName","String","state","getTime","date","getMonth","getDate","getFullYear","minutes","a","getMinutes","getUTCMinutes","time","getHours","getSeconds","id","collection","doc","set","timezone","getTimezoneOffset","then","console","log","catch","error","resetSend","contactInfoStyle","textAlign","marginTop","width","contactInfoStyle2","fontSize","color","formOptionStyle","contactFormStyle","maxWidth","margin","padding","contactFormBtn","display","outline","background","border","borderRadius","contactFormBtn2"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { DataContext } from '../../Context/DataContext';\n\nimport { db } from '../../firebase';\nimport './style.css'\n\nconst Contact = (props) => {\n    const [formData, setFormData] = useState({\n        name: '',\n        email: '',\n        message: '',\n        dataSent: ''\n   })\n\n    const { setPageLocation } = useContext(DataContext)\n\n    const hiddenRef = useRef();\n\n    useEffect(() => {\n        window.addEventListener('scroll', scrollHandler);\n        return () => window.removeEventListener('scroll', scrollHandler);\n    }, []);\n    \n    const scrollHandler = () => {\n        if(window.pageYOffset + window.innerHeight >= hiddenRef.current.offsetTop + 125) {\n            setPageLocation('contact')\n        }\n    }\n\n    function makeid(length) {\n        var result = \"\";\n        var characters =\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n        var charactersLength = 10;\n        for (var i = 0; i < length; i++) {\n          result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n\n    const handleChange = e => {\n        setFormData(prevData => {\n            return {\n                ...prevData,\n                [e.target.name]: e.target.value\n            }\n        })\n    }\n\n    function handleSubmit(event) {\n        event.preventDafault()\n\n        // Make a unique name for the message\n        var d = new Date();\n        var msgName = String(this.state.name + '-' + d.getTime());\n\n        // Get date of message\n        var date = String( d.getMonth() + 1) + '-' + String( d.getDate()) + '-' + String(d.getFullYear())\n\n        // Get time of message\n        var minutes = ()=>{\n            var a;\n            if (d.getMinutes() < 10) {\n                a = String('0' + d.getUTCMinutes());\n            } else {\n                a = String(d.getUTCMinutes());\n            }\n\n            return a;\n        }\n\n        var time = String(d.getHours()) + ':' + minutes() + '.' + String(d.getSeconds());\n        \n        // Make new id\n        var id = makeid(10);\n\n        // Add message to database\n        db.collection(\"messages\").doc(msgName).set({\n            name: this.state.name,\n            email: this.state.email,\n            message: this.state.message,\n            date: date,\n            time: time,\n            timezone: d.getTimezoneOffset(),\n            id: id\n        })\n        .then(() => {\n            console.log(\"Great news! Message sent successfully!\");\n            /*console.log({\n                name: this.state.name,\n                email: this.state.email,\n                message: this.state.message,\n                date: date,\n                time: time,\n                timezone: d.getTimezoneOffset(),\n                id: id\n            })*/\n        })\n        .catch((error) => {\n            console.error(\"Krikey! Error sending message: \", error);\n        });\n\n        // For component to show message was sent\n        if (!formData.dataSent){\n            setFormData(prevData => {\n                return {\n                    ...prevData,\n                    dataSent: true\n                }\n            });\n        } \n    }\n\n    function resetSend() {\n        setFormData(prevData => {\n            return {\n                ...prevData,\n                dataSent: false\n            }\n        });\n    }\n    \n    \n    let contactInfoStyle = {\n        textAlign: 'center',\n        marginTop: 15,\n        width: '100%',\n    }\n    let contactInfoStyle2 = {\n        textAlign: 'center',\n        fontSize: '.8em',\n        color: 'rgb(1,1,1,.25)',\n    }\n    let formOptionStyle = {\n        textAlign: 'center'\n    }\n    let contactFormStyle = {\n        maxWidth: 450,\n        margin: 'auto',\n        padding: '0 3%',\n    }\n    let contactFormBtn = {\n        margin: 'auto',\n        display: 'block',\n        padding: '5px 25px',\n        outline: 'none',\n        background: 'rgba(0, 187, 16, .5)',\n        border: '1pt solid white',\n        color: 'white',\n        fontSize: '1.2em',\n        borderRadius: '25px',\n    }\n    let contactFormBtn2 = {\n        margin: 'auto',\n        display: 'block',\n        padding: '5px 25px',\n        outline: 'none',\n        background: 'lightgray',\n        border: '1pt solid white',\n        color: 'white',\n        fontSize: '1.2em',\n        borderRadius: '25px',\n    }\n        \n    return (\n        <div className={\"container\"} id=\"contact-container\" ref={hiddenRef}>\n            <div>\n                <p style={{\n                    textAlign: 'center',\n                    display: 'none',\n                }}>\n                    Schedule an appointment \n                    <a style={{\n                    \n                    }} href=\"https://calendly.com/sleighs\" target=\"blank\">here</a>\n                </p>\n            </div>\n\n            {this.state.dataSent ?\n            <div className=\"msg\"style={{ textAlign: 'center' }}>\n                <br/>\n                <p style={{ fontSize: '1.2em' }}>Great news! Message sent successfully!</p>\n                <button className=\"new-message-btn\" \n                    style={contactFormBtn2} \n                    onClick={(e)=>{resetSend()}}>New Message</button>\n            </div> :\n            <form style={contactFormStyle} >\n                <div style={formOptionStyle}>\n                    <p>Or use this contact form below:</p>\n                </div>\n                <div className=\"form-group\"> \n                    <label name=\"inputName\">Your Name</label>\n                    <input type=\"text\" \n                        className=\"form-control\" \n                        id=\"name-input\" \n                        name=\"name\" value={formData.name}  \n                        onChange={(e)=>{handleChange(e)}}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label name=\"inputEmail\">Your Email</label>\n                    <input type=\"email\" \n                        className=\"form-control\" \n                        id=\"email-input\" \n                        aria-describedby=\"emailHelp\" \n                        value={formData.email} \n                        name=\"email\"\n                        onChange={(e)=>{handleChange(e)}}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label name=\"inputMessage\" className=\"form-text\">Your Message </label>\n                    <textarea type=\"text\" \n                        className=\"form-control\" \n                        id=\"message-input\" \n                        name=\"message\" \n                        value={formData.message} \n                        onChange={(e)=>{handleChange(e)}}                    />\n                </div>\n                <input type=\"submit\" className={\"input for-control submit\"} style={contactFormBtn} value=\"Send\" onClick={(e)=>{handleSubmit(e)}}/>\n                </form>}\n        </div>\n    )\n}\n\nexport default Contact;"]},"metadata":{},"sourceType":"module"}