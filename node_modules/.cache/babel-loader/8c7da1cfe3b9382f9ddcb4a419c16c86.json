{"ast":null,"code":"import { AmbientLight, DirectionalLight, Vector3 } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction linkKapsule(kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3\n}; //\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170; //\n// Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n}))); // Expose config from renderObjs\n\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}])); //\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n\n        if (controls) {\n          controls.enabled = enable; // trigger mouseup on re-enable to prevent sticky controls\n\n          enable && controls.domElement && controls.domElement.dispatchEvent(new PointerEvent('pointerup'));\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      } // Frame cycle\n\n\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n        rendererConfig = _ref5.rendererConfig,\n        extraRenderers = _ref5.extraRenderers;\n    return {\n      forceGraph: new ThreeForceGraph(),\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      })\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add renderObjs\n\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z; // Add info space\n\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = ''; // config forcegraph\n\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData(); // re-aim camera, if still in default position (not user modified)\n\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n\n        }\n\n        state._dragControls = undefined;\n      }\n\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programmatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n          // track drag object movement\n\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n\n          var node = getGraphObj(event.object).__data;\n\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          }); // lock node\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          }); // drag cursor\n\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n\n            prevPos.copy(_newPos);\n\n            _newPos.copy(initPos); // reset child back to its initial position\n\n          }\n\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          }; // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          delete event.object.__initialPos; // remove tracking attributes\n\n          delete event.object.__prevPos;\n\n          var node = getGraphObj(event.object).__data; // dispose previous controls if needed\n\n\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent( // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          } // clear cursor\n\n\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    }); // config renderObjs\n\n    state.renderObjs.objects([// Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.forceGraph]).hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1; // Prioritize nodes over links\n\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        } // set pointer if hovered object is clickable\n\n\n        renderer.domElement.classList[hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    }); //\n    // Kick-off renderer\n\n    this._animationCycle();\n  }\n}); //\n\n\nfunction getGraphObj(object) {\n  var obj = object; // recurse up object chain until finding the graph object\n\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n\n  return obj;\n}\n\nexport { _3dForceGraph as default };","map":{"version":3,"sources":["/Users/samuelwright/Projects/portfolio/node_modules/3d-force-graph/dist/3d-force-graph.mjs"],"names":["AmbientLight","DirectionalLight","Vector3","DragControls","ThreeForceGraph","ThreeRenderObjects","accessorFn","Kapsule","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","len","arr2","TypeError","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","String","Number","arg","linkKapsule","kapsulePropName","kapsuleType","dummyK","linkProp","prop","onChange","v","state","triggerUpdate","linkMethod","method","kapsuleInstance","_len","args","_key","returnVal","three","window","THREE","CAMERA_DISTANCE2NODES_FACTOR","bindFG","linkedFGProps","assign","map","p","linkedFGMethods","bindRenderObjs","linkedRenderObjsProps","linkedRenderObjsMethods","concat","graph2ScreenCoords","screen2GraphCoords","_3dForceGraph","props","nodeLabel","linkLabel","linkHoverPrecision","renderObjs","lineHoverPrecision","enableNavigationControls","enable","controls","enabled","domElement","dispatchEvent","PointerEvent","enableNodeDrag","onNodeDrag","_default","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","methods","zoomToFit","transitionDuration","padding","_state$forceGraph","bboxArgs","fitToBbox","forceGraph","getGraphBbox","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","enablePointerInteraction","renderer","cursor","tickFrame","tick","requestAnimationFrame","scene","camera","tbControls","_destructor","graphData","nodes","links","stateInit","_ref5","controlType","rendererConfig","extraRenderers","init","domNode","innerHTML","container","position","roDomNode","lastSetCameraZ","z","infoElem","className","textContent","onLoading","onFinishLoading","onUpdate","x","y","lookAt","Math","cbrt","onFinishUpdate","_dragControls","curNodeDrag","find","node","__initialFixedPos","__disposeControlsAfterDrag","dispose","forceEngine","dragControls","__threeObj","addEventListener","event","__initialPos","clone","__prevPos","getGraphObj","__data","fx","fy","fz","c","classList","add","nodeObj","hasOwnProperty","initPos","prevPos","_newPos","sub","copy","newPos","translate","d3AlphaTarget","resetCountdown","__dragged","initFixedPos","fc","ownerDocument","pointerType","remove","objects","hoverOrderComparator","a","b","aObj","bObj","isNode","__graphObjType","tooltipContent","graphObj","hoverDuringDrag","onHover","hoverObj","prevObjType","prevObjData","objType","objData","fn","_fn","clickAfterDrag","onClick","ev","onRightClick","parent","default"],"mappings":"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","sourcesContent":["import { AmbientLight, DirectionalLight, Vector3 } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3\n};\n\n//\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170;\n\n//\n\n// Expose config from forceGraph\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}]));\n\n//\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n        if (controls) {\n          controls.enabled = enable;\n          // trigger mouseup on re-enable to prevent sticky controls\n          enable && controls.domElement && controls.domElement.dispatchEvent(new PointerEvent('pointerup'));\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      }\n\n      // Frame cycle\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n      rendererConfig = _ref5.rendererConfig,\n      extraRenderers = _ref5.extraRenderers;\n    return {\n      forceGraph: new ThreeForceGraph(),\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      })\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z;\n\n    // Add info space\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = '';\n\n    // config forcegraph\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData();\n\n      // re-aim camera, if still in default position (not user modified)\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n        }\n\n        state._dragControls = undefined;\n      }\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programmatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n\n          // track drag object movement\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n          var node = getGraphObj(event.object).__data;\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          });\n\n          // lock node\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          });\n\n          // drag cursor\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n            prevPos.copy(_newPos);\n            _newPos.copy(initPos); // reset child back to its initial position\n          }\n\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          };\n          // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          delete event.object.__initialPos; // remove tracking attributes\n          delete event.object.__prevPos;\n          var node = getGraphObj(event.object).__data;\n\n          // dispose previous controls if needed\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent(\n            // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          }\n\n          // clear cursor\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    });\n\n    // config renderObjs\n    state.renderObjs.objects([\n    // Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.forceGraph]).hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1;\n\n      // Prioritize nodes over links\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        renderer.domElement.classList[hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n//\n\nfunction getGraphObj(object) {\n  var obj = object;\n  // recurse up object chain until finding the graph object\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n  return obj;\n}\n\nexport { _3dForceGraph as default };\n"]},"metadata":{},"sourceType":"module"}